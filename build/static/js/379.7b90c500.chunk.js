"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[379],{96110:function(e,t,n){var a=n(1413),s=n(29439),o=n(78756),i=n(72791),c=n(64946),r=n(93271),l=n(83832),d=n(19741),u=n(40008),m=n(40872),h=n(81838),p=n(81541),f=n(87309),x=n(72426),g=n.n(x),j=n(80184);t.Z=function(e){var t=e.searchText,n=e.custId,x=(0,i.useState)([]),b=(0,s.Z)(x,2),Z=b[0],v=b[1],y=(0,i.useState)(!1),I=(0,s.Z)(y,2),S=I[0],A=I[1],N=localStorage.getItem("token"),C=[{title:"ID",dataIndex:"id"},{title:"Contract ID",dataIndex:"tc_contract_id"},{title:"Jobsite Name",dataIndex:"jobsite_name"},{title:"Total Tasks",dataIndex:"total_tasks"},{title:"Net Amount (S$)",dataIndex:"total"},{title:"Paid amount (S$)",dataIndex:"amount_paid",render:function(e,t){return(0,j.jsx)("div",{children:t.amount_paid||0})}},{title:"Invoice Date",dataIndex:"created_at",render:function(e,t){return(0,j.jsx)("div",{children:g()(t.created_at).format("DD-MM-YYYY")})}},{title:"Status",dataIndex:"status",render:function(e,t){return"Paid"===t.status||"PAID"===t.status?(0,j.jsx)("span",{style:{color:"#00AB6F",backgroundColor:"#EDFFF9",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Paid"}):"Overdue"===t.status||"OVERDUE"===t.status?(0,j.jsx)("span",{style:{color:"#F53434",backgroundColor:"#FFF2F2",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Overdue"}):(0,j.jsx)("span",{style:{color:"#FFC700",backgroundColor:"#FFC7001A",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Pending"})}},{title:"Action",render:function(e,t){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(m.Z,{menu:(0,j.jsxs)(h.Z,{children:[(0,j.jsx)(h.Z.Item,{children:(0,j.jsxs)(d.rU,{to:"/app/contract-management/quotations/view-invoice/".concat(t.id),className:"d-flex align-items-center",children:[(0,j.jsx)(c.Z,{component:r.Tx}),"View Invoice"]})}),(0,j.jsx)(h.Z.Item,{children:(0,j.jsxs)(d.rU,{to:"/app/contract-management/quotations/edit-invoice/".concat(t.id),className:"d-flex align-items-center",children:[(0,j.jsx)(c.Z,{className:"mr-2",component:l.dY}),"Edit"]})}),(0,j.jsx)(h.Z.Item,{onClick:function(){w()},children:(0,j.jsxs)("span",{className:"d-flex align-items-center",children:[(0,j.jsx)(c.Z,{className:"mr-2",component:l.pJ}),"Delete"]})}),(0,j.jsx)(p.Z,{visible:S,centered:!0,footer:[(0,j.jsx)(f.Z,{style:{color:"#000B23"},onClick:k,className:"font-weight-bold",children:"No, Cancel"}),(0,j.jsx)(f.Z,{type:"primary",className:"font-weight-bold",onClick:function(){return _(t.id)},children:"Yes, Confirm"})],children:(0,j.jsx)("div",{style:{color:"#000B23"},className:"font-weight-bolder font-size-md",children:"Are Sure you want to delete this invoice?"})})]})})})}}],k=function(){A(!1)},_=function(e){F(e),A(!1)},w=function(){A(!0)},F=function(e){console.log("Invoice deleted",e),(0,u.Z)({method:"post",url:"/api/tc/delete-invoice",data:{id:e},headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){console.log(t.data),v(Z.filter((function(t){return t.id!==e})))})).then((function(e){console.log(e)}))};return(0,i.useEffect)((function(){var e={customer_id:n};(0,u.Z)({method:"post",url:"/api/tc/get-invoices",data:e}).then((function(e){console.log(e.data),e.data.success?v(e.data.data.data.map((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{index:t+1})}))):console.log(e)})).then((function(e){console.log(e)}))}),[]),(0,i.useEffect)((function(){var e={customer_id:n,search:t};(0,u.Z)({method:"post",url:"/api/tc/get-invoices",data:e}).then((function(e){console.log(e.data),e.data.success?v(e.data.data.data.map((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{index:t+1})}))):console.log(e)})).then((function(e){console.log(e)}))}),[t]),(0,j.jsx)("div",{children:(0,j.jsx)(o.Z,{columns:C,dataSource:Z})})}},73034:function(e,t,n){var a=n(1413),s=n(29439),o=n(78756),i=n(72791),c=(n(93271),n(40008)),r=n(72426),l=n.n(r),d=n(80184),u=[];t.Z=function(e){var t=e.searchText,n=e.custId,r=(0,i.useState)(u),m=(0,s.Z)(r,2),h=m[0],p=m[1],f=[{title:"ID",dataIndex:"id"},{title:"Contract ID",dataIndex:"id"},{title:"Jobsite Name",dataIndex:"jobSite"},{title:"Total Tasks",dataIndex:"tasks"},{title:"Net Amount(S$)",dataIndex:"netAmount"},{title:"Paid Amount(S$)",dataIndex:"paid",render:function(e,t){return(0,d.jsx)("div",{children:t.amount_paid||0})}},{title:"Payment Date",dataIndex:"created_at",render:function(e,t){return(0,d.jsx)("div",{children:l()(t.created_at).format("DD-MM-YYYY")})}},{title:"Status",dataIndex:"status",render:function(e,t){return"Paid"===t.status||"PAID"===t.status?(0,d.jsx)("span",{style:{color:"#00AB6F",backgroundColor:"#EDFFF9",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Paid"}):"Overdue"===t.status||"OVERDUE"===t.status?(0,d.jsx)("span",{style:{color:"#F53434",backgroundColor:"#FFF2F2",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Overdue"}):(0,d.jsx)("span",{style:{color:"#FFC700",backgroundColor:"#FFC7001A",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Pending"})}}];return(0,i.useEffect)((function(){var e={customer_id:n};(0,c.Z)({method:"post",url:"/api/tc/get-payment",data:e}).then((function(e){console.log(e.data),e.data.success?p(e.data.data.data.map((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{index:t+1})}))):console.log(e)})).then((function(e){console.log(e)}))}),[]),(0,i.useEffect)((function(){var e={customer_id:n,search:t};(0,c.Z)({method:"post",url:"/api/tc/get-payment",data:e}).then((function(e){console.log(e.data),e.data.success?p(e.data.data.data.map((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{index:t+1})}))):console.log(e)})).then((function(e){console.log(e)}))}),[t]),(0,d.jsx)("div",{children:(0,d.jsx)(o.Z,{columns:f,dataSource:h})})}},99379:function(e,t,n){n.r(t),n.d(t,{default:function(){return $e}});var a=n(72791),s=n(59305),o=n(88515),i=n(29439),c=n(81838),r=n(87309),l=n(83746),d=n(19741),u=n(92492),m=n(2885),h=n(61202),p=n(74165),f=n(15861),x=n(78756),g=n(81541),j=n(1413),b=n(49389),Z=n(50419),v=n(50881),y=n(64946),I=n(83832),S=n(40872),A=n(40008),N=n(19969),C=n(57520),k=n(80184),_=b.Z.TextArea;var w=function(e){var t=e.id,n=e.customerData,s=e.onDelete,o=e.getCustomers,l=(0,a.useState)(!1),u=(0,i.Z)(l,2),m=u[0],h=u[1],p=(0,a.useState)(!1),f=(0,i.Z)(p,2),x=f[0],b=f[1],N=(0,a.useState)("Approved"),C=(0,i.Z)(N,2),w=C[0],F=C[1],E=(0,a.useState)(!1),B=(0,i.Z)(E,2),P=B[0],T=B[1],D=localStorage.getItem("token"),z=function(){b(!1)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(S.Z,{menu:(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(c.Z.Item,{children:(0,k.jsxs)(d.rU,{to:"/app/customer-management/customer-accounts/customer-details/".concat(t),className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.K3}),"View Details"]})}),(0,k.jsx)(c.Z.Item,{children:(0,k.jsxs)(d.rU,{to:"/app/customer-management/customer-accounts/edit/".concat(t),className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.dY}),"Edit Details"]})}),(0,k.jsx)(c.Z.Item,{onClick:function(){h(!0)},children:(0,k.jsxs)("span",{className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.pJ}),"Delete"]})}),(0,k.jsx)(c.Z.Item,{onClick:function(){b(!0)},children:(0,k.jsxs)("span",{className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-1",component:I.dp}),"Account Status"]})})]})}),(0,k.jsxs)(g.Z,{visible:m,centered:!0,footer:[(0,k.jsx)(r.Z,{style:{color:"#000B23"},onClick:z,className:"font-weight-bold",children:"No, Cancel"}),(0,k.jsx)(r.Z,{style:{backgroundColor:"#F78DA7",color:"#F5F5F5"},className:"font-weight-bold",onClick:function(){s(t),A.Z.post("/api/tc/delete-customer",{id:t},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(D)}}).then((function(e){var t=e.data;console.log(t)})).catch((function(e){console.log(e)}))},children:"Yes, Confirm"})],children:[(0,k.jsx)("div",{style:{color:"#000B23"},className:"font-weight-bolder font-size-md",children:"Are you sure you want to delete?"}),(0,k.jsx)("p",{style:{color:"#72849A"},className:"font-weight-normal font-size-sm",children:"Customer name will be deleted from the system."})]}),(0,k.jsxs)(g.Z,{visible:x,centered:!0,maskClosable:!0,onCancel:z,title:"Account Status",footer:[(0,k.jsx)(r.Z,{style:{color:"#F5F5F5"},type:"primary",className:"font-weight-bold",onClick:function(){console.log(n),A.Z.post("/api/tc/update-customer",(0,j.Z)((0,j.Z)({},n),{},{id:t,name:n.company,status:w}),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(D)}}).then((function(e){var t=e.data;console.log(t),Z.ZP.success("Account status updated successfully"),b(!1),o()})).catch((function(e){console.log(e),Z.ZP.error("Something went wrong! please try again later"),b(!1)}))},children:"Save"},"submit"),(0,k.jsx)(r.Z,{style:{color:"#000B23"},onClick:function(){F(!1),T(""),b(!1)},className:"font-weight-bold",children:"Cancel"},"cancel")],children:[(0,k.jsx)("div",{children:(0,k.jsxs)(v.ZP.Group,{size:"small",onChange:function(e){return F(e.target.value)},defaultValue:"Approved",children:[(0,k.jsx)(v.ZP,{value:"Approved",children:" Approve "}),(0,k.jsx)(v.ZP,{value:"Rejected",children:" Reject "})]})}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h4",{className:"mb-2 mt-4",children:"Remarks"}),(0,k.jsx)(_,{rows:4,onChange:function(e){return T(e.target.value)},value:P})]})]})]})};n(93114);var F=function(e){var t=e.searchText,n=e.statuses,s=(0,a.useState)([]),o=(0,i.Z)(s,2),c=o[0],r=o[1],l=(0,a.useState)([]),d=(0,i.Z)(l,2),u=d[0],m=d[1],h=(0,a.useState)(1),j=(0,i.Z)(h,2),b=j[0],Z=j[1],v=(0,a.useState)(0),y=(0,i.Z)(v,2),I=y[0],S=y[1],_=localStorage.getItem("token"),F=[{title:"Sr. No.",dataIndex:"srNo"},{title:"Customer ID",dataIndex:"id"},{title:"Customer Company",dataIndex:"company",sorter:function(e,t){return e.company.localeCompare(t.company)}},{title:"Contact Number",dataIndex:"phoneNumber"},{title:"Email Id",dataIndex:"emailId"},{title:"Created By",dataIndex:"created_by"},{title:"Status",dataIndex:"status",render:function(e,t){return"Approved"===t.status||"APPROVED"===t.status?(0,k.jsx)("span",{style:{color:"#00AB6F",backgroundColor:"#EDFFF9",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Active"}):"Rejected"===t.status||"REJECTED"===t.status?(0,k.jsx)("span",{style:{color:"#F53434",backgroundColor:"#FFF2F2",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Rejected"}):"Inactive"===t.status||"INACTIVE"===t.status?(0,k.jsx)("span",{style:{color:"#F53434",backgroundColor:"#FFF2F2",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Inactive"}):(0,k.jsx)("span",{style:{color:"#FFC700",backgroundColor:"#FFC7001A",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Pending Approval"})}},{title:"Action",dataIndex:"",render:function(e,t){return(0,k.jsx)(w,{id:t.id,customerData:t,onDelete:D,getCustomers:z})}}],E=(0,a.useState)(!1),B=(0,i.Z)(E,2),P=B[0],T=B[1],D=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(t){var n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r((function(e){return e.filter((function(e){return e.id!==t}))})),n=c.find((function(e){return e.id===t})),m(n),T(!0),setTimeout((function(){T(!1)}),3e3)}catch(a){console.log(a.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){A.Z.post("/api/tc/get-customers",{page_index:1,page_size:15,search:t||null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(_)}}).then((function(e){var t=e.data.data.data;console.log(t);var n=t.map((function(e,t){var n={};return e.other_details&&(n=JSON.parse(e.other_details)),{srNo:t+1,key:t+1,id:e.id,company:e.name||"",phoneNumber:e.phone||"",emailId:e.email||"",status:e.status||"Pending Approval",created_by:n.created_by||"",other_details:e.other_details}}));r(n),console.log(n)})).catch((function(e){console.log(e)}))};return(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customers",{page_index:1,page_size:15,search:t||null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(_)}}).then((function(e){var t=e.data.data.data;console.log(t);var n=t.map((function(e,t){var n={};return e.other_details&&(n=JSON.parse(e.other_details)),{srNo:t+1,key:t+1,id:e.id,company:e.name||"",phoneNumber:e.phone||"",emailId:e.email||"",status:e.status||"Pending Approval",created_by:n.created_by||"",other_details:e.other_details}}));r(n),console.log(n)})).catch((function(e){console.log(e)}))}),[t]),(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customers",{page_index:1,page_size:15,statuses:n||["ACTIVE","INACTIVE"],search:t||null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(_)}}).then((function(e){var t=e.data.data.data;console.log(t);var n=t.map((function(e,t){var n={};return e.other_details&&(n=JSON.parse(e.other_details)),{srNo:t+1,key:t+1,id:e.id,company:e.name||"",phoneNumber:e.phone||"",emailId:e.email||"",status:e.status||"Pending Approval",created_by:n.created_by||"",other_details:e.other_details}}));r(n)})).catch((function(e){console.log(e)}))}),[n]),(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customers",{page_index:b,page_size:15,searchText:t||null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(_)}}).then((function(e){var t=e.data.data.data;console.log(t);var n=t.map((function(e,t){var n={};return e.other_details&&(n=JSON.parse(e.other_details)),{srNo:t+1,key:t+1,id:e.id,company:e.name||"",phoneNumber:e.phone||"",emailId:e.email||"",status:e.status||"Pending Approval",created_by:n.created_by||"",other_details:e.other_details}}));r(n)})).catch((function(e){console.log(e)}))}),[b]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{children:(0,k.jsx)(x.Z,{scroll:{x:1200},pageSize:"15",columns:F,dataSource:c,onChange:function(e){I<=e.current&&(Z(e.current),S(e.current))}})}),(0,k.jsx)(g.Z,{centered:!0,visible:P,footer:[null],onCancel:function(){T(!1)},children:(0,k.jsx)(N.Z,{icon:C.Ko,title:"Customer Deleted Successfully!",desc:"Customer name ".concat(u.company," has been deleted.")})})]})},E=n(98472);var B=function(){var e=(0,a.useState)([]),t=(0,i.Z)(e,2),n=t[0],s=t[1],o=(0,a.useState)(""),p=(0,i.Z)(o,2),f=p[0],x=p[1],g=(0,a.useState)(1),j=(0,i.Z)(g,2),b=(j[0],j[1]),Z=(0,a.useState)([]),v=(0,i.Z)(Z,2),y=v[0],I=(v[1],(0,a.useState)(["All"])),S=(0,i.Z)(I,2);S[0],S[1];return(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customers",{page_index:1,page_size:1e5,search:null}).then((function(e){var t=e.data.data.data.map((function(e,t){var n={};return e.other_details&&(n=JSON.parse(e.other_details)),{sr_no:t+1,key:t+1,id:e.id,company:e.name||"",phoneNumber:e.phone||"",emailId:e.email||"",status:e.status||"Pending Approval",created_by:n.created_by||""}}));s(t)})).catch((function(e){console.log(e)}))}),[]),c.Z,c.Z.Item,c.Z.SubMenu,c.Z.Item,c.Z.Item,c.Z.Item,(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)(h.Z,{title:"Customer Accounts"}),(0,k.jsx)("div",{className:"d-flex justify-content-between mb-3",children:(0,k.jsxs)("div",{className:" d-flex align-items-center justify-content-between mr-2",children:[(0,k.jsx)(l.Z,{setSearchText:x}),(0,k.jsx)(E.CSVLink,{data:n,headers:[{label:"Sr. No",key:"sr_no"},{label:"Customer ID",key:"id"},{label:"Customer Company",key:"company"},{label:"Contact Number",key:"phoneNumber"},{label:"Email ID",key:"emailId"},{label:"Created By",key:"created_by"},{label:"Status",key:"status"}],filename:"All-Customers.csv",children:(0,k.jsxs)(r.Z,{className:"d-flex align-items-center ml-2 mr-2",children:[(0,k.jsx)("img",{className:"mr-2",src:u.Z,alt:"exportIcon"}),"Export"]})}),(0,k.jsx)(d.rU,{to:"/app/customer-management/customer-accounts/add-new",children:(0,k.jsxs)(r.Z,{className:"d-flex align-items-center",type:"primary",size:"medium",children:[(0,k.jsx)("img",{className:"mr-2",src:m.Z,alt:"plusIcon"}),"Add New"]})})]})})]}),(0,k.jsx)("div",{children:(0,k.jsx)(F,{setPage:b,searchText:f,statuses:y})})]})},P=n(89215);var T=function(e){var t=e.id,n=e.customer_id,s=e.setShowModal,l=e.viewDetails,d=e.record,u=e.form,m=e.JobSites,h=e.shiftLocations,p=(e.onDelete,e.onEdit),f=(e.idFromProp,e.getJobSites);console.log(n);var x=(0,o.k6)(),b=localStorage.getItem("token"),v=(0,a.useState)(!1),N=(0,i.Z)(v,2),C=N[0],_=N[1],w=function(){_(!1)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(S.Z,{menu:(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(c.Z.Item,{onClick:function(){_(!0)},children:(0,k.jsxs)("span",{className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.pJ})," Delete"]})}),(0,k.jsx)(c.Z.Item,{onClick:function(){if(console.log(d),p(t),l)console.log(d.tc_customer_id),x.push("/app/customer-management/customer-accounts/customer-details/".concat(n));else{var e=m.find((function(e){return e.address===d.address}));if(e){var a=h.find((function(t){return t.location_address===e.address}));a&&u.setFieldsValue({shift_name:a.location_name,address:a.location_address})}u.setFieldsValue((0,j.Z)({},d)),s(!0)}},children:(0,k.jsxs)("span",{className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.dY})," Edit"]})})]})}),(0,k.jsxs)(g.Z,{visible:C,centered:!0,onCancel:w,footer:[(0,k.jsx)(r.Z,{style:{color:"#000B23"},onClick:w,className:"font-weight-bold",children:"No, cancel"}),(0,k.jsx)(r.Z,{style:{color:"#F5F5F5"},type:"primary",className:"font-weight-bold",onClick:function(){A.Z.post("/api/tc/delete-customer-job-site",{id:t},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b)}}).then((function(e){var t=e.data;console.log(t),t.success?Z.ZP.success("Jobsite deleted successfully"):t.message?Z.ZP.error(t.message):Z.ZP.error("Jobsite cannot be deleted"),_(!1),f()})).catch((function(e){console.log(e)}))},children:"Yes, Confirm"})],children:[(0,k.jsx)("div",{style:{color:"#000B23"},className:"font-weight-bolder font-size-md",children:"Sure you want to delete?"}),(0,k.jsxs)("p",{style:{color:"#72849A"},className:"font-weight-normal font-size-sm",children:["Job site ID #",t," will be deleted."]})]})]})};var D=function(e){(0,o.k6)();var t=(0,a.useState)([]),n=(0,i.Z)(t,2),s=n[0],c=n[1],r=(0,a.useState)([]),l=(0,i.Z)(r,2),d=(l[0],l[1]),u=(0,a.useState)(1),m=(0,i.Z)(u,2),h=m[0],j=m[1],b=(0,a.useState)(0),Z=(0,i.Z)(b,2),v=Z[0],y=Z[1],I=localStorage.getItem("token");console.log(e);var S=[{title:"ID",dataIndex:"id"},{title:"Job Site",dataIndex:"jobSite"},{title:"Job Site Address",dataIndex:"jobSiteAddress",width:200},{title:"Company",dataIndex:"company"},{title:"Staff Assign",dataIndex:"total_staffs",width:120},{title:"Tasks",dataIndex:"total_tasks"},{title:"Status",dataIndex:"status",render:function(e,t){return"ACTIVE"===t.status?(0,k.jsx)("span",{style:{color:"#00AB6F",backgroundColor:"#EDFFF9",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Active"}):(0,k.jsx)("span",{style:{color:"#F53434",backgroundColor:"#FFF2F2",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Inactive"})}},{title:"Action",dataIndex:"action",render:function(t,n){return(0,k.jsx)(T,{record:n,id:n.id,customer_id:n.tc_customer_id,onEdit:_,onDelete:P,idFromProp:e.id,setShowModal:e.setShowModal,viewDetails:!e.setShowModal})}}],_=function(e){console.log("edithand")};(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customer-job-sites",{page_index:h,page_size:15,statuses:["ACTIVE","INACTIVE"],customer_id:e.id?e.id:null,search:e.searchText?e.searchText:null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(I)}}).then((function(e){var t=e.data.data.data;console.log(t);var n=t.map((function(e,t){return{id:e.id,jobSite:e.name,jobSiteAddress:e.address?e.address:"".concat(e.unit_number," ").concat(e.street_number,", ").concat(e.block_number," ").concat(e.postal_code,", ").concat(e.country),company:e.customer_name,phoneNumber:null===e||void 0===e?void 0:e.phone,emailId:null===e||void 0===e?void 0:e.email,noOfUsers:(null===e||void 0===e?void 0:e.total_customer_users)||0,img:{image:null===e||void 0===e?void 0:e.img,name:e.name},staffAssign:e.staffAssign,tasks:e.tasks,revenue:e.revenue,outstandingAmt:e.outstandingAmt,total_tasks:e.total_tasks,total_staffs:e.total_staffs,status:e.status,action:"",tc_customer_id:e.tc_customer_id}}));c(s.concat(n))})).catch((function(e){console.log(e)}))}),[h]),(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customer-job-sites",{page_index:1,page_size:15,customer_id:e.id?e.id:null,search:e.searchText?e.searchText:null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(I)}}).then((function(t){var n=t.data.data.data;console.log(n);var a=n.map((function(e,t){return{id:e.id,jobSite:e.name,jobSiteAddress:e.address?e.address:"".concat(e.street_number,", block no. ").concat(e.block_number," postal code ").concat(e.postal_code,", ").concat(e.country),company:e.customer_name,phoneNumber:null===e||void 0===e?void 0:e.phone,emailId:null===e||void 0===e?void 0:e.email,noOfUsers:(null===e||void 0===e?void 0:e.total_customer_users)||0,img:{image:null===e||void 0===e?void 0:e.img,name:"John Smith"},staffAssign:e.staffAssign,tasks:e.tasks,revenue:e.revenue,outstandingAmt:e.outstanding,total_tasks:e.total_tasks,total_staffs:e.total_staffs,status:e.status,action:"",tc_customer_id:e.tc_customer_id}}));c(a),e.setEditjobfield(a[0].id)})).catch((function(e){console.log(e)}))}),[e.id]),(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customer-job-sites",{page_index:1,page_size:15,customer_id:e.id?e.id:null,search:e.searchText?e.searchText:null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(I)}}).then((function(t){var n=t.data.data.data;console.log(n);var a=n.map((function(e,t){return{id:e.id,jobSite:e.name,jobSiteAddress:e.address?e.address:"".concat(e.street_number,", block no. ").concat(e.block_number," postal code ").concat(e.postal_code,", ").concat(e.country),company:e.customer_name,phoneNumber:null===e||void 0===e?void 0:e.phone,emailId:null===e||void 0===e?void 0:e.email,noOfUsers:(null===e||void 0===e?void 0:e.total_customer_users)||0,img:{image:null===e||void 0===e?void 0:e.img,name:"John Smith"},staffAssign:e.staffAssign,tasks:e.tasks,revenue:e.revenue,outstandingAmt:e.outstanding,total_tasks:e.total_tasks,total_staffs:e.total_staffs,status:e.status,action:"",tc_customer_id:e.tc_customer_id}}));c(a),e.setEditjobfield(a[0].id)})).catch((function(e){console.log(e)}))}),[e.searchText]),(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customer-job-sites",{page_index:1,page_size:15,customer_id:e.customer_id?e.customer_id:null,search:e.searchText?e.searchText:null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(I)}}).then((function(t){var n=t.data.data.data;console.log(n);var a=n.map((function(e,t){return{id:e.id,jobSite:e.name,jobSiteAddress:e.address?e.address:"".concat(e.street_number,", block no. ").concat(e.block_number," postal code ").concat(e.postal_code,", ").concat(e.country),company:e.customer_name,phoneNumber:null===e||void 0===e?void 0:e.phone,emailId:null===e||void 0===e?void 0:e.email,noOfUsers:(null===e||void 0===e?void 0:e.total_customer_users)||0,img:{image:null===e||void 0===e?void 0:e.img,name:"John Smith"},staffAssign:e.staffAssign,tasks:e.tasks,revenue:e.revenue,outstandingAmt:e.outstanding,total_tasks:e.total_tasks,total_staffs:e.total_staffs,status:e.status,action:"",tc_customer_id:e.tc_customer_id}}));c(a),e.setEditjobfield(a[0].id)})).catch((function(e){console.log(e)}))}),[e.customer_id]);var w=(0,a.useState)(!1),F=(0,i.Z)(w,2),E=F[0],B=F[1],P=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{A.Z.post("/api/tc/delete-customer-job-site",{id:t},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(I)}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),c((function(e){return e.filter((function(e){return e.id!==t}))})),B(!0),setTimeout((function(){B(!1)}),3e3)}catch(n){console.log(n.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){(0,A.Z)({method:"post",url:"/api/tc/get-customer-job-sites",data:{page_index:1,page_size:1e5,search:"",customer_id:null}}).then((function(e){console.log(e.data.data.data),e.data.success&&d(e.data.data.data)})).catch((function(e){console.log(e)}))}),[]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{children:(0,k.jsx)(x.Z,{columns:S,dataSource:s,onChange:function(e){v<=e.current&&(j(e.current),y(e.current))}})}),(0,k.jsx)(g.Z,{centered:!0,visible:E,footer:[null],onCancel:function(){B(!1)},children:(0,k.jsx)(N.Z,{icon:C.Ko,title:"Job site deleted successfully!",desc:"Job site ID deleted."})})]})};var z=function(){var e=(0,a.useState)(""),t=(0,i.Z)(e,2),n=t[0],s=t[1],o=(0,a.useState)([]),c=(0,i.Z)(o,2),d=c[0],m=c[1],p=localStorage.getItem("token"),f=(0,a.useState)(["All"]),x=(0,i.Z)(f,2),g=(x[0],x[1],(0,a.useState)([])),j=(0,i.Z)(g,2),b=j[0],Z=j[1],v=(0,a.useState)([]),y=(0,i.Z)(v,2),I=y[0],S=y[1];return(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customers",{page_index:1,page_size:1e5,statuses:["ACTIVE","INACTIVE","PENDING APPROVAL"],search:null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p)}}).then((function(e){var t=e.data.data.data;console.log(t),m(t)})).catch((function(e){console.log(e)})),A.Z.post("/api/tc/get-customer-job-sites",{page_index:1,page_size:1e5,search:null,customer_id:null}).then((function(e){var t=e.data.data.data.map((function(e,t){return e.other_details&&JSON.parse(e.other_details),{sr_no:t+1,key:t+1,id:e.id,jobsite:e.name,jobSiteAddress:e.address?e.address:"".concat(e.unit_number," ").concat(e.street_number,", ").concat(e.block_number," ").concat(e.postal_code,", ").concat(e.country),company:e.customer_name,phoneNumber:null===e||void 0===e?void 0:e.phone,emailId:null===e||void 0===e?void 0:e.email,noOfUsers:(null===e||void 0===e?void 0:e.total_customer_users)||0,img:{image:null===e||void 0===e?void 0:e.img,name:e.name},staffAssign:e.staffAssign,tasks:e.tasks,revenue:e.revenue||0,outstandingAmt:e.outstandingAmt||0,total_tasks:e.total_tasks||0,total_staffs:e.total_staffs||0,status:e.status,action:""}}));S(t),console.log(t)})).catch((function(e){console.log(e)}))}),[]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)(h.Z,{title:"Job Sites"}),(0,k.jsx)("div",{className:"d-flex justify-content-between mb-3",children:(0,k.jsxs)("div",{className:" d-flex align-items-center justify-content-between",children:[(0,k.jsx)(l.Z,{setSearchText:s}),(0,k.jsx)(E.CSVLink,{data:I,headers:[{label:"Sr. No",key:"sr_no"},{label:"ID",key:"id"},{label:"Jobsite",key:"jobsite"},{label:"Jobsite Address",key:"jobSiteAddress"},{label:"Company",key:"company"},{label:"Staff Assigned",key:"total_staffs"},{label:"Tasks",key:"total_tasks"},{label:"Status",key:"status"}],filename:"All-Jobsites.csv",children:(0,k.jsxs)(r.Z,{className:"d-flex align-items-center mx-2",children:[(0,k.jsx)("img",{className:"mr-2",src:u.Z,alt:"exportIcon"}),"Export"]})}),(0,k.jsx)(P.Z,{onChange:Z,style:{width:"150px"},placeholder:"Customer",children:d.map((function(e,t){return(0,k.jsx)(P.Z.Option,{value:e.id,children:e.name},t)}))})]})})]}),(0,k.jsx)("div",{children:(0,k.jsx)(D,{searchText:n,id:b[0],customer_id:b})})]})},Y=n(73332),V=n(66871),J=n(66106),M=n(30914),R=n(56444),U=n(25581),W=n(79286),O=n(14787),L=n(67471),q=n(72426),K=n.n(q);var G=function(e){var t=Y.Z.useForm(),n=(0,i.Z)(t,1)[0],s=(0,a.useState)(!1),c=(0,i.Z)(s,2),l=c[0],d=c[1],u=(0,a.useState)(""),m=(0,i.Z)(u,2),p=m[0],f=(m[1],(0,a.useState)("")),x=(0,i.Z)(f,2),j=x[0],v=(x[1],(0,a.useState)([])),y=(0,i.Z)(v,2),I=y[0],S=y[1],_=(0,a.useState)("Individual"),w=(0,i.Z)(_,2),F=w[0],E=w[1],B=localStorage.getItem("token"),T=(0,o.UO)(),D=(0,a.useState)(""),z=(0,i.Z)(D,2),O=z[0],L=z[1],q=(0,a.useState)({}),G=(0,i.Z)(q,2),H=G[0],X=G[1],Q=(0,o.k6)(),$=(0,a.useState)(!0),ee=(0,i.Z)($,2),te=ee[0],ne=ee[1],ae=(0,a.useState)(!1),se=(0,i.Z)(ae,2),oe=se[0],ie=se[1],ce=(0,k.jsxs)("div",{children:[(0,k.jsx)(W.Z,{}),(0,k.jsx)("div",{style:{marginTop:8,width:"250px"},children:"Upload Picture"})]}),re=(0,a.useState)(!1),le=(0,i.Z)(re,2),de=le[0],ue=le[1],me=function(e){console.log(e),(0,A.Z)({method:"post",url:"/api/tc/get-customer",data:{id:e},headers:{Authorization:"Bearer ".concat(B)}}).then((function(e){var t=e.data.data;e.data.success&&(n.setFieldsValue({customerName:t.name}),X(t))})).catch((function(e){console.log(e)}))};return(0,a.useEffect)((function(){T.id&&(console.log(T.id),(0,A.Z)({method:"post",url:"/api/tc/get-customer-user",data:{id:T.id},headers:{Authorization:"Bearer ".concat(B)}}).then((function(e){var t=e.data.data;e.data.success&&(n.setFieldsValue({customerName:t.name,EmailId:t.email,userName:t.name,PhoneNumber:t.phone,residency:t.residnecy_status,nrixfin:t.nric_fin,nationality:t.nationality,dob:K()(t.dob),gender:"Male"===t.gender?1:2,jobSite:t.job_sites,status:"Active"===t.status,profile_pic:null===t||void 0===t?void 0:t.profile_pic,associate_type:(null===t||void 0===t?void 0:t.associate_type)||(null===t||void 0===t?void 0:t.residnecy_status),uen_number:(null===t||void 0===t?void 0:t.uen_number)||(null===t||void 0===t?void 0:t.nationality),office_contact_number:(null===t||void 0===t?void 0:t.office_contact_number)||(null===t||void 0===t?void 0:t.gender)}),L(t.profile_pic),t.profile_pic&&S([{url:t.profile_pic}]),ne(n.getFieldValue().status),me(t.tc_customer_id),console.log(t.tc_customer_id))})).catch((function(e){console.log(e)})),ie(!0)),T.customer_id&&(me(T.customer_id),ie(!1))}),[]),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.Z,{title:oe?"Edit Associate Customer":"Add New Associate Customer"}),(0,k.jsxs)(Y.Z,{form:n,labelCol:{span:10},wrapperCol:{span:18},layout:"vertical",onFinish:function(e){T.customer_id?(0,A.Z)({method:"post",url:"/api/tc/new-customer-user",data:{tc_customer_id:+T.customer_id,name:e.userName,profile_pic:O,email:e.EmailId,phone:String(e.PhoneNumber),nric_fin:"Individual"==e.associate_type?e.nrixfin:e.uen_number,dob:null,job_sites:[1],status:te?"Active":"Inactive",associate_type:e.associate_type,uen_number:e.uen_number,residnecy_status:e.associate_type,nationality:e.uen_number,gender:e.office_contact_number},headers:{Authorization:"Bearer ".concat(B)}}).then((function(e){console.log(e.data),e.data.success?(ue(!0),setTimeout((function(){ue(!1),Q.goBack()}),1500)):Z.ZP.error(e.data.msg)})).catch((function(e){console.log(e)})):(0,A.Z)({method:"post",url:"/api/tc/update-customer-user",data:{id:T.id,tc_customer_id:H.id,name:e.userName,profile_pic:O,email:e.EmailId,phone:String(e.PhoneNumber),nric_fin:"Individual"==e.associate_type?e.nrixfin:e.uen_number,dob:K()(e.dob).format("YYYY-MM-DD"),job_sites:[1],status:te?"Active":"Inactive",associate_type:e.associate_type,uen_number:e.uen_number,residnecy_status:e.associate_type,nationality:e.uen_number,gender:e.office_contact_number},headers:{Authorization:"Bearer ".concat(B)}}).then((function(e){e.data.success?(ue(!0),setTimeout((function(){ue(!1),Q.goBack()}),1500)):Z.ZP.error(e.data.msg)})).catch((function(e){console.log(e)}))},children:[(0,k.jsxs)(V.Z,{className:"mt-3",children:[(0,k.jsx)("div",{className:"d-flex justify-content-end",style:{color:"red"},children:(0,k.jsx)("div",{children:"* Indicates Mandatory Fields"})}),(0,k.jsxs)(J.Z,{align:"bottom",children:[(0,k.jsxs)(M.Z,{span:12,children:[(0,k.jsxs)(Y.Z.Item,{name:"photo",label:"Profile Picture",children:[(0,k.jsx)(R.Z,{listType:"picture-card",fileList:I,accept:"image/*",onChange:function(e){var t=e.fileList;S(t),console.log(t);var n=new FormData;t.length>0&&(n.append("file",t[0].originFileObj),(0,A.Z)({method:"post",url:"/api/tc/upload-document",data:n,headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(B)}}).then((function(e){console.log(e.data),e.data.success&&L(e.data.url)})).catch((function(e){console.log(e)})))},maxCount:1,beforeUpload:function(){return!1},showUploadList:{showPreviewIcon:!1},children:I.length>=1?null:ce}),(0,k.jsx)(g.Z,{open:l,title:j,footer:null,onCancel:function(){return d(!1)},children:(0,k.jsx)("img",{alt:"example",style:{width:"100%"},src:p})})]}),(0,k.jsx)(Y.Z.Item,{name:"associate_type",label:"Associate Type",children:(0,k.jsxs)(P.Z,{showSearch:!0,placeholder:"Associate Type",optionFilterProp:"children",filterOption:function(e,t){var n,a;return null===(n=(null!==(a=null===t||void 0===t?void 0:t.title)&&void 0!==a?a:"").toString().toLowerCase())||void 0===n?void 0:n.includes(null===e||void 0===e?void 0:e.toLowerCase())},filterSort:function(e,t){var n,a;return(null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:"").toString().toLowerCase().localeCompare((null!==(a=null===t||void 0===t?void 0:t.label)&&void 0!==a?a:"").toString().toLowerCase())},value:F,onChange:E,children:[(0,k.jsx)(P.Z.Option,{value:"Individual",children:"Individual"}),(0,k.jsx)(P.Z.Option,{value:"Company",children:"Company"})]})}),(0,k.jsx)(Y.Z.Item,{name:"EmailId",label:"Email Id",rules:[{required:!0,type:"email",message:"Please input your valid email id!"}],children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"office_contact_number",label:"Office Contact Number",rules:[{required:!0,message:"Please input Office Contact Number!"}],children:(0,k.jsx)(b.Z,{})})]}),(0,k.jsxs)(M.Z,{span:12,children:[(0,k.jsx)(Y.Z.Item,{name:"userName",label:"Name",rules:[{required:!0,message:"Please input Name!"}],children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"PhoneNumber",label:"Phone Number",rules:[{required:!0,message:"Please input Phone number!"},{message:"Phone number must have atleast 8 digits",validator:function(e,t){return/^\d{8,}$/.test(Number(t))?Promise.resolve():Promise.reject("Some message here")}}],children:(0,k.jsx)(b.Z,{style:{width:"100%"},minLength:8})}),"Individual"===F&&(0,k.jsx)(Y.Z.Item,{name:"nrixfin",label:"NRIC/FIN",rules:[{required:!0,message:"The NRIC/FIN is required."},{message:"First letter of the NRIC/FIN must contain either S, T, F, G, M, followed by 7 digits and ends with a capital letter",validator:function(e,t){return/^[STFGM]\d{7}[A-Z]$/.test(t)?Promise.resolve():Promise.reject("Some message here")}}],children:(0,k.jsx)(b.Z,{})}),"Company"===F&&(0,k.jsx)(Y.Z.Item,{name:"uen_number",label:"UEN Number",rules:[{required:!0,message:"The UEN Number is required!"}],children:(0,k.jsx)(b.Z,{})})]})]}),(0,k.jsx)(J.Z,{align:"bottom",children:(0,k.jsx)(M.Z,{span:12,children:(0,k.jsxs)(Y.Z.Item,{name:"status",label:"Status",style:{alignContent:"start"},children:[te?"ACTIVE":"INACTIVE",(0,k.jsx)(U.Z,{checked:te,onClick:function(e){ne(e)},className:"ml-2"})]})})})]}),(0,k.jsxs)(Y.Z.Item,{className:"d-flex align-items-end Button",children:[(0,k.jsx)(r.Z,{onClick:Q.goBack,children:"Back"}),(0,k.jsx)(r.Z,{onClick:function(){n.resetFields(),S([])},className:"mx-3",children:"Clear All"}),(0,k.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Save"})]})]}),(0,k.jsxs)(g.Z,{centered:!0,visible:de,footer:[null],onCancel:function(){ue(!1)},children:[T.customer_id&&(0,k.jsx)(N.Z,{icon:C.Ko,title:"Customer Added Successfully!",desc:"Customer is added in the system"}),T.id&&(0,k.jsx)(N.Z,{icon:C.Ko,title:"Customer updated Successfully!",desc:"Customer is updated in the system"})]})]})},H=(n(13175),n(87661)),X=n(93271),Q=n(73034),$=n(96110),ee=n(54261),te=n(35507);var ne=function(e){var t=e.custId,n=e.searchText,s=(0,a.useState)([]),l=(0,i.Z)(s,2),u=(l[0],l[1],(0,a.useState)(!1)),m=(0,i.Z)(u,2),h=m[0],p=m[1],f=(0,a.useState)(1),j=(0,i.Z)(f,2),b=j[0],Z=(j[1],(0,a.useState)([])),v=(0,i.Z)(Z,2),N=v[0],C=v[1],_=(0,o.k6)(),w=((0,o.$B)(),localStorage.getItem("token")),F=[{title:"Sr No",dataIndex:"sr_no"},{title:"ID",dataIndex:"userId"},{title:"Associate Name",dataIndex:"userName"},{title:"Address",dataIndex:"",render:function(e){return(0,k.jsx)("div",{children:"-"})}},{title:"Contact Number",dataIndex:"mobileNumber"},{title:"Associate Type",dataIndex:"associate_type"},{title:"Status",dataIndex:"status",render:function(e,t){return"Inactive"===t.status||"INACTIVE"===t.status?(0,k.jsx)("span",{style:{color:"#F53434",backgroundColor:"#FFF2F2",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Inactive"}):(0,k.jsx)("span",{style:{color:"#00AB6F",backgroundColor:"#EDFFF9",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Active"})}},{title:"Action",render:function(e,t){return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(S.Z,{menu:(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(c.Z.Item,{children:(0,k.jsxs)(d.rU,{to:"/app/customer-management/customer-accounts/edit-associate-customer/".concat(t.userId),className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.dY}),"Edit"]})}),(0,k.jsx)(c.Z.Item,{onClick:function(){P()},children:(0,k.jsxs)("span",{className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.pJ}),"Delete"]})}),(0,k.jsx)(g.Z,{visible:h,onCancel:E,centered:!0,footer:[(0,k.jsx)(r.Z,{style:{color:"#000B23"},onClick:E,className:"font-weight-bold",children:"No, Cancel"}),(0,k.jsx)(r.Z,{type:"primary",className:"font-weight-bold",onClick:function(){return B(t.userId)},children:"Yes, Confirm"})],children:(0,k.jsx)("div",{style:{color:"#000B23"},className:"font-weight-bolder font-size-md",children:"Are you sure you want to delete this customer user?"})})]})})})}}],E=function(){p(!1)},B=function(e){console.log(e),p(!1),A.Z.post("/api/tc/delete-customer-users",{id:e}).then((function(e){var t=e.data;console.log(t),t.success&&T()})).catch((function(e){console.log(e)}))},P=function(){p(!0)},T=function(){var e={customer_id:t,page_index:b,page_size:10,search:n};(0,A.Z)({method:"post",url:"/api/tc/get-customer-users",data:e,headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){console.log(e.data);var t=e.data.data.data,n=t.map((function(e,t){return{sr_no:t+1,key:t,userId:e.id,userName:e.name,gender:(0,k.jsx)(y.Z,{component:"Male"===e.gender?L.tS:L.WW}),nationality:"India"===e.nationality?(0,k.jsx)(ee.IN,{title:"SG",className:"countrtFlag"}):"Singapore"===e.nationality?(0,k.jsx)(ee.SG,{title:"SG",className:"countrtFlag"}):(0,k.jsx)(ee.CN,{title:"SG",className:"countrtFlag"}),img:{image:e.profile_pic,name:e.name},mobileNumber:e.phone,emailId:e.email,jobSite:e.job_sites,status:e.status,associate_type:e.associate_type||e.residnecy_status,uen_neumber:e.uen_neumber||e.nationality,office_contact_number:e.office_contact_number||e.gender}}));console.log(t),C(N.concat(n))})).then((function(e){console.log(e)}))};return(0,a.useEffect)((function(){var e={customer_id:t,page_index:b,page_size:10};(0,A.Z)({method:"post",url:"/api/tc/get-customer-users",data:e,headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){console.log(e.data);var t=e.data.data.data,n=t.map((function(e,t){return{sr_no:t+1,key:t,userId:e.id,userName:e.name,gender:(0,k.jsx)(y.Z,{component:"Male"===e.gender?L.tS:L.WW}),nationality:"India"===e.nationality?(0,k.jsx)(ee.IN,{title:"SG",className:"countrtFlag"}):"Singapore"===e.nationality?(0,k.jsx)(ee.SG,{title:"SG",className:"countrtFlag"}):(0,k.jsx)(ee.CN,{title:"SG",className:"countrtFlag"}),img:{image:e.profile_pic,name:e.name},mobileNumber:e.phone,emailId:e.email,jobSite:e.job_sites,status:e.status}}));console.log(t),C(N.concat(n))})).then((function(e){console.log(e)}))}),[]),(0,a.useEffect)((function(){T()}),[n]),(0,k.jsxs)("div",{children:[(0,k.jsx)(x.Z,{columns:F,dataSource:N}),(0,k.jsx)(V.Z,{className:"mt-2",children:(0,k.jsxs)(r.Z,{block:!0,type:"dashed",className:"d-flex align-items-center justify-content-center pt-4 pb-4",onClick:function(){_.push("/app/customer-management/customer-accounts/add-new-associate-customer/".concat(t))},children:[(0,k.jsx)(y.Z,{component:L.v8}),(0,k.jsx)(te.Z,{level:3,className:"mb-0",style:{color:"#0E7CEB"},children:(0,k.jsx)("b",{children:"Add New Associate Customer"})})]})})]})},ae=n(29450);ae.Z.Title,ae.Z.Text;var se=function(){var e=localStorage.getItem("token"),t=(0,o.UO)(),n=(0,a.useState)(1),s=(0,i.Z)(n,2),c=(s[0],s[1],(0,a.useState)(0)),l=(0,i.Z)(c,2),d=(l[0],l[1],(0,a.useState)({})),u=(0,i.Z)(d,2),m=u[0],h=u[1];return console.log(t.id),(0,a.useEffect)((function(){(0,A.Z)({method:"post",url:"/api/tc/get-customer",headers:{Authorization:"Bearer ".concat(e)},data:{id:t.id}}).then((function(e){if(console.log(e.data),e.data.success){if(e.data.data.other_details){var t=JSON.parse(e.data.data.other_details),n=(0,j.Z)((0,j.Z)({},e.data.data),t);return void h(n)}h(e.data.data)}else console.log(e)}))}),[]),(0,k.jsxs)("div",{children:[(0,k.jsx)(V.Z,{style:{background:"#FAFAFB",textAlign:"start"},children:(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsxs)("div",{className:"w-25",children:[(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Customer Company: \u2003"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Contact Person: \u2003"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Email ID: \u2003"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Phone Number: \u2003"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Office Contact Number: \u2003"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"UEN: \u2003"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Created By: \u2003"})})]}),(0,k.jsxs)("div",{className:"w-75",children:[(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.name})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.contact_name})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.email})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.phone})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.office_contact_number})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.uen_number||"####"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.created_by})})]})]})}),(0,k.jsxs)(V.Z,{style:{background:"#FAFAFB",textAlign:"start",marginTop:"20px"},children:[(0,k.jsx)("h4",{children:(0,k.jsx)("strong",{children:"Customer Address"})}),(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsxs)("div",{className:"w-25",children:[(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Pincode: \u2003"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Unit Number: \u2003"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Street Number: \u2003"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Block Number: \u2003"})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:"Country: \u2003"})})]}),(0,k.jsxs)("div",{className:"w-75",children:[(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.postal_code})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.unit_number})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.street_number})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.block_number})}),(0,k.jsx)("div",{className:"d-flex justify-content-start my-1",children:(0,k.jsx)("h5",{children:m.country})})]})]})]}),(0,k.jsxs)(V.Z,{style:{background:"#FAFAFB",textAlign:"start",marginTop:"20px"},children:[(0,k.jsx)("h4",{children:(0,k.jsx)("strong",{children:"Uploaded File"})}),m.uploaded_file?(0,k.jsx)("div",{className:"d-flex justify-content-start",children:(0,k.jsx)(r.Z,{onClick:function(){console.log("Viewing Attachment..."),m.uploaded_file&&window.open(m.uploaded_file.url)},children:"View Uploaded File"})}):(0,k.jsx)("div",{children:"No Uploaded files"})]})]})},oe=n(93433);var ie,ce=function(e){var t=e.searchText,n=e.customer_id,s=e.setShowModal,c=e.setEditjobfield,r=e.form,l=e.shiftLocations,d=e.jobSiteData,u=e.setjobSiteData,m=(0,a.useState)(!1),h=(0,i.Z)(m,2),j=h[0],b=h[1],Z=localStorage.getItem("token"),v=(0,o.UO)();console.log(v.id);var y=(0,a.useState)(1),I=(0,i.Z)(y,2),S=I[0],_=I[1],w=(0,a.useState)(0),F=(0,i.Z)(w,2),E=F[0],B=F[1],P=[{title:"Jobsite ID",dataIndex:"id"},{title:"Jobsite Name",dataIndex:"name"},{title:"Address",dataIndex:"address",width:150},{title:"Company",dataIndex:"customer_name"},{title:"Staff Assign",dataIndex:"total_staffs",width:120},{title:"Tasks",dataIndex:"total_tasks"},{title:"Status",dataIndex:"status",render:function(e,t){return"ACTIVE"===t.status?(0,k.jsx)("span",{style:{color:"#00AB6F",backgroundColor:"#EDFFF9",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Active"}):(0,k.jsx)("span",{style:{color:"#F53434",backgroundColor:"#FFF2F2",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Inactive"})}},{title:"Action",dataIndex:"action",render:function(e,t){return(0,k.jsx)(T,{record:t,id:t.id,customer_id:t.tc_customer_id,onEdit:z,onDelete:Y,idFromProp:d.id,setShowModal:s,viewDetails:!s,form:r,JobSites:d,shiftLocations:l,getJobSites:D})}}],D=function(e){console.log(n),(0,A.Z)({method:"post",url:"/api/tc/get-customer-job-sites",data:{customer_id:n,page_index:e,page_size:15,search:t||null}}).then((function(t){console.log("Jobsite data: ",t.data.data.data),t.data.success&&u(1===e?t.data.data.data:[].concat((0,oe.Z)(d),(0,oe.Z)(t.data.data.data)))})).catch((function(e){console.log(e)}))},z=function(e){c(e),console.log("edithand")},Y=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{A.Z.post("/api/tc/delete-customer-job-site",{id:t},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(Z)}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),b(!0),setTimeout((function(){b(!1)}),3e3)}catch(n){console.log(n.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){D()}),[S]),(0,a.useEffect)((function(){D(1)}),[t]),(0,k.jsxs)("div",{children:[(0,k.jsx)(x.Z,{scroll:{x:1300},rowKey:function(e){return e.id},columns:P,dataSource:d,onChange:function(e){E<=e.current&&(_(e.current),B(e.current))},style:{overflow:"auto"}}),(0,k.jsx)(g.Z,{centered:!0,visible:j,footer:[null],onCancel:function(){b(!1)},children:(0,k.jsx)(N.Z,{icon:C.Ko,title:"Job site deleted successfully!",desc:"Job site ID deleted."})})]})},re=n(95568),le=function(e){var t=e.setLocationData,n=(0,a.useState)(),s=(0,i.Z)(n,2),o=s[0],c=s[1],r=(0,a.useRef)(null),l=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(n){var a,s,o,i,c,r,l;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.getPlace();case 2:c=e.sent,r=c.formatted_address,n(r),l={address:r,latitude:null===c||void 0===c||null===(a=c.geometry)||void 0===a||null===(s=a.location)||void 0===s?void 0:s.lat(),longitude:null===c||void 0===c||null===(o=c.geometry)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.lng()},t(l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){!function(e,t){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){return t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}("https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAWSQ-M2SM7zWTUFlKY53_8m6zRlWC_Zxw","&libraries=places"),(function(){return function(e,t){(ie=new window.google.maps.places.Autocomplete(t.current,{componentRestrictions:{country:"SGP"}})).addListener("place_changed",(function(){l(e)}))}(c,r)})),console.log("searching...")}),[]),(0,k.jsx)("div",{children:(0,k.jsx)("input",{ref:r,className:"w-100 p-2 rounded z-100",style:{border:"2px solid rgb(230, 235, 241)"},onChange:function(e){console.log(e.target.value),c(e.target.value)},placeholder:"Search Address ...",value:o})})};var de=function(e){var t=(0,a.useState)(null),n=(0,i.Z)(t,2),s=n[0],c=n[1];console.log("customer id: ",e.customer_id);var l=(0,a.useState)(!0),d=(0,i.Z)(l,2),u=d[0],m=d[1],h=(0,a.useState)(!1),p=(0,i.Z)(h,2),f=p[0],x=p[1],v=(0,a.useState)([]),I=(0,i.Z)(v,2),S=(I[0],I[1]),N=(0,a.useState)([]),C=(0,i.Z)(N,2),_=C[0],w=C[1],F=(0,a.useState)([]),E=(0,i.Z)(F,2),B=E[0],P=E[1],T=(0,a.useState)([]),D=(0,i.Z)(T,2),z=D[0],R=D[1],W=Y.Z.useForm(),O=(0,i.Z)(W,1)[0],q=((0,o.k6)(),(0,o.TH)().search),K=new URLSearchParams(q).get("jobsite"),G=localStorage.getItem("token"),H=(0,re.usePlacesWidget)({apiKey:"AIzaSyAk3d6-e4XyC7CoRgCbL_pwRWnKlKqqQuA",onPlaceSelected:function(e){console.log(e)},googleMapsScriptBaseUrl:"https://maps.googleapis.com/maps/api/js"}),X=(H.ref,H.autocompleteRef,function(t,n){var a={location_name:O.getFieldValue().name,location_address:O.getFieldValue().address,latitude:O.getFieldValue().latitude,longitude:O.getFieldValue().longitude,radius:500},s=0;A.Z.post("/api/hrms/save-shift-location",a,{}).then((function(a){return console.log(a.data),1==a.data.success?(s=a.data.id,Z.ZP.success("Location added to HRMS successfully!"),R((0,j.Z)((0,j.Z)({},z),{},{hrms_location_id:s})),function(t,n,a){A.Z.post("/api/tc/new-customer-job-site",{tc_customer_id:e.customer_id,name:t.name,contact_number:t.contact_number,block_number:t.block_number||"",street_number:t.street_number||"",level_number:t.level_number||"",unit_number:t.unit_number||"",postal_code:t.postal_code||"",country:t.country||"",address:n,status:u?"ACTIVE":"INACTIVE",hrms_location_id:a},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){console.log(e),e.data.success&&Z.ZP.success("Job site added successfully"),O.resetFields(),x(!1),$()})).catch((function(e){console.log(e)}))}(t,n,s),!0):a.data.message?(Z.ZP.error(a.data.message),!1):(Z.ZP.error("Something Went Wrong!"),!1)}))}),Q=function(t,n){var a={id:O.getFieldValue().hrms_location_id||0,location_name:O.getFieldValue().name,location_address:O.getFieldValue().address,latitude:O.getFieldValue().latitude,longitude:O.getFieldValue().longitude,radius:500};A.Z.post("/api/hrms/save-shift-location",a,{}).then((function(a){return 1==a.data.success?(Z.ZP.success("Location updated to HRMS successfully!"),function(t,n){A.Z.post("/api/tc/new-customer-job-site",{tc_customer_id:e.customer_id,name:t.name,contact_number:t.contact_number,block_number:t.block_number||"",street_number:t.street_number||"",level_number:t.level_number||"",unit_number:t.unit_number||"",postal_code:t.postal_code||"",country:t.country||"",address:n,status:u?"ACTIVE":"INACTIVE",hrms_location_id:t.hrms_location_id},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){console.log(e),e.data.success&&Z.ZP.success("Job site added successfully"),O.resetFields(),x(!1),$()})).catch((function(e){console.log(e)}))}(t,n),!0):a.data.message?(Z.ZP.error(a.data.message),!1):(Z.ZP.error("Something Went Wrong!"),!1)}))};(0,a.useEffect)((function(){if(K)return console.log("Job site details"),void A.Z.post("/api/tc/get-customer-job-site",{id:K},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){var t=e.data.data;console.log("e",t),console.log(t.address);var n=B.find((function(e){return e.location_address===t.address}));console.log(n),O.setFieldsValue({name:t.name,address:t.address,shift_name:t.address}),m("ACTIVE"===t.status)})).catch((function(e){console.log(e)}));s&&(console.log("Job site details fetched"),A.Z.post("/api/tc/get-customer-job-site",{id:s},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){var t=e.data.data;O.setFieldsValue({name:t.name,address:t.address,shift_name:t.address}),m("ACTIVE"===t.status)})).catch((function(e){console.log(e)})))}),[s]);var $=function(t){console.log(e.customer_id),(0,A.Z)({method:"post",url:"/api/tc/get-customer-job-sites",data:{customer_id:e.customer_id,page_index:t,page_size:15,search:null}}).then((function(e){console.log("Jobsite data: ",e.data.data.data),e.data.success&&w(e.data.data.data)})).catch((function(e){console.log(e)}))};return(0,a.useEffect)((function(){console.log(e.id),A.Z.post("/api/hrms/all-shift-locations",{search:""},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){if(e.data.success){var t=e.data.shift_locations;P(t),console.log(B)}})).catch((function(e){console.log(e)})),A.Z.post("/api/all-user-groups",{search:""},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){if(e.data.success){var t=e.data.user_groups;t=t.filter((function(e){return null!=e.location_id})),S(t)}})).catch((function(e){console.log(e)}))}),[]),(0,a.useEffect)((function(){console.log(z),O.setFieldsValue({address:z.address,latitude:z.latitude,longitude:z.longitude})}),[z]),(0,k.jsxs)("div",{children:[!K&&(0,k.jsx)("div",{children:(0,k.jsx)(ce,{id:e.id,searchText:e.searchText,customer_id:e.customer_id,setEditjobfield:c,setShowModal:x,form:O,shiftLocations:B,jobSiteData:_,setjobSiteData:w})}),!K&&(0,k.jsx)(V.Z,{className:"mt-2",children:(0,k.jsxs)(r.Z,{block:!0,type:"dashed",className:"d-flex align-items-center justify-content-center pt-4 pb-4",onClick:function(){x(!0)},children:[(0,k.jsx)(y.Z,{component:L.v8}),(0,k.jsx)(te.Z,{level:3,className:"mb-0",style:{color:"#0E7CEB"},children:(0,k.jsx)("b",{children:"Add New Job Site"})})]})}),(0,k.jsx)(g.Z,{visible:f,centered:!0,maskClosable:!0,onCancel:function(){O.resetFields(),x(!1)},footer:null,width:750,title:s?"Edit Jobsite":"Add New Jobsite",children:(0,k.jsxs)(Y.Z,{form:O,labelCol:{span:10},wrapperCol:{span:18},layout:"vertical",onFinish:function(t){console.log(t);var n=t.address||"".concat(t.street_number,", block no. ").concat(t.block_number," postal code ").concat(t.postal_code,", ").concat(t.country);if(s){var a=Q();if(!a)return void Z.ZP.error("Location cannot be updated");A.Z.post("/api/tc/update-customer-job-site",{id:+s,tc_customer_id:e.customer_id,name:t.name,contact_number:t.contact_number,block_number:t.block_number||"",street_number:t.street_number||"",level_number:t.level_number||"",unit_number:t.unit_number||"",postal_code:t.postal_code||"",country:t.country||"",address:n,status:u?"ACTIVE":"INACTIVE",hrms_location_id:a},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){console.log(e),e.data.success&&Z.ZP.success("Job site added successfully"),O.resetFields(),x(!1),c(null),$()})).catch((function(e){console.log(e),c(null)}))}else X(t,n)},children:[(0,k.jsxs)(V.Z,{className:"mt-3",children:[(0,k.jsx)("p",{className:"font-weight-bold font-size-md mb-4",children:"Job Site Details"}),(0,k.jsxs)(J.Z,{children:[(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"name",label:"Jobsite Name",rules:[{required:!0,message:"Please input Jobsite Name!"}],children:(0,k.jsx)(b.Z,{})})}),(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"contact_number",label:"Contact No",rules:[{required:!0,message:"Please input Contact Number!"}],children:(0,k.jsx)(b.Z,{type:"number"})})})]}),(0,k.jsx)("h4",{children:"Address"}),(0,k.jsxs)(J.Z,{align:"top",children:[(0,k.jsx)(M.Z,{span:24,children:(0,k.jsx)(Y.Z.Item,{name:"address",label:"Location Address",rules:[{required:!0,message:"Please input Location address!"}],children:(0,k.jsx)(le,{setLocationData:R})})}),(0,k.jsxs)(M.Z,{span:24,children:[(0,k.jsx)(Y.Z.Item,{name:"latitude",label:"Latitude",children:(0,k.jsx)(b.Z,{disabled:!0})}),(0,k.jsx)(Y.Z.Item,{name:"longitude",label:"Longitude",children:(0,k.jsx)(b.Z,{disabled:!0})})]}),(0,k.jsx)(M.Z,{span:12})]}),(0,k.jsx)(J.Z,{align:"bottom",children:(0,k.jsx)(M.Z,{span:12,children:(0,k.jsxs)(Y.Z.Item,{name:"status",label:"Status",style:{alignContent:"start"},children:[u?"ACTIVE":"INACTIVE",(0,k.jsx)(U.Z,{checked:u,onClick:function(e){var t=O.getFieldValue().status;m(e),console.log(t)},className:"ml-2"})]})})})]}),(0,k.jsxs)(Y.Z.Item,{className:"d-flex align-items-end Button",children:[(0,k.jsx)(r.Z,{onClick:function(){return x(!1)},className:"mx-3",children:"Cancel"}),(0,k.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Save"})]})]})})]})},ue=[{title:"Basic Details",icon:X.O4,activeIcon:X.J7},{title:"Job Site Details",icon:X.Il,activeIcon:X.Ll},{title:"Associate Customers",icon:X.OW,activeIcon:X.Oe},{title:"Invoices",icon:X.Tx,activeIcon:X.Tu},{title:"Payments",icon:X.fy,activeIcon:X.p5}];var me=function(e){e.customerData;var t=e.searchText,n=e.setSearchText,a=e.setHeaders,s=e.currActiveKey,i=e.setCurrActiveKey,c=(e.isExporting,e.setIsExporting,e.setExportData),r=(0,o.UO)(),l=function(){(0,A.Z)({method:"post",url:"/api/tc/get-customer-job-sites",data:{customer_id:+r.id,page_index:1,page_size:1e5,search:null}}).then((function(e){e.data.success&&c(e.data.data.data),console.log("Job site export data fetched"),console.log(e.data.data.data)})).catch((function(e){console.log(e)}))},d=function(){(0,A.Z)({method:"post",url:"/api/tc/get-customer-users",data:{customer_id:+r.id,page_index:1,page_size:1e5,search:null}}).then((function(e){if(e.data.success){var t=e.data.data.data.map((function(e,t){return{sr_no:t+1,key:t,userId:e.id,userName:e.name,img:{image:e.profile_pic,name:e.name},mobileNumber:e.phone,emailId:e.email,jobSite:e.job_sites,status:e.status}}));c(t)}})).catch((function(e){console.log(e)}))},u=function(){(0,A.Z)({method:"post",url:"/api/tc/get-customer-job-sites",data:{customer_id:+r.id,page_index:1,page_size:1e5,search:null}}).then((function(e){e.data.success&&c(e.data.data.data)})).catch((function(e){console.log(e)}))},m=function(){(0,A.Z)({method:"post",url:"/api/tc/get-customer-job-sites",data:{customer_id:+r.id,page_index:1,page_size:1e5,search:null}}).then((function(e){e.data.success&&c(e.data.data.data)})).catch((function(e){console.log(e)}))},h=[(0,k.jsx)(se,{}),(0,k.jsx)(de,{searchText:t,customer_id:+r.id}),(0,k.jsx)(ne,{searchText:t,custId:+r.id}),(0,k.jsx)($.Z,{searchText:t,custId:+r.id}),(0,k.jsx)(Q.Z,{searchText:t,custId:+r.id})],p=(0,k.jsx)("div",{className:"d-flex"});return(0,k.jsxs)(H.Z,{activeKey:s,size:"large",onChange:function(e){i(e),n(""),2==+e&&(a([{label:"ID",key:"id"},{label:"Jobsite Name",key:"name"},{label:"Jobsite Address",key:"address"},{label:"Company",key:"customer_name"},{label:"Staff Assigned",key:"total_staffs"},{label:"Tasks",key:"total_tasks"},{label:"Status",key:"status"}]),l()),3==+e&&(a([{label:"Sr. No",key:"sr_no"},{label:"ID",key:"userId"},{label:"Associate Name",key:"userName"},{label:"Address",key:"address"},{label:"Contact Number",key:"mobileNumber"},{label:"Associate Type",key:"associate_type"},{label:"Status",key:"status"}]),d()),4==+e&&(a([{label:"ID",key:"id"},{label:"Contract ID",key:"tc_contract_id"},{label:"Jobsite Name",key:"jobsite_name"},{label:"Total Tasks",key:"total_tasks"},{label:"Net Amount (S$)",key:"total"},{label:"Paid amount (S$)",key:"amount_paid"},{label:"Invoice Date",key:"created_at"},{label:"Status",key:"status"}]),u()),5==+e&&(a([{label:"ID",key:"id"},{label:"Contract ID",key:"tc_contract_id"},{label:"Jobsite Name",key:"jobsite_name"},{label:"Total Tasks",key:"total_tasks"},{label:"Net Amount (S$)",key:"total"},{label:"Paid amount (S$)",key:"amount_paid"},{label:"Payment Date",key:"created_at"},{label:"Status",key:"status"}]),m())},tabBarExtraContent:p,children:[(0,k.jsx)(H.Z.TabPane,{tab:(0,k.jsxs)("span",{className:"d-flex align-items-center hover-color",children:[(0,k.jsx)(y.Z,{component:"1"===s?ue[0].activeIcon:ue[0].icon}),ue[0].title]}),children:h[0]},"1"),(0,k.jsx)(H.Z.TabPane,{tab:(0,k.jsxs)("span",{className:"d-flex align-items-center hover-color",children:[(0,k.jsx)(y.Z,{component:"2"===s?ue[1].activeIcon:ue[1].icon}),ue[1].title]}),children:h[1]},"2"),(0,k.jsx)(H.Z.TabPane,{tab:(0,k.jsxs)("span",{className:"d-flex align-items-center hover-color",children:[(0,k.jsx)(y.Z,{component:"3"===s?ue[2].activeIcon:ue[2].icon}),ue[2].title]}),children:h[2]},"3"),(0,k.jsx)(H.Z.TabPane,{tab:(0,k.jsxs)("span",{className:"d-flex align-items-center hover-color",children:[(0,k.jsx)(y.Z,{component:"4"===s?ue[3].activeIcon:ue[3].icon}),ue[3].title]}),children:h[3]},"4"),(0,k.jsx)(H.Z.TabPane,{tab:(0,k.jsxs)("span",{className:"d-flex align-items-center hover-color",children:[(0,k.jsx)(y.Z,{component:"5"===s?ue[4].activeIcon:ue[4].icon}),ue[4].title]}),children:h[4]},"5")]})};var he=function(){var e=(0,o.UO)(),t=(0,o.k6)(),n=(0,a.useState)("1"),s=(0,i.Z)(n,2),c=s[0],d=s[1],m=(0,a.useState)({}),p=(0,i.Z)(m,2),f=p[0],x=p[1],g=(0,a.useState)(""),j=(0,i.Z)(g,2),b=j[0],Z=j[1],v=(0,a.useState)([]),y=(0,i.Z)(v,2),I=y[0],S=y[1],N=(0,a.useState)([]),C=(0,i.Z)(N,2),_=C[0],w=C[1],F=(0,a.useState)(!1),B=(0,i.Z)(F,2),P=B[0],T=B[1];return(0,a.useEffect)((function(){(0,A.Z)({method:"post",url:"/api/tc/get-customer",data:{id:e.id}}).then((function(e){console.log(e.data),e.data.success?x(e.data.data):console.log(e)}))}),[]),(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)(h.Z,{title:"Customer Details"}),1===+c&&(0,k.jsx)("div",{className:"d-flex justify-content-between mb-3",children:(0,k.jsx)("div",{className:" d-flex align-items-center justify-content-between mr-2",onClick:function(){t.push("/app/customer-management/customer-accounts/edit/".concat(e.id))},children:(0,k.jsx)(r.Z,{type:"primary",className:"d-flex align-items-center ml-2 mr-2",children:"Edit Customer"})})}),1!==+c&&(0,k.jsx)("div",{className:"d-flex justify-content-between mb-3",children:(0,k.jsxs)("div",{className:" d-flex align-items-center justify-content-between mr-2",children:[(0,k.jsx)(l.Z,{setSearchText:Z}),(0,k.jsx)(E.CSVLink,{data:I,headers:_,filename:"".concat("2"==c?"All-Jobsites":"3"==c?"All-Associate-Customers":"4"==c?"All-Invoices":"5"==c?"All-Payments":void 0,".csv"),children:(0,k.jsxs)(r.Z,{className:"d-flex align-items-center ml-2 mr-2",children:[(0,k.jsx)("img",{className:"mr-2",src:u.Z,alt:"exportIcon"}),"Export"]})})]})})]}),(0,k.jsx)("div",{className:"mw-100",children:(0,k.jsx)(J.Z,{gutter:20,children:(0,k.jsx)(M.Z,{span:24,children:(0,k.jsx)(me,{customerData:f,searchText:b,setSearchText:Z,setHeaders:w,currActiveKey:c,setCurrActiveKey:d,setIsExporting:T,isExporting:P,setExportData:S})})})})]})},pe=n(13295),fe=n(97892),xe=n.n(fe),ge=n(44379),je=n(66776);var be=function(){var e=(0,o.k6)(),t=(0,a.useState)(!1),n=(0,i.Z)(t,2),s=n[0],c=n[1],l={name:"file",multiple:!0,action:"https://www.htmk.com",listType:"picture",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?Z.ZP.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&Z.ZP.error("".concat(e.file.name," file upload failed."))}};return(0,k.jsxs)("div",{children:[(0,k.jsx)(h.Z,{icon:O.Z,title:"Customer Management / Customer Accounts / Customer Details / Create New Payment"}),(0,k.jsxs)(Y.Z,{labelCol:{span:10},wrapperCol:{span:18},layout:"vertical",onFinish:function(t){c(!0),setTimeout((function(){c(!1),e.push("customer-details")}),3e3)},children:[(0,k.jsxs)(J.Z,{children:[(0,k.jsx)(M.Z,{className:"mr-4",span:16,children:(0,k.jsxs)(V.Z,{className:"mt-3",children:[(0,k.jsxs)("p",{style:{color:"#000B23"},className:"d-flex align-items-center font-size-md font-weight-bold mb-4",children:[" ",(0,k.jsx)(y.Z,{className:"mr-2",component:X.p5})," Payments Details"]}),(0,k.jsxs)(J.Z,{align:"bottom",children:[(0,k.jsxs)(M.Z,{span:12,children:[(0,k.jsx)(Y.Z.Item,{name:"paymentId ",label:"Payment ID",children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"customer ",label:"Customer",children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"selectJobSites",label:"Select Job Sites",children:(0,k.jsxs)(P.Z,{children:[(0,k.jsx)(P.Z.Option,{value:"India",children:"India"}),(0,k.jsx)(P.Z.Option,{value:"China",children:"China"}),(0,k.jsx)(P.Z.Option,{value:"Singapore",children:"Singapore"})]})}),(0,k.jsx)(Y.Z.Item,{name:"totalTasksPerformed ",label:"Total Tasks Performed",children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"amount ",label:"Amount",children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"tax/GST ",label:"Tax/GST",children:(0,k.jsx)(b.Z,{})})]}),(0,k.jsxs)(M.Z,{span:12,children:[(0,k.jsx)(Y.Z.Item,{name:"selectTaskTypes",label:"Select Tasks Types",children:(0,k.jsxs)(P.Z,{children:[(0,k.jsx)(P.Z.Option,{value:"India",children:"India"}),(0,k.jsx)(P.Z.Option,{value:"China",children:"China"}),(0,k.jsx)(P.Z.Option,{value:"Singapore",children:"Singapore"})]})}),(0,k.jsx)(Y.Z.Item,{name:"PaymentPeriod ",label:"Payment Period",children:(0,k.jsx)(pe.Z.RangePicker,{defaultValue:[xe()("2015/01/01","DD/MM/YYYY"),xe()("2015/01/01","DD/MM/YYYY")],format:"DD/MM/YYYY"})}),(0,k.jsx)(Y.Z.Item,{name:"discount ",label:"Discount",children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"netTotal ",label:"Net Total",children:(0,k.jsx)(b.Z,{})})]})]}),(0,k.jsx)(Y.Z.Item,{name:"remarks ",label:"Remarks",children:(0,k.jsx)(b.Z.TextArea,{rows:4})})]})}),(0,k.jsx)(M.Z,{span:7,children:(0,k.jsx)(V.Z,{className:"mt-3",children:(0,k.jsxs)(ge.default,(0,j.Z)((0,j.Z)({},l),{},{children:[(0,k.jsx)("p",{className:"ant-upload-drag-icon",children:(0,k.jsx)(je.Z,{})}),(0,k.jsx)("p",{className:"font-size-md",children:"Drag & drop files here"}),(0,k.jsx)("p",{className:"font-size-md",children:"or"}),(0,k.jsx)("p",{className:"ant-upload-hint text-danger",children:"Choose Files"})]}))})})]}),(0,k.jsxs)(Y.Z.Item,{className:"d-flex align-items-end Button",children:[(0,k.jsx)(r.Z,{children:"Back"}),(0,k.jsx)(r.Z,{className:"mx-3",children:"Clear All"}),(0,k.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Save"})]}),(0,k.jsx)(g.Z,{centered:!0,visible:s,footer:[null],onCancel:function(){c(!1)},children:(0,k.jsx)(N.Z,{icon:C.Ko,title:"Customer Added Successfully!",desc:"Customer ID #1234 added in the system"})})]})]})},Ze=n(763),ve=(x.Z.Column,b.Z.TextArea),ye=pe.Z.RangePicker;var Ie=function(){var e=(0,o.UO)(),t=((0,o.k6)(),(0,a.useState)([])),n=(0,i.Z)(t,2),s=n[0],c=n[1],l=(0,a.useState)([]),d=(0,i.Z)(l,2),u=d[0],m=d[1],x=(0,a.useState)([]),v=(0,i.Z)(x,2),y=v[0],I=v[1],S=(0,a.useState)(0),_=(0,i.Z)(S,2),w=_[0],F=_[1],E=(0,a.useState)(!1),B=(0,i.Z)(E,2),T=B[0],D=B[1],z=(0,a.useState)([]),R=(0,i.Z)(z,2),U=R[0],W=R[1],L=(0,a.useState)(""),q=(0,i.Z)(L,2),G=(q[0],q[1],(0,a.useState)("")),H=(0,i.Z)(G,2),X=(H[0],H[1],Y.Z.useForm()),Q=(0,i.Z)(X,1)[0],$=(0,a.useState)(!1),ee=(0,i.Z)($,2),te=(ee[0],ee[1],localStorage.getItem("token"));console.log(e.id,"id"),(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customer-job-sites",{page_index:1,page_size:1e5,statuses:["ACTIVE","INACTIVE"]},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(te)}}).then((function(e){var t=e.data.data.data;console.log(t);var n=t.map((function(e,t){return{id:e.id,jobSite:e.name,jobSiteAddress:e.address?e.address:"".concat(e.street_number,", block no. ").concat(e.block_number," postal code ").concat(e.postal_code,", ").concat(e.country),company:e.customer_name,phoneNumber:null===e||void 0===e?void 0:e.phone,emailId:null===e||void 0===e?void 0:e.email,noOfUsers:(null===e||void 0===e?void 0:e.total_customer_users)||0,img:{image:null===e||void 0===e?void 0:e.img,name:e.name},staffAssign:e.staffAssign,tasks:e.tasks,revenue:e.revenue,outstandingAmt:e.outstandingAmt,total_tasks:e.total_tasks,total_staffs:e.total_staffs,status:e.status,action:""}}));I(n)})).catch((function(e){console.log(e)}))}),[]);var ne=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(t){var n,a;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,e.prev=1,n.append("file",t[0].originFileObj),e.next=5,(0,A.Z)({method:"post",url:"/api/tc/upload-document",data:n,headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(te)}});case 5:if(!(a=e.sent).data.success){e.next=9;break}return console.log(a.data.url),e.abrupt("return",a.data.url);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var t=(0,f.Z)((0,p.Z)().mark((function t(n){var a,o,i,c,r,l,d,u;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(U);case 2:a=t.sent,o=.08*w,i=w+.08*w,c=K()(n.taskPeriod[0]).format("YYYY-MM-DD"),r=K()(n.taskPeriod[1]).format("YYYY-MM-DD"),console.log("event",n),l=K()(n.date).format("YYYY-MM-DD"),d=K()(n.dueDate).format("YYYY-MM-DD"),s.map((function(e){return{key:e.key,name:e.name,quantity:e.quantity,price:e.price,total:e.quantity*e.price}})),u={tc_customer_id:e.id,task_period_from_date:c,task_period_to_date:r,date:l,due_date:d,sub_total:w,status:"pending",tax:o.toString(),discount:n.discount,total:i.toString(),tc_invoice_file:a,invoice_remarks:n.remarks.toString(),line_items:[]},(0,A.Z)({method:"post",url:"/api/tc/new-invoice",data:u,headers:{Authorization:"Bearer ".concat(te)}}).then((function(e){console.log(e.data),e.data.success?(console.log(e.data.data),D(!0)):console.log(e)})).catch((function(e){Z.ZP.warn(e.response.data.message),console.log(e.response)}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),se=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},ie=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t.url||t.preview){e.next=5;break}return e.next=4,se(t.originFileObj);case 4:t.preview=e.sent;case 5:console.log(t.preview),t.preview&&window.open().document.write('<embed width="100%" height="100%" src="'+t.preview+'" type="application/pdf">');case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){F(s.reduce((function(e,t){return e+t.quantity*t.price}),0)),console.log(w)}),[function(e){var t=(0,oe.Z)(s),n=t.findIndex((function(t){return e.key===t.key}));if(n>-1){var a=t[n];t.splice(n,1,(0,j.Z)((0,j.Z)({},a),e)),c(t)}else t.push(e),c(t)}]),(0,a.useEffect)((function(){(0,A.Z)({method:"post",url:"/api/tc/get-customers",headers:{Authorization:"Bearer ".concat(te)},data:{page_index:1,page_size:1e5,search:null}}).then((function(e){console.log(e.data),e.data.success?m(e.data.data.data):console.log(e)})),Q.setFieldsValue({customer:(0,Ze.toInteger)(e.id)})}),[]),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.Z,{icon:O.Z,title:"Customer Management / Customer Accounts / Customer Details / Create New Invoice"}),(0,k.jsxs)(Y.Z,{form:Q,labelCol:{span:10},wrapperCol:{span:18},layout:"vertical",onFinish:ae,children:[(0,k.jsx)(J.Z,{children:(0,k.jsx)(M.Z,{className:"mr-4",span:24,children:(0,k.jsxs)(V.Z,{className:"mt-3",children:[(0,k.jsxs)("p",{style:{color:"#000B23"},className:"d-flex align-items-center font-size-md font-weight-bold mb-4",children:[" ","Create New Invoice"]}),(0,k.jsx)(J.Z,{align:"bottom",children:(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"customer",label:"Customer",children:(0,k.jsx)(P.Z,{disabled:!0,children:u.map((function(e,t){return(0,k.jsx)(P.Z.Option,{value:e.id,children:e.name},t)}))})})})}),(0,k.jsxs)(J.Z,{align:"bottom",children:[(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"jobsite",label:"Select Job Site",children:(0,k.jsx)(P.Z,{children:y.map((function(e,t){return(0,k.jsx)(P.Z.Option,{value:e.id,children:e.jobSite},t)}))})})}),(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"taskPeriod",label:"Task period",children:(0,k.jsx)(ye,{})})})]}),(0,k.jsxs)(J.Z,{align:"bottom",children:[(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"amount",label:"Amount",children:(0,k.jsx)(b.Z,{})})}),(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"discount",label:"Discount",children:(0,k.jsx)(b.Z,{})})})]}),(0,k.jsxs)(J.Z,{align:"bottom",children:[(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"tax",label:"Tax/GST",children:(0,k.jsx)(b.Z,{})})}),(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"total",label:"Net Total",children:(0,k.jsx)(b.Z,{})})})]}),(0,k.jsx)(J.Z,{align:"bottom",children:(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"due_date",label:"Due Date",children:(0,k.jsx)(pe.Z,{defaultValue:K()(new Date).add(1,"month"),format:"DD-MM-YYYY"})})})}),(0,k.jsx)(J.Z,{align:"bottom",children:(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"remarks",label:"Remarks",children:(0,k.jsx)(ve,{rows:4})})})}),(0,k.jsx)(J.Z,{align:"bottom",children:(0,k.jsx)(M.Z,{span:24,children:(0,k.jsx)(Y.Z.Item,{name:"invoice",label:"Upload Invoice",style:{alignContent:"start"},children:(0,k.jsxs)(ge.default,{beforeUpload:function(){return!1},listType:"text",style:{minHeight:"50px",minWidth:"150%",maxHeight:"150px",marginBottom:"10px"},maxCount:1,accept:".pdf",onPreview:ie,onChange:function(e){var t=e.fileList;W(t),console.log(U)},fileList:U,className:"dragUpload",children:[(0,k.jsx)("p",{className:"ant-upload-drag-icon",children:(0,k.jsx)(je.Z,{})}),(0,k.jsxs)("p",{className:"font-weight-bold text-size-md",children:["Drag & drop files here or ",(0,k.jsx)("span",{className:"text-danger",children:"Choose Files"})]})]})})})})]})})}),(0,k.jsxs)(Y.Z.Item,{className:"d-flex align-items-end Button",children:[(0,k.jsx)(r.Z,{children:"Back"}),(0,k.jsx)(r.Z,{onClick:function(){return Q.resetFields()},className:"mx-3",children:"Clear All"}),(0,k.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Save"})]}),(0,k.jsx)(g.Z,{centered:!0,visible:T,footer:[null],onCancel:function(){D(!1)},children:(0,k.jsx)(N.Z,{icon:C.Ko,title:"Invoice Added Successfully!",desc:"Invoice has been added in the system"})})]})]})},Se=n(76835),Ae=n(28139),Ne=x.Z.Column;var Ce=function(){var e=(0,o.UO)(),t=(0,Ae.cI)(),n=(0,i.Z)(t,1)[0],s=(0,a.useState)(null),c=(0,i.Z)(s,2),l=c[0],d=c[1],u=(0,a.useState)([]),m=(0,i.Z)(u,2),p=m[0],f=m[1],Z=(0,a.useState)(0),v=(0,i.Z)(Z,2),I=v[0],S=v[1],_=(0,a.useState)(!1),w=(0,i.Z)(_,2),F=w[0],E=w[1],B=["DD/MM/YYYY","DD/MM/YY","YYYY-MM-DD","DD-MM-YY"],P=localStorage.getItem("token");console.log(e.id,"id");var T=(0,a.useCallback)((function(e){f((function(t){var n=(0,oe.Z)(t),a=n.findIndex((function(t){return e.key===t.key}));if(a>-1){var s=n[a];return n.splice(a,1,(0,j.Z)((0,j.Z)({},s),e)),n}return n.push(e),n}))}),[p]),D=(0,o.k6)();return(0,a.useEffect)((function(){null==l&&(0,A.Z)({method:"post",url:"/api/tc/get-invoice",data:{id:e.id},headers:{Authorization:"Bearer ".concat(P)}}).then((function(e){d(e.data.data),f(e.data.data.line_items.map((function(e,t){return{key:t,name:e.name,quantity:e.quantity,price:e.price,total:e.quantity*e.price}}))),S(e.data.data.sub_total),console.log(e.data.data)})).then((function(e){console.log(e)})),S(function(){var e=p.reduce((function(e,t){return e+t.quantity*t.price}),0);return console.log(e),e}()),console.log(p)}),[T]),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.Z,{icon:O.Z,title:"Customer Management / Customer Accounts / Customer Details / Edit Invoice"}),(0,k.jsxs)(Y.Z,{form:n,labelCol:{span:10},wrapperCol:{span:18},layout:"vertical",onFinish:function(t){var n=.8*I,a=I+.08*I;console.log("event",t);var s=K()(t.date).format("YYYY-MM-DD"),o=K()(t.dueDate).format("YYYY-MM-DD");E(!0);var i=p.map((function(e){return{key:e.key,name:e.name,quantity:e.quantity,price:e.price,total:e.quantity*e.price}})),c={id:l.id,tc_customer_id:e.id,date:s,due_date:o,status:"pending",sub_total:I,tax:n.toString(),discount:0,total:a.toString(),line_items:i};(0,A.Z)({method:"post",url:"/api/tc/update-invoice",data:c,headers:{Authorization:"Bearer ".concat(P)}}).then((function(e){console.log(e.data),e.data.success?console.log(e.data.data):console.log(e)})).then((function(e){console.log(e)}))},children:[(0,k.jsx)(J.Z,{children:(0,k.jsx)(M.Z,{className:"mr-4",span:24,children:(0,k.jsxs)(V.Z,{className:"mt-3",children:[(0,k.jsxs)("p",{style:{color:"#000B23"},className:"d-flex align-items-center font-size-md font-weight-bold mb-4",children:[" ",(0,k.jsx)(y.Z,{className:"mr-2",component:X.p5})," Edit Invoice"]}),(0,k.jsxs)(J.Z,{align:"bottom",children:[(0,k.jsx)(M.Z,{span:8,children:(0,k.jsx)(Y.Z.Item,{name:"customer",label:"Customer",children:(0,k.jsx)(b.Z,{})})}),(0,k.jsx)(M.Z,{span:8,children:(0,k.jsx)(Y.Z.Item,{name:"date",label:"Date",children:(0,k.jsx)(pe.Z,{format:B})})}),(0,k.jsx)(M.Z,{span:8,children:(0,k.jsx)(Y.Z.Item,{name:"due_date",label:"Due Date",children:(0,k.jsx)(pe.Z,{format:B})})})]}),(0,k.jsx)(J.Z,{children:(0,k.jsxs)(M.Z,{span:24,children:[(0,k.jsxs)(x.Z,{dataSource:null!=l&&p,children:[(0,k.jsx)(Ne,{title:"Name",dataIndex:"name",render:function(e,t){return(0,k.jsx)(b.Z,{value:e,onChange:function(e){return T((0,j.Z)((0,j.Z)({},t),{},{name:e.target.value}))}})}},"name"),(0,k.jsx)(Ne,{title:"Quantity",dataIndex:"quantity",render:function(e,t){return(0,k.jsx)(Se.Z,{value:e,onChange:function(e){return T((0,j.Z)((0,j.Z)({},t),{},{quantity:e}))}})}},"quantity"),(0,k.jsx)(Ne,{title:"Price",dataIndex:"price",render:function(e,t){return(0,k.jsx)(Se.Z,{value:e,onChange:function(e){return T((0,j.Z)((0,j.Z)({},t),{},{price:e}))}})}},"price"),(0,k.jsx)(Ne,{title:"Total",dataIndex:"total",render:function(e,t){return(0,k.jsx)("span",{children:t.quantity*t.price})}},"total"),(0,k.jsx)(Ne,{title:"Action",render:function(e,t){return(0,k.jsx)("span",{children:(0,k.jsx)("a",{href:"#",onClick:function(){return function(e){var t=p.filter((function(t){return t.key!==e}));f(t)}(t.key)},children:"Delete"})})}},"action")]}),(0,k.jsx)(r.Z,{className:"mt-3 mb-4",type:"default",onClick:function(){var e={key:p.length+1,name:"",quantity:0,price:0};f([].concat((0,oe.Z)(p),[e]))},children:"Add Row"})]})}),(0,k.jsxs)(J.Z,{align:"bottom",children:[(0,k.jsx)(M.Z,{span:24,children:(0,k.jsxs)("div",{className:"d-flex justify-content-between px-5",children:[(0,k.jsx)("h5",{children:"Sub Total"}),(0,k.jsx)("h5",{children:null!=l&&I})]})}),(0,k.jsx)(M.Z,{span:24,children:(0,k.jsxs)("div",{className:"d-flex justify-content-between pl-5",children:[(0,k.jsx)("h5",{children:"Discount"}),(0,k.jsx)(Y.Z.Item,{name:"discount",label:" ",children:(0,k.jsx)(b.Z,{defaultValue:null!=l&&l.discount.toString()})})]})}),(0,k.jsx)(M.Z,{span:24,children:(0,k.jsxs)("div",{className:"d-flex justify-content-between px-5",children:[(0,k.jsx)("h5",{children:"Tax 8%"}),(0,k.jsx)("h5",{children:null!=l&&.08*I})]})}),(0,k.jsx)(M.Z,{span:24,children:(0,k.jsxs)("div",{className:"d-flex justify-content-between px-5",children:[(0,k.jsx)("h5",{children:"Total"}),(0,k.jsx)("h5",{children:null!=l&&I+.08*I})]})})]})]})})}),(0,k.jsxs)(Y.Z.Item,{className:"d-flex align-items-end Button",children:[(0,k.jsx)(r.Z,{onClick:D.goBack,children:"Back"}),(0,k.jsx)(r.Z,{onClick:function(){n.resetFields(),f([{key:0,name:"",quantity:"",price:"",total:"elem.quantity * elem.price"}])},className:"mx-3",children:"Clear All"}),(0,k.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Save"})]}),(0,k.jsx)(g.Z,{centered:!0,visible:F,footer:[null],onCancel:function(){E(!1)},children:(0,k.jsx)(N.Z,{icon:C.Ko,title:"Invoice Edited Successfully!",desc:"Invoice has been edited and saved in the system"})})]})]})},ke=n(91333),_e=n(2126),we=(n(22778),n(92995)),Fe=(n(18538),n(89536),"SendInvoice_card__3k7qj"),Ee="SendInvoice_textColor__eKuMD",Be="SendInvoice_add_details__72Y35",Pe="SendInvoice_send_btn__uz+b8",Te="SendInvoice_action__MuJgN",De=(ae.Z.Title,ae.Z.Text,x.Z.Column),ze=function(){var e=(0,o.UO)(),t=localStorage.getItem("token"),n=(0,a.useState)({}),s=(0,i.Z)(n,2),c=s[0],l=s[1],d=(0,o.k6)();return(0,a.useEffect)((function(){var n={id:e.id};(0,A.Z)({method:"post",url:"/api/tc/get-invoice",data:n,headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log("rse",e.data),e.data.success?l(e.data.data):console.log(e)})).then((function(e){console.log(e)}))}),[]),console.log(c),(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(h.Z,{svg:L.RP,title:"Customer Management / Customer Accounts / Customer Details / Invoices"}),(0,k.jsxs)(V.Z,{id:"print",children:[(0,k.jsx)(V.Z,{className:Fe,children:(0,k.jsx)("div",{className:"mt-2 mb-2",children:(0,k.jsx)("img",{src:we,alt:"logo"})})}),(0,k.jsx)(V.Z,{className:Be,children:(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsxs)("div",{style:{maxWidth:"300px"},className:"",children:[(0,k.jsx)("p",{className:"".concat(Ee," m-0 font-weight-bolder font-size-lg"),children:"INV-12326565"}),(0,k.jsx)("p",{className:"".concat(Ee," m-0 mt-4  font-weight-bolder"),children:"Grand Energy pte ltd"}),(0,k.jsx)("p",{className:"m-0 mt-2",children:"sales@grandenergy.com"}),(0,k.jsxs)("p",{className:"m-0 my-2",children:["510, Kampong Bahru Rd, Street 123,Singapore 456589"," "]}),(0,k.jsx)("p",{className:"m-0",children:"Phone:(123) 456-7890"})]}),(0,k.jsxs)("div",{className:"mr-5 text-right",children:[(0,k.jsx)("p",{className:"".concat(Ee," m-0 font-weight-bolder font-size-lg"),children:"Customer Details"}),(0,k.jsx)("p",{className:"".concat(Ee," m-0 mt-4  font-weight-bolder"),children:"Evergreen Hotel"}),(0,k.jsx)("p",{className:"m-0 mt-2",children:"#12324"}),(0,k.jsx)("p",{className:"m-0 my-2",children:"1111 ABC Road,XYZ Tower"}),(0,k.jsx)("p",{className:"m-0",children:"Singapore, 0023"})]})]})}),(0,k.jsx)("div",{children:(0,k.jsxs)(x.Z,{dataSource:c.line_items,children:[(0,k.jsx)(De,{title:"Name",dataIndex:"name",render:function(e,t){return(0,k.jsx)("p",{children:e})}},"name"),(0,k.jsx)(De,{title:"Quantity",dataIndex:"quantity",render:function(e,t){return(0,k.jsx)("p",{children:e})}},"quantity"),(0,k.jsx)(De,{title:"Price",dataIndex:"price",render:function(e,t){return(0,k.jsx)("p",{children:e})}},"price"),(0,k.jsx)(De,{title:"Total",dataIndex:"total",render:function(e,t){return(0,k.jsx)("p",{children:e})}},"total")]})}),(0,k.jsx)(ke.Z,{}),(0,k.jsx)("div",{className:"d-flex justify-content-end",children:(0,k.jsxs)(J.Z,{style:{width:"40%"},className:"d-flex justify-content-center",children:[(0,k.jsx)(M.Z,{span:12,children:(0,k.jsxs)(_e.ZP,{children:[(0,k.jsxs)(_e.ZP.Item,{className:"pl-0 border-0 d-flex justify-content-between w-100",children:[(0,k.jsx)("p",{style:{color:"#72849A"},className:"m-0",children:"Sub Total :"}),(0,k.jsx)("p",{className:"m-0 d-flex align-items-center ".concat(Ee," font-weight-bold"),children:c.sub_total})]}),(0,k.jsxs)(_e.ZP.Item,{className:"pl-0 border-0 d-flex justify-content-between w-100",children:[(0,k.jsx)("p",{style:{color:"#72849A"},className:"m-0",children:"Discount :"}),(0,k.jsx)("p",{className:"m-0 d-flex align-items-center ".concat(Ee," font-weight-bold"),children:c.discount})]}),(0,k.jsxs)(_e.ZP.Item,{className:"pl-0 border-0 d-flex justify-content-between w-100",children:[(0,k.jsx)("p",{style:{color:"#72849A"},className:"m-0",children:"Tax 7% :"}),(0,k.jsx)("p",{className:"m-0 d-flex align-items-center ".concat(Ee," font-weight-bold"),children:c.tax})]})]})}),(0,k.jsx)(ke.Z,{}),(0,k.jsxs)("p",{className:"".concat(Ee," font-size-lg font-weight-bolder"),children:["Net Total : ",c.total]})]})})]}),(0,k.jsxs)("div",{className:"d-flex justify-content-end ".concat(Te),children:[(0,k.jsx)(r.Z,{onClick:d.goBack,children:"Cancel"}),(0,k.jsx)(r.Z,{type:"primary",className:Pe,onClick:function(){!function(e){var t=document.getElementById(e).innerHTML,n=document.body.innerHTML;document.body.innerHTML="<html><head><title></title></head><body>"+t+"</body>",window.print(),document.body.innerHTML=n}("print")},children:"Download"})]})]})},Ye=n(37762),Ve=n(32385),Je=n(16987),Me=n(67734);var Re=function(){var e=(0,a.useState)(""),t=(0,i.Z)(e,2),n=t[0],s=t[1],m=(0,a.useState)([]),j=(0,i.Z)(m,2),b=j[0],Z=j[1],v=localStorage.getItem("token"),N=(0,a.useState)(["All"]),C=(0,i.Z)(N,2),_=C[0],w=C[1],F=(0,a.useState)([]),E=(0,i.Z)(F,2),B=E[0],P=E[1],T=(0,a.useState)(!1),D=(0,i.Z)(T,2),z=D[0],Y=D[1],V=(0,a.useState)([]),J=(0,i.Z)(V,2),M=J[0],R=J[1],U=(0,a.useState)([]),W=(0,i.Z)(U,2),q=(W[0],W[1],(0,a.useState)(1)),K=(0,i.Z)(q,2),G=K[0],H=K[1],X=(0,a.useState)(0),Q=(0,i.Z)(X,2),$=Q[0],te=Q[1],ne=(0,a.useState)(!1),ae=(0,i.Z)(ne,2),se=(ae[0],ae[1],(0,o.k6)(),[{title:"Sr No",dataIndex:"key",render:function(e){return(0,k.jsx)("div",{className:"d-flex align-items-center",children:+e+1})}},{title:"User ID",dataIndex:"userId",render:function(e,t){return(0,k.jsxs)("div",{className:"d-flex align-items-center",children:["#",t.userId]})}},{title:"",dataIndex:"img",render:function(e){var t=e.image;e.name;return(0,k.jsx)("div",{className:"d-flex align-items-center",children:(0,k.jsx)(Me.C,{src:t})})}},{title:"User Name",dataIndex:"userName"},{title:"Customer Name",dataIndex:"cust_name"},{title:"Gender",render:function(e,t){return(0,k.jsx)("div",{className:"d-flex align-items-center",children:(0,k.jsx)(y.Z,{component:1===t.gender?L.tS:L.WW})})}},{title:"Nationality",dataIndex:"nationality"},{title:"Mobile Number",dataIndex:"mobileNumber"},{title:"Email ID",dataIndex:"emailId"},{title:"Job Sites",dataIndex:"jobSite",render:function(e){var t,n="",a=(0,Ye.Z)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;n.length>1&&(n+=", "),n+=""+s}}catch(o){a.e(o)}finally{a.f()}return(0,k.jsx)("div",{children:n})}},{title:"Status",dataIndex:"status",render:function(e,t){return"Active"===t.status?(0,k.jsx)("span",{style:{color:"#00AB6F",backgroundColor:"#EDFFF9",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Active"}):(0,k.jsx)("span",{style:{color:"#F53434",backgroundColor:"#FFF2F2",padding:"4px 8px",borderRadius:"6px",fontWeight:"600",fontSize:"14px"},children:"Inactive"})}},{title:"Action",render:function(e,t){return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(S.Z,{menu:(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(c.Z.Item,{children:(0,k.jsxs)(d.rU,{to:"/app/customer-management/customer-accounts/edit-customer-user/".concat(t.userId),className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.dY}),"Edit"]})}),(0,k.jsx)(c.Z.Item,{onClick:function(){re()},children:(0,k.jsxs)("span",{className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.pJ}),"Delete"]})}),(0,k.jsx)(g.Z,{visible:z,onCancel:oe,centered:!0,footer:[(0,k.jsx)(r.Z,{style:{color:"#000B23"},onClick:oe,className:"font-weight-bold",children:"No, Cancel"}),(0,k.jsx)(r.Z,{type:"primary",className:"font-weight-bold",onClick:function(){return ie(t.id)},children:"Yes, Confirm"})],children:(0,k.jsx)("div",{style:{color:"#000B23"},className:"font-weight-bolder font-size-md",children:"Are you sure you want to delete this customer user?"})})]})})})}}]),oe=function(){Y(!1)},ie=function(e){Y(!1),A.Z.post("/api/tc/delete-customer-users",{id:e},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){e.data.success&&ce()})).catch((function(e){console.log(e)}))},ce=function(){A.Z.post("/api/tc/get-customer-users",{page_index:G,page_size:10,search:n||null,customer_id:B[0]||null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){var t=e.data.data.data;console.log(t);var n=t.map((function(e,t){return{key:t,userId:e.id,userName:e.name,gender:"Male"===e.gender?1:2,nationality:"India"===e.nationality?(0,k.jsx)(ee.IN,{title:"SG",className:"countrtFlag"}):"Singapore"===e.nationality?(0,k.jsx)(ee.SG,{title:"SG",className:"countrtFlag"}):(0,k.jsx)(ee.CN,{title:"SG",className:"countrtFlag"}),img:{image:e.profile_pic,name:e.name},mobileNumber:e.phone,emailId:e.email,jobSite:e.job_sites,status:e.status,cust_name:e.customer_name,cust_pic:e.customer_pic}}));R(n)})).catch((function(e){console.log(e)}))},re=function(){Y(!0)},le=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(){var t;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.Z.post("/api/tc/get-customer-users",{page_index:1,page_size:1e5,search:n||null,export_type:"pdf"},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(v)}});case 3:if(t=e.sent,console.log(t.data.url),!t.data.status){e.next=7;break}return e.abrupt("return",t.data.url);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();function de(){return(de=(0,f.Z)((0,p.Z)().mark((function e(){var t;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le();case 3:(t=e.sent)&&window.open(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error downloading PDF:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(0,a.useEffect)((function(){A.Z.post("/api/tc/get-customers",{page_index:1,page_size:1e5,statuses:["ACTIVE","INACTIVE"],search:null},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){var t=e.data.data.data;Z(t)})).catch((function(e){console.log(e)}))}),[]),(0,a.useEffect)((function(){ce()}),[G]),(0,a.useEffect)((function(){ce()}),[B]),(0,a.useEffect)((function(){ce()}),[n]);var ue=(0,k.jsxs)(c.Z,{onClick:function(e){w([e.key]),"All"!=e.key&&"AllCompany"!=e.key?P([+e.key]):P([])},selectedKeys:_,children:[(0,k.jsx)(c.Z.Item,{children:"All"},"All"),(0,k.jsxs)(c.Z.SubMenu,{title:"Company",children:[(0,k.jsx)(c.Z.Item,{children:"All"},"AllCompany"),b.map((function(e){return(0,k.jsx)(c.Z.Item,{children:e.name},e.id)}))]})]});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{children:(0,k.jsx)(h.Z,{icon:O.Z,title:"Customer Management / Customer Users"})}),(0,k.jsx)("div",{className:"d-flex justify-content-between mb-3",children:(0,k.jsxs)("div",{className:" d-flex align-items-center justify-content-between",children:[(0,k.jsx)(l.Z,{setSearchText:s}),(0,k.jsx)(Ve.Z,{overlay:ue,trigger:["click"],children:(0,k.jsxs)(r.Z,{className:"d-flex align-items-center ml-2",children:[(0,k.jsx)("img",{className:"mr-2",src:Je.Z,alt:"filterIcon"}),"Filters"]})}),(0,k.jsxs)(r.Z,{onClick:function(){return de.apply(this,arguments)},className:"d-flex align-items-center ml-2",children:[(0,k.jsx)("img",{className:"mr-2",src:u.Z,alt:"exportIcon"}),"Export"]})]})}),(0,k.jsx)("div",{children:(0,k.jsx)(x.Z,{scroll:{x:1500},columns:se,dataSource:M,onChange:function(e){$<=e.current&&(H(e.current),te(e.current))}})})]})},Ue=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))};var We=function(e){var t=Y.Z.useForm(),n=(0,i.Z)(t,1)[0],s=(0,a.useState)(!1),c=(0,i.Z)(s,2),l=c[0],d=c[1],u=(0,o.k6)(),m=(0,a.useState)(""),h=(0,i.Z)(m,2),x=h[0],j=h[1],v=(0,a.useState)(""),y=(0,i.Z)(v,2),I=y[0],S=y[1],N=(0,a.useState)([]),C=(0,i.Z)(N,2),_=C[0],w=C[1],F=(0,a.useState)(""),E=(0,i.Z)(F,2),B=E[0],P=E[1],T=(0,a.useState)(!1),D=(0,i.Z)(T,2),z=D[0],O=D[1],L=localStorage.getItem("token"),q=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t.url||t.preview){e.next=5;break}return e.next=4,Ue(t.originFileObj);case 4:t.preview=e.sent;case 5:j(t.url||t.preview),d(!0),S(t.name||t.url.substring(t.url.lastIndexOf("/")+1));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=(0,k.jsxs)("div",{children:[(0,k.jsx)(W.Z,{}),(0,k.jsx)("div",{style:{marginTop:8,width:"250px"},children:"Upload Picture"})]});return(0,a.useEffect)((function(){e.id||n.setFieldsValue({status:!0})}),[]),(0,a.useEffect)((function(){e.id&&A.Z.post("/api/tc/get-customer",{id:e.id},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(L)}}).then((function(e){var t=e.data.data;console.log(t),n.setFieldsValue({customerId:t.id,email:t.email,name:t.name,phone:t.phone,status:"ACTIVE"===t.status,profile_pic:null===t||void 0===t?void 0:t.profile_pic}),t.profile_pic&&w([{url:t.profile_pic}]),O("ACTIVE"===t.status)})).catch((function(e){console.log(e)}))}),[e.id]),(0,k.jsxs)("div",{children:[(0,k.jsxs)(Y.Z,{form:n,labelCol:{span:10},wrapperCol:{span:18},layout:"vertical",onFinish:function(t){console.log(t.status),e.id?A.Z.post("/api/tc/update-customer",{id:e.id,name:t.name,profile_pic:B,email:t.email,phone:String(t.phone),status:z?"ACTIVE":"INACTIVE"},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(L)}}).then((function(t){t.data.success?(e.onNext(),e.setCId(e.id),e.onNext(),console.log(e.id)):Z.ZP.warn(t.data.msg)})).catch((function(e){console.log(e)})):e.id?A.Z.post("/api/tc/new-customer",{id:e.id,name:t.name,profile_pic:B,email:t.email,phone:String(t.phone),status:z?"ACTIVE":"INACTIVE"},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(L)}}).then((function(t){t.data.success?(e.onNext(),e.setCId(t.data.id)):Z.ZP.warn(t.data.msg)})).catch((function(e){console.log(e)})):A.Z.post("/api/tc/new-customer",{name:t.name,profile_pic:B,email:t.email,phone:String(t.phone),status:z?"ACTIVE":"INACTIVE"},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(L)}}).then((function(t){console.log(t),t.data.success?(e.onNext(),e.setCId(t.data.id)):Z.ZP.warn(t.data.msg)})).catch((function(e){console.log(e)}))},children:[(0,k.jsxs)(V.Z,{className:"mt-3",children:[(0,k.jsxs)(J.Z,{align:"bottom",children:[(0,k.jsxs)(M.Z,{span:12,children:[(0,k.jsx)(Y.Z.Item,{name:"profile_pic",children:(0,k.jsx)(R.Z,{listType:"picture-card",fileList:_,onPreview:q,onChange:function(e){var t=e.fileList;w(t),console.log(t);var n=new FormData;t[0].url?P(t[0].url):(n.append("file",t[0].originFileObj),(0,A.Z)({method:"post",url:"/api/tc/upload-document",data:n,headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(L)}}).then((function(e){console.log(e),e.data.success&&P(e.data.url)})).catch((function(e){console.log(e)})))},beforeUpload:function(){return!1},children:_.length>=1?null:K})}),(0,k.jsx)(Y.Z.Item,{name:"customerId",label:"Customer ID",children:(0,k.jsx)(b.Z,{disabled:!0})}),(0,k.jsx)(Y.Z.Item,{name:"email",label:"Email Id",rules:[{required:!0,type:"email",message:"Please input your valid Email Id!"}],children:(0,k.jsx)(b.Z,{})})]}),(0,k.jsxs)(M.Z,{span:12,children:[(0,k.jsx)(Y.Z.Item,{name:"name",label:"Company Name",rules:[{required:!0,message:"Please input Company Name!"}],children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please input your valid Phone Number!"},{message:"Phone number must have atleast 8 digits",validator:function(e,t){return/^\d{8,}$/.test(t)?Promise.resolve():Promise.reject("Some message here")}}],children:(0,k.jsx)(b.Z,{style:{width:"100%"},minLength:8})})]})]}),(0,k.jsx)(J.Z,{align:"bottom",children:(0,k.jsx)(M.Z,{span:12,children:(0,k.jsxs)(Y.Z.Item,{name:"status",label:"Status",style:{alignContent:"start"},children:[z?"ACTIVE":"INACTIVE",(0,k.jsx)(U.Z,{checked:z,onClick:function(e){var t=n.getFieldValue().status;O(e),console.log(t)},className:"ml-2"})]})})})]}),(0,k.jsxs)(Y.Z.Item,{className:"d-flex align-items-end Button",children:[(0,k.jsx)(r.Z,{onClick:u.goBack,children:"Back"}),(0,k.jsx)(r.Z,{onClick:function(){return n.resetFields()},className:"mx-3",children:"Clear All"}),(0,k.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Next"})]})]}),(0,k.jsx)(g.Z,{visible:l,title:I,footer:null,onCancel:function(){return d(!1)},children:(0,k.jsx)("img",{className:"myimg",alt:"example",style:{width:"100%"},src:x})})]})};var Oe=function(e){var t=(0,a.useState)(null),n=(0,i.Z)(t,2),s=n[0],c=n[1],l=(0,a.useState)(!0),d=(0,i.Z)(l,2),u=d[0],m=d[1],h=(0,a.useState)(null),p=(0,i.Z)(h,2),f=p[0],x=p[1],g=(0,a.useState)(null),j=(0,i.Z)(g,2),Z=(j[0],j[1],(0,a.useState)(null)),v=(0,i.Z)(Z,2),I=(v[0],v[1],(0,a.useState)(null)),S=(0,i.Z)(I,2),N=(S[0],S[1],(0,a.useState)(!1)),C=(0,i.Z)(N,2),_=C[0],w=C[1],F=(0,a.useState)([]),E=(0,i.Z)(F,2),B=E[0],T=E[1],z=(0,a.useState)([]),R=(0,i.Z)(z,2),W=R[0],O=R[1],q=Y.Z.useForm(),K=(0,i.Z)(q,1)[0],G=(0,o.k6)(),H=(0,o.TH)().search,X=new URLSearchParams(H).get("jobsite"),Q=localStorage.getItem("token"),$=function(){var t=K.getFieldsValue();if(console.log(s,e.id,X),s||X)return console.log("update"),void A.Z.post("/api/tc/update-customer-job-site",{id:s||X,tc_customer_id:f,name:t.name,block_number:"",street_number:"",level_number:"",unit_number:"",postal_code:"",country:"",address:t.address,status:_?"ACTIVE":"INACTIVE"},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(Q)}}).then((function(e){console.log(e),m(!u),c(null),K.resetFields(),X&&G.goBack()})).catch((function(e){console.log(e)}));if(e.id){var n=e.id;console.log(n),A.Z.post("/api/tc/new-customer-job-site",{tc_customer_id:n,name:t.name,block_number:t.block_number,street_number:t.street_number,level_number:t.level_number,unit_number:t.unit_number,postal_code:t.postal_code,country:t.country,status:_?"ACTIVE":"INACTIVE"},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(Q)}}).then((function(e){console.log(e),m(!u),K.resetFields()})).catch((function(e){console.log(e)}))}else A.Z.post("/api/tc/new-customer-job-site",{tc_customer_id:e.cId,name:t.name,block_number:t.block_number,street_number:t.street_number,level_number:t.level_number,unit_number:t.unit_number,postal_code:t.postal_code,country:t.country,status:_?"ACTIVE":"INACTIVE"},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(Q)}}).then((function(e){console.log(e),m(!u),K.resetFields()})).catch((function(e){console.log(e)}))};(0,a.useEffect)((function(){X?A.Z.post("/api/tc/get-customer-job-site",{id:X},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(Q)}}).then((function(e){var t=e.data.data;console.log("e",t),x(t.tc_customer_id),console.log(t.address);W.find((function(e){return e.location_address===t.address}));console.log(W),K.setFieldsValue({name:t.name,address:t.address,shift_name:t.address}),w("ACTIVE"===t.status)})).catch((function(e){console.log(e)})):A.Z.post("/api/tc/get-customer-job-site",{id:s},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(Q)}}).then((function(e){var t=e.data.data;W.find((function(e){return e.location_address==t.address}));K.setFieldsValue({name:t.name,address:t.address,shift_name:t.address}),w("ACTIVE"===t.status)})).catch((function(e){console.log(e)}))}),[s]);var ee=(0,a.useState)(""),ne=(0,i.Z)(ee,2),ae=ne[0],se=(ne[1],(0,a.useState)("")),oe=(0,i.Z)(se,2),ie=(oe[0],oe[1],(0,a.useState)([])),ce=(0,i.Z)(ie,2),re=(ce[0],ce[1]);return(0,a.useEffect)((function(){var e;e=ae,A.Z.post("/api/get-pincode",{pin_code:e},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(Q)}}).then((function(e){if(e.data.success){var t=e.data.results;t=t.filter((function(e){return e.POSTAL&&"NIL"!=e.POSTAL.toUpperCase()})),re(t)}})).catch((function(e){console.log(e)})),console.log(ae)}),[ae]),(0,a.useEffect)((function(){console.log(e.cId),console.log(e.id),x(+e.cId),e.id&&x(+e.id),A.Z.post("/api/hrms/all-shift-locations",{search:""},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(Q)}}).then((function(e){if(e.data.success){var t=e.data.shift_locations;O(t),console.log(W)}})).catch((function(e){console.log(e)})),A.Z.post("/api/all-user-groups",{search:""},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(Q)}}).then((function(e){if(e.data.success){var t=e.data.user_groups;t=t.filter((function(e){return null!=e.location_id})),T(t)}})).catch((function(e){console.log(e)}))}),[]),(0,k.jsxs)("div",{children:[(0,k.jsxs)(Y.Z,{form:K,labelCol:{span:10},wrapperCol:{span:18},layout:"vertical",onFinish:function(t){e.onNext(),A.Z.post("/api/tc/new-customer-job-site",{tc_customer_id:f,name:t.name,block_number:"",street_number:"",level_number:"",unit_number:"",postal_code:"",country:"",address:t.address,status:_?"ACTIVE":"INACTIVE"},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(Q)}}).then((function(e){console.log(e),K.resetFields()})).catch((function(e){console.log(e)}))},children:[(0,k.jsxs)(V.Z,{className:"mt-3",children:[(0,k.jsx)("p",{className:"font-weight-bold font-size-md mb-4",children:"Job Site Details"}),(0,k.jsxs)(J.Z,{align:"bottom",children:[(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"name",label:"Job Site",rules:[{required:!0,message:"Please input job site name!"}],children:(0,k.jsx)(P.Z,{onSelect:function(e){var t=B.find((function(t){return t.name==e}));if(t){var n=W.find((function(e){return e.id==t.location_id}));K.setFieldsValue({shift_name:n.location_name,address:n.location_address})}},children:B.map((function(e,t){return(0,k.jsx)(P.Z.Option,{value:e.name,children:e.name},e.name)}))})})}),(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"shift_name",label:"Shift location Name",children:(0,k.jsx)(P.Z,{disabled:!0,children:W.map((function(e,t){return(0,k.jsx)(P.Z.Option,{value:e.location_address,children:e.location_name},t)}))})})})]}),(0,k.jsx)(J.Z,{align:"bottom",children:(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"address",label:"Job Site Address",children:(0,k.jsx)(b.Z,{disabled:!0})})})}),(0,k.jsx)(J.Z,{align:"bottom",children:(0,k.jsx)(M.Z,{span:12,children:(0,k.jsxs)(Y.Z.Item,{name:"status",label:"Status",style:{alignContent:"start"},children:[_?"ACTIVE":"INACTIVE",(0,k.jsx)(U.Z,{checked:_,onClick:function(e){var t=K.getFieldValue().status;w(e),console.log(t)},className:"ml-2"})]})})})]}),!X&&(0,k.jsx)(V.Z,{className:"mt-2",children:(0,k.jsxs)(r.Z,{block:!0,type:"dashed",className:"d-flex align-items-center justify-content-center pt-4 pb-4",onClick:$,children:[(0,k.jsx)(y.Z,{component:L.v8}),(0,k.jsx)(te.Z,{level:3,className:"mb-0",bold:!0,style:{color:"#0E7CEB"},children:"Add New Job Site"})]})}),(0,k.jsxs)(Y.Z.Item,{className:"d-flex align-items-end Button",children:[X?(0,k.jsx)(r.Z,{onClick:function(){G.goBack()},children:"Back"}):(0,k.jsx)(r.Z,{onClick:e.onPre,children:"Back"}),(0,k.jsx)(r.Z,{onClick:function(){return K.resetFields()},className:"mx-3",children:"Clear All"}),X?(0,k.jsx)(r.Z,{onClick:$,type:"primary",htmlType:"button",children:"Save"}):(0,k.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Next"})]})]}),!X&&(0,k.jsx)("div",{children:e.id?(0,k.jsx)(D,{id:e.id,tog:u,setEditjobfield:c}):(0,k.jsx)(D,{id:e.cId,tog:u,setEditjobfield:c})})]})},Le=[];var qe=function(e){var t=(0,a.useState)(Le),n=(0,i.Z)(t,2),s=n[0],l=n[1],u=localStorage.getItem("token"),m=(0,a.useState)(!1),h=(0,i.Z)(m,2),j=h[0],b=h[1],Z=function(){b(!1)},v=[{title:"Sr No",dataIndex:"key",render:function(e){return(0,k.jsx)("div",{className:"d-flex align-items-center",children:+e+1})}},{title:"User ID",dataIndex:"userId"},{title:"",dataIndex:"img",render:function(e){var t=e.image;e.name;return(0,k.jsx)("div",{className:"d-flex align-items-center",children:(0,k.jsx)(Me.C,{src:t})})}},{title:"User Name",dataIndex:"userName"},{title:"Gender",dataIndex:"gender"},{title:"Nationality",dataIndex:"nationality"},{title:"Mobile Number",dataIndex:"mobileNumber"},{title:"Email ID",dataIndex:"emailId"},{title:"Job Sites",dataIndex:"jobSite",render:function(e){console.log(e);var t,n="",a=(0,Ye.Z)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;n.length>1&&(n+=", "),n+=""+s}}catch(o){a.e(o)}finally{a.f()}return(0,k.jsx)("div",{children:n})}},{title:"Status",dataIndex:"status"},{title:"Action",render:function(e,t){return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(S.Z,{menu:(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(c.Z.Item,{children:(0,k.jsxs)(d.rU,{to:"/app/customer-management/customer-accounts/edit-customer-user/".concat(t.userId),className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.dY}),"Edit"]})}),(0,k.jsx)(c.Z.Item,{onClick:function(){b(!0)},children:(0,k.jsxs)("span",{className:"d-flex align-items-center",children:[(0,k.jsx)(y.Z,{className:"mr-2",component:I.pJ}),"Delete"]})}),(0,k.jsx)(g.Z,{visible:j,onCancel:Z,centered:!0,footer:[(0,k.jsx)(r.Z,{style:{color:"#000B23"},onClick:Z,className:"font-weight-bold",children:"No, Cancel"},"cancel"),(0,k.jsx)(r.Z,{type:"primary",className:"font-weight-bold",onClick:function(){return e=t.id,console.log(e),b(!1),void A.Z.post("/api/tc/delete-customer-users",{id:e}).then((function(e){var t=e.data;console.log(t),t.success&&O()})).catch((function(e){console.log(e)}));var e},children:"Yes, Confirm"},"confirm")],children:(0,k.jsx)("div",{style:{color:"#000B23"},className:"font-weight-bolder font-size-md",children:"Are you sure you want to delete this customer user?"})})]})})})}}],_=(0,a.useState)([]),w=(0,i.Z)(_,2),F=(w[0],w[1],(0,a.useState)(1)),E=(0,i.Z)(F,2),B=E[0],P=E[1],T=(0,a.useState)(0),D=(0,i.Z)(T,2),z=D[0],Y=D[1],V=(0,a.useState)(!1),J=(0,i.Z)(V,2),M=J[0],R=J[1],U=(0,o.k6)(),W=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(!0),setTimeout((function(){R(!1),U.push("/app/customer-management/customer-accounts")}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){A.Z.post("/api/tc/get-customer-users",{page_index:B,page_size:10,customer_id:e.id},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(u)}}).then((function(e){var t=e.data.data.data,n=t.map((function(e,t){return{key:t,userId:e.id,userName:e.name,gender:(0,k.jsx)(y.Z,{component:"Male"===e.gender?L.tS:L.WW}),nationality:"India"===e.nationality?(0,k.jsx)(ee.IN,{title:"SG",className:"countrtFlag"}):"Singapore"===e.nationality?(0,k.jsx)(ee.SG,{title:"SG",className:"countrtFlag"}):(0,k.jsx)(ee.CN,{title:"SG",className:"countrtFlag"}),img:{image:e.profile_pic,name:e.name},mobileNumber:e.phone,emailId:e.email,jobSite:e.job_sites,status:e.status}}));console.log(t),l(s.concat(n))})).catch((function(e){console.log(e)}))};return(0,a.useEffect)((function(){O()}),[B]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{children:(0,k.jsx)(x.Z,{scroll:{x:1300},columns:v,dataSource:s,onChange:function(e){z<=e.current&&(P(e.current),Y(e.current))}})}),(0,k.jsxs)("div",{className:"d-flex w-full justify-content-end Button mt-4",children:[(0,k.jsx)(r.Z,{className:"mx-3",onClick:e.onPre,children:"Back"}),(0,k.jsx)(r.Z,{type:"primary",htmlType:"submit",onClick:W,children:"Save"})]}),(0,k.jsx)(g.Z,{centered:!0,visible:M,footer:[null],onCancel:function(){R(!1)},children:(0,k.jsx)(N.Z,{icon:C.Ko,title:"Customer Added Successfully!",desc:"Customer was added in the system"})})]})},Ke=[{title:"Basic Details",icon:X.O4,activeIcon:X.J7},{title:"Job Site Details",icon:X.Il,activeIcon:X.Ll},{title:"Customer Users",icon:C.OW,activeIcon:C.OW}];var Ge=function(){var e=(0,o.UO)(),t=(0,a.useState)(null),n=(0,i.Z)(t,2),s=n[0],c=n[1],l=(0,a.useState)("1"),u=(0,i.Z)(l,2),p=u[0],f=u[1],x=function(){+p<3&&f((+p+1).toString())},g=function(){+p<=3&&f((+p-1).toString())},j=[(0,k.jsx)(We,{onNext:x,setCId:c,id:e.id}),(0,k.jsx)(Oe,{onPre:g,onNext:x,cId:s,id:e.id}),(0,k.jsx)(qe,{onPre:g,onNext:x,cId:s,id:e.id})],b=(0,k.jsx)(d.rU,{to:"/app/customer-management/customer-accounts/add-new-customer-user/".concat(e.id),children:(0,k.jsxs)(r.Z,{className:"d-flex align-items-center",type:"primary",size:"large",children:[(0,k.jsx)("img",{className:"mr-2",src:m.Z,alt:"plusIcon"}),"Add New"]})}),Z=(0,a.useState)(!1),v=(0,i.Z)(Z,2),I=v[0],S=v[1],A=(0,o.TH)();return(0,a.useEffect)((function(){A.search?(console.log(A.search),console.log("jobsite"),S(!0),f("2")):(console.log("CustomerAccount"),S(!1))}),[A.search]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.Z,{title:I?"Customer Management / Job Sites / Edit Job Site":"Customer Management / Customer Account / Add New Customer",svg:C.OW}),(0,k.jsxs)(H.Z,{activeKey:p,size:"large",onChange:function(e){f(e)},tabBarExtraContent:3==p&&b,children:[!I&&(0,k.jsx)(H.Z.TabPane,{tab:(0,k.jsxs)("span",{className:"d-flex align-items-center hover-color",children:[(0,k.jsx)(y.Z,{component:"1"===p?Ke[0].activeIcon:Ke[0].icon}),Ke[0].title]}),children:j[0]},"1"),(0,k.jsx)(H.Z.TabPane,{tab:(0,k.jsxs)("span",{className:"d-flex align-items-center hover-color",children:[(0,k.jsx)(y.Z,{component:"2"===p?Ke[1].activeIcon:Ke[1].icon}),Ke[1].title]}),children:j[1]},"2"),!I&&(0,k.jsx)(H.Z.TabPane,{tab:(0,k.jsxs)("span",{className:"d-flex align-items-center hover-color ".concat("3"===p?"activePink":""),children:[(0,k.jsx)(y.Z,{component:"3"===p?Ke[2].activeIcon:Ke[2].icon}),Ke[2].title]}),children:j[2]},"3")]})]})},He=["Singapore","Malaysia","India","Bangladesh","Myanmar","Brunei Darussalam","Afghanistan","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia (Plurinational State of)","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo (the Democratic Republic of the)","Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cura\xe7ao","Cyprus","Czechia",'C\xf4te d"Ivoire',"Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Falkland Islands [Malvinas]","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See","Honduras","Hong Kong","Hungary","Iceland","Indonesia","Iran (Islamic Republic of)","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati",'Korea (the Democratic People"s Republic of)',"Korea (the Republic of)","Kuwait","Kyrgyzstan",'Lao People"s Democratic Republic',"Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia (Federated States of)","Moldova (the Republic of)","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine, State of","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Republic of North Macedonia","Romania","Russian Federation","Rwanda","R\xe9union","Saint Barth\xe9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom of Great Britain and Northern Ireland","United States Minor Outlying Islands","United States of America","Uruguay","Uzbekistan","Vanuatu","Venezuela (Bolivarian Republic of)","Viet Nam","Virgin Islands (British)","Virgin Islands (U.S.)","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe","\xc5land Islands"],Xe=R.Z.Dragger;var Qe=function(e){var t=(0,o.UO)(),n=!!window.location.href.includes("edit"),s=Y.Z.useForm(),c=(0,i.Z)(s,1)[0],l=(0,a.useState)(!1),d=(0,i.Z)(l,2),u=d[0],m=d[1],p=(0,o.k6)(),f=(0,a.useState)(""),x=(0,i.Z)(f,2),v=x[0],y=(x[1],(0,a.useState)("")),I=(0,i.Z)(y,2),S=I[0],N=(I[1],(0,a.useState)([])),C=(0,i.Z)(N,2),_=C[0],w=C[1],F=(0,a.useState)([]),E=(0,i.Z)(F,2),B=E[0],T=E[1],D=(0,a.useState)(""),z=(0,i.Z)(D,2),U=z[0],O=z[1],L=(0,a.useState)(!1),q=(0,i.Z)(L,2),K=(q[0],q[1]),G=localStorage.getItem("token"),H={name:"file",multiple:!1,action:"".concat(A.Z.defaults.baseURL,"/api/tc/upload-document"),headers:{Authorization:"Bearer ".concat(G)},onChange:function(e){var t=e.file.status;"uploading"!==t&&(console.log(B),console.log(e.file,e.fileList)),"done"===t?(Z.ZP.success("".concat(e.file.name," file uploaded successfully.")),c.setFieldsValue({uploaded_file:{name:e.file.name,url:e.file.response.url}})):"error"===t&&Z.ZP.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){Z.ZP.success("".concat(e.dataTransfer.files," file is deleted.")),console.log("Dropped files",e.dataTransfer.files),c.setFieldsValue({uploaded_file:null})}},X=(0,a.useState)(""),Q=(0,i.Z)(X,2),$=Q[0],ee=(Q[1],(0,a.useState)([])),te=(0,i.Z)(ee,2),ne=(te[0],te[1]);(0,a.useEffect)((function(){var e;e=$,A.Z.post("/api/get-pincode",{pin_code:e},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){if(e.data.success){var t=e.data.results;e.data.results.length&&console.log(e.data.results),ne(t)}})).catch((function(e){console.log(e)})),console.log($)}),[$]);var ae=(0,k.jsxs)("div",{children:[(0,k.jsx)(W.Z,{}),(0,k.jsx)("div",{style:{marginTop:8,width:"250px"},children:"Upload Picture"})]});return(0,a.useEffect)((function(){n||c.setFieldsValue({status:!0})}),[]),(0,a.useEffect)((function(){console.log("Is Customer Edit :",n),n&&t.id&&A.Z.post("/api/tc/get-customer",{id:t.id},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){var t,n,a,s,o,i,r,l,d,u,m,h=e.data.data;if(h.other_details){var p=JSON.parse(h.other_details);h=(0,j.Z)((0,j.Z)({},h),p)}console.log(h);var f=localStorage.getItem("name");c.setFieldsValue({customerId:h.id,email:h.email,name:h.name,phone:h.phone,status:h.status,profile_pic:null===(t=h)||void 0===t?void 0:t.profile_pic,contact_name:null===(n=h)||void 0===n?void 0:n.contact_name,office_contact_number:null===(a=h)||void 0===a?void 0:a.office_contact_number,uen_number:null===(s=h)||void 0===s?void 0:s.uen_number,postal_code:null===(o=h)||void 0===o?void 0:o.postal_code,block_number:null===(i=h)||void 0===i?void 0:i.block_number,level_number:null===(r=h)||void 0===r?void 0:r.level_number,unit_number:null===(l=h)||void 0===l?void 0:l.unit_number,street_number:null===(d=h)||void 0===d?void 0:d.street_number,country:null===(u=h)||void 0===u?void 0:u.country,created_by:(null===(m=h)||void 0===m?void 0:m.created_by)||f}),h.profile_pic&&w([{url:h.profile_pic}]),K(h.status)})).catch((function(e){console.log(e)}))}),[e.id]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.Z,{title:n?"Edit Customer":"Add New Customer"}),(0,k.jsx)("div",{children:(0,k.jsxs)("div",{children:[(0,k.jsxs)(Y.Z,{form:c,labelCol:{span:10},wrapperCol:{span:18},layout:"vertical",onFinish:function(a){console.log(a.status);var s=localStorage.getItem("name");n&&(t.id||e.id)?A.Z.post("/api/tc/update-customer",{id:t.id,name:a.name,profile_pic:U,email:a.email,phone:String(a.phone),status:a.status,other_details:JSON.stringify({contact_name:a.contact_name,office_contact_number:a.office_contact_number,uen_number:a.uen_number,postal_code:a.postal_code,block_number:a.block_number,level_number:a.level_number,unit_number:a.unit_number,street_number:a.street_number,country:a.country,created_by:a.created_by||s,uploaded_file:a.uploaded_file||""})},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){e.data.success?p.goBack():Z.ZP.warn(e.data.msg)})).catch((function(e){console.log(e)})):A.Z.post("/api/tc/new-customer",{name:a.name,profile_pic:U,email:a.email,phone:String(a.phone),status:"Pending Approval",other_details:JSON.stringify({contact_name:a.contact_name,office_contact_number:a.office_contact_number,uen_number:a.uen_number,postal_code:a.postal_code,block_number:a.block_number,level_number:a.level_number,unit_number:a.unit_number,street_number:a.street_number,country:a.country,created_by:s,uploaded_file:a.uploaded_file||""})},{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(G)}}).then((function(e){console.log(e),e.data.success?p.goBack():e.data.msg?Z.ZP.warn(e.data.msg):Z.ZP.error("Something went wrong")})).catch((function(e){console.log(e)}))},children:[(0,k.jsxs)(V.Z,{className:"mt-2",children:[(0,k.jsx)("div",{className:"d-flex justify-content-end",style:{color:"red"},children:(0,k.jsx)("div",{children:"* Indicates Mandatory Fields"})}),(0,k.jsx)("div",{className:"d-flex justify-content-between heading-container my-3",children:(0,k.jsx)("div",{className:"heading",children:"Customer Details"})}),(0,k.jsx)(J.Z,{align:"bottom",children:(0,k.jsx)(M.Z,{span:12,children:(0,k.jsx)(Y.Z.Item,{name:"profile_pic",children:(0,k.jsx)(R.Z,{listType:"picture-card",fileList:_,accept:"image/*",onChange:function(e){var t=e.fileList;w(t),console.log(t);var n=new FormData;t[0].url?O(t[0].url):(n.append("file",t[0].originFileObj),(0,A.Z)({method:"post",url:"/api/tc/upload-document",data:n,headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(G)}}).then((function(e){console.log(e),e.data.success&&O(e.data.url)})).catch((function(e){console.log(e)})))},beforeUpload:function(){return!1},children:_.length>=1?null:ae})})})}),(0,k.jsxs)(J.Z,{align:"top",children:[(0,k.jsxs)(M.Z,{span:12,children:[n&&(0,k.jsx)(Y.Z.Item,{name:"customerId",label:"Customer ID",children:(0,k.jsx)(b.Z,{disabled:!0})}),(0,k.jsx)(Y.Z.Item,{name:"contact_name",label:"Contact Person Name",children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"office_contact_number",label:"Office Contact Number",children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"uen_number",label:"UEN Number",rules:[{required:!0,message:"Please input Company Name!"}],children:(0,k.jsx)(b.Z,{})})]}),(0,k.jsxs)(M.Z,{span:12,children:[(0,k.jsx)(Y.Z.Item,{name:"name",label:"Company Name",rules:[{required:!0,message:"Please input Company Name!"}],children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please input your valid Phone Number!"},{message:"Phone number must have atleast 8 digits",validator:function(e,t){return/^\d{8,}$/.test(t)?Promise.resolve():Promise.reject("Some message here")}}],children:(0,k.jsx)(b.Z,{style:{width:"100%"},minLength:8})}),(0,k.jsx)(Y.Z.Item,{name:"email",label:"Email Id",rules:[{required:!0,type:"email",message:"Please input your valid Email Id!"}],children:(0,k.jsx)(b.Z,{})})]})]}),(0,k.jsx)("div",{className:"d-flex justify-content-start heading-container",children:(0,k.jsx)("div",{className:"heading",children:"Other Details"})}),(0,k.jsx)("div",{className:"heading mt-3 mb-2",children:"Company Address"}),(0,k.jsx)("div",{children:(0,k.jsxs)(J.Z,{align:"top",children:[(0,k.jsxs)(M.Z,{span:12,children:[(0,k.jsx)(Y.Z.Item,{name:"country",label:"Country",rules:[{required:!0,message:"Please input Country!"}],children:(0,k.jsx)(P.Z,{showSearch:!0,children:He.map((function(e,t){return(0,k.jsx)(P.Z.Option,{value:e,children:e},t)}))})}),(0,k.jsx)(Y.Z.Item,{name:"street_number",label:"Street Name",rules:[{required:!0,message:"Please input Street Number!"}],children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"level_number",label:"Level - Unit No",rules:[{required:!0,message:"Please input Level Number!"}],children:(0,k.jsx)(b.Z,{})})]}),(0,k.jsxs)(M.Z,{span:12,children:[(0,k.jsx)(Y.Z.Item,{name:"postal_code",label:"Postal Code",rules:[{required:!0,message:"Please input Postal code!"}],children:(0,k.jsx)(b.Z,{})}),(0,k.jsx)(Y.Z.Item,{name:"block_number",label:"Block No",rules:[{required:!0,message:"Please input Block Number!"}],children:(0,k.jsx)(b.Z,{})})]})]})}),(0,k.jsx)("div",{className:"heading mb-3",children:"Upload Files"}),(0,k.jsxs)(Xe,(0,j.Z)((0,j.Z)({},H),{},{children:[(0,k.jsx)("p",{className:"ant-upload-drag-icon",children:(0,k.jsx)(je.Z,{})}),(0,k.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,k.jsx)("p",{className:"ant-upload-hint",children:"Files supported: pdf,doc,etc."})]}))]}),(0,k.jsxs)(Y.Z.Item,{className:"d-flex align-items-end Button",children:[(0,k.jsx)(r.Z,{onClick:p.goBack,children:"Cancel"}),(0,k.jsx)(r.Z,{onClick:function(){c.resetFields(),w([]),T([])},className:"mx-3",children:"Clear All"}),(0,k.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Save"})]})]}),(0,k.jsx)(g.Z,{visible:u,title:S,footer:null,onCancel:function(){return m(!1)},children:(0,k.jsx)("img",{className:"myimg",alt:"example",style:{width:"100%"},src:v})})]})})]})};var $e=function(){var e=(0,o.$B)();return(0,k.jsxs)("div",{children:[(0,k.jsx)(o.AW,{path:"".concat(s.sH,"/customer-management"),exact:!0,children:(0,k.jsx)(o.l_,{to:"".concat(e.path,"/customer-accounts")})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts"),exact:!0,children:(0,k.jsx)(B,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts/customer-details/:id"),exact:!0,children:(0,k.jsx)(he,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts/customer-details/:id/invoice"),exact:!0,children:(0,k.jsx)(ze,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts/add-new-payments"),exact:!0,children:(0,k.jsx)(be,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts/add-new-invoice/:id"),exact:!0,children:(0,k.jsx)(Ie,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts/edit-invoice/:id"),exact:!0,children:(0,k.jsx)(Ce,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts/add-new"),exact:!0,children:(0,k.jsx)(Qe,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts/edit/:id"),exact:!0,children:(0,k.jsx)(Qe,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts/view/:id"),exact:!0,children:(0,k.jsx)(Ge,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts/add-new-associate-customer/:customer_id"),exact:!0,children:(0,k.jsx)(G,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-accounts/edit-associate-customer/:id"),exact:!0,children:(0,k.jsx)(G,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/job-sites"),exact:!0,children:(0,k.jsx)(z,{})}),(0,k.jsx)(o.AW,{path:"".concat(e.path,"/customer-users-all"),exact:!0,children:(0,k.jsx)(Re,{})})]})}},18538:function(e){e.exports="data:image/png;base64,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"},89536:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAtzSURBVHgBnVdJcBTnFf5mprune3qWnhmNNBqB1FoRliESeCGOY5s4B8cpKuSQgyuVKjj7ADnlkirMKVW+gE9JXKlALrFNpYwpiqKwWWSH2CqMDZgdITFa0DJrz9azdE9PvlEFL9hJSFrqUo3U6vf+9773fd9z4RGvffsOaHXL3PnECzuen5++My4Llp5ZWdR6Ej3Ir8wDjm04Hik5MDRyWZOESU+459j27RPGo7zb9d8eOPnJPX1paXlP9u7lXZI/qnVvmIAoCKgaqyhk09C0MEpGBkHZhUw2i8R6HZI/BDOXgm3bh91ucf8rr/wk+X8lcejQOa0I57VIR3hPyTBgLt1CINyBjg1b4WpaaMGNfGYVXiYEx4G3ZaJo5JDOF9DdNwqrXoHNO+j3wePCwWp1df/u3buNR07idweO6vG+xDm0WrpX8qJcyMMpr8ButTAw/kO0HBvzySSqJQPxeBxOw4LidSO1PAfLkfh3BwuztyC6gVhnDH6/H7ZlJ5Wgb/vu3a8kH47nefgXr795YlwJyCebtq3X63X4Az643S2eqsigOajhGIJaEFowAH9Ig7tRRL2QgluQ0LBtNKsVnDj8Bt459jampj6CYjcwtmEElmVqqJs7t23c8OHZqamVr8d0f/3DgUMndQHO0VAgoIcjEciCC/VKAR6W3x/QEAqGEA6H0TBZGavCE/rgVWW4RRG51OLas0omjQLb0Gg6qDebOHbuA6imifzCDDILs/qnX1w5um18VP/OJA4dvaQVV+fO5dKLeqNaQDa7Ap8E9ryJRq0IQXCjWSugmEqiYpRhtltULSEQUNGoltcSCFVqOHrqOD67efPLPo8NjSAk+dEf78Knn36CdCalK27vOV3TtG8lYZnp16SApse6YsitLqNlMft8GgJRFVD9cOomVleWiPoMq1CFKEnscxW1cplJVuBhG868fxonL36EZusruEkeD8IuD370zHPoX5fAcF8vmpal1+Hs+0YSv3/rqD597eIeM7eCFnHg8yloFPMQHAt3rn6BOk9aK+WxsrQEI5uC6GqimM/CWF1EiZ8vfnwWpaU0jn5yilhuB2+tfa1dLQdRSYRf8eH74+MolgooV02Or7U3Lsv6l0kUcta+rt4BeNweFAo8KTGg+gMIRKIYHBnBCvuJpo2o4sG7f/0TTh05hA+O/BmLNz6HUC/hmdHv4WpyFjW7xmACvDy94HKtVSMa9ENVBTTT89i8YQNSuQLSuTyTbaHctPesTce+ffu0Zr35tk8UmIQLHpbZK/InH5qfvobU3B0szdyCJrkgw0GEU2EpLrz47AvwygSNWUTI50d6dQkvbd2CeCSEmaXldjHw5KZN2PviDvT39sCfGECVFf3DkSMwSmVWosm2NUdVB38UJLVzpyT7UWvUcefGFYQCCpqNKnJkvyinYaAvgf7EVljFLBvsRk9vN5JLSdzOLiLR9KBcruDq3TnI5QLGEn1Yr6zD5qFfYmRdP8pZA4FiidwB1MsN5MwGNur9qFVvoFyrIajIWtW2f+apFYw9uZV74309PcguzWJ86wSMdAoWM/UH/JyEDPkgCIVgzrNNMqdlINaD/p4+qEUT8zduY/L0JJ6OxnDssymUWiK2bpxAx+BjyJyfQkTxwvKJCHd2Yub+NCQy2OTFS2uArZHkZNFjCKNDfeMelxumkcLY5q24cOk69HW9iMbqSN69CZ/bYUItuIiXDr9KVrzP6nSjePs2WmWOb8NBL7WikMshEohgONpJYuPLeVKhYiI8MY5I3xAcoUWuqmG4Q4XPKyGs+liNKlHTGhc2jU/oxbJJNizDU2+glwk4LRsuq44Es7dqJiSvwFF148rcAlRBhJUtICgEsNwsISaoaDW8KFZtbNk0yBN3Icn2DlydhtYRROKxfmKhgOTMMurGMrFmrlUhXylB9fL/KjVdyJXqmpuV8PIUjkeGqogwlmepzDUSkoEYp8brlbHM8WzWa1BabiRMATOVLEKsUKFQQsWuI9qVwNjIY7gd6ULvzeu4kC9jYqAHq+klCpgIk8C/O30diqIgwBiyoOA+xY48pAmSJMMkqMoVBuzoIPvVsZpahZ96sbi4gBLpV+RUzM3PsyUWNkX7eYoKfMRER6WKhYvXEdBC2PT4GOCT0cVnVTWCrmd/DL+VJfgsFIwSsSLjVsWLTgbn4MFk1SWPAIOULpSLhiFLbs3hRBTvJ5GjMjYIGIfSJope9BKQI5EYntY3QrJsVFeWccdkVaQ+KDOLmK4WMTwYR1esC9mBEbiY+G1qxkRHDF1NCa7sNWRLaVxLVhFhe9pjWrMtNDgybUIL+HyGkMukkkUjO14q5KAFgoioCvTOELaNPo71vgiW5yg8ySWIXQIybc5YneO/CuiN5eB1C6gRK1se34zawCDNjgdxlvrNc6fw7DNP8aR5ZKtk3VIdGUpAamUFSiiOPn0Q83NJ2Ey2UK0mXb959dVDqtve1dcRQW+nhrJRwZbhUeqBjbnZWVj8ctludLYEnOEIJnQdZaK/1XBBIpYEUnwHK+YSPQhGoxDZvsVMDn0DnejxmTh76Rpa8V5cWbgPfWgAg8MjCGtRLK6m8N7f3sUHZ08f9hzYtSP8eEdw53B3F4IEZ4wPlHJZLMwv4Oq9JM7fvgeRE6JJPE2liUuzSYSJoyF9CLFwBAm6LVESoDCRgD9IorMw1NdJab+DuVwZIFMuLi1AJt4S63uJES/jyIi0gTy6Aa5g7KDr6IED2oUrl+45tabWcrvpkGhivAqyxRwWjSyWM3n89rknMBSPUHwsZPMGHKJdkINwEVyKKKFSa5DQApCJ/JqZZpmLkFghV3wdbn5xHdWAAF/nOnTGOhENa1Do1lqcOFvW2l4k7Hnn1Knayz99OR7uH9gWGdoIORaF7WOAYJT9opA5VWwfSHByImQ7kSOmwSf4KVAeApfC5Goh1B0lPly4v3oXZi0Hi23yDY1h5sZdvk9ByQb81JyEPkyBE1GiknopkFbTffiJp596R2ir2PsnTr7hUaS9XYn1WMnmoWpdHM8kuWERu7eNrcl7sz1K9JbRcC9qIaBKf9H2uLKsMLCN5dQNtNxNeIIRNH1RzNy5R6Gzcfofn2HLth8g3L0eApMu02wsl1u48/EZCoqz/yvnwWuoO3ZAlL17Bfa7Xd5sgVaNf379VzswGpAQElWogRjcaifMhgFJJuGQ3EoUpUxhFcQpGmoUn09dwPqxfhRoAY+fOY+h8W3YsuVJWPQZd+/NY372LlbuL2B9rOPg4ePHf/2NJHRd1xbm5y85bYftCyBKLzHKMv/iuSfhJ8jWdfXAbnDfoGo6xMG63j60acxsO29OQ9lsrk1S9+ZRzE7fopWjmLlCEFROXKmC6Znba9HiEY2YcZIDicTEe5OTxjeSeJAL73Ptn26CNB4OYnx4EP3ESTd7qMoygnRJtovAcgS02HuHo6nEgtxJ/CDnoFYr4er1q3jr9EVo4Si9kNUWKZKpvBYsFgklvb7g9smpqeSDoA9b/nZmH/J+ic5Hq9PC+xQJWmccRepGqQHM54tI01eGNwwhNKhD6e4m+1Vx6fML3MiW6Ttr+MuJv0NqTwCrpHAk/YrMHYTJ+uSkX/T8nFJ+6+tB/90Gpj+oiEjF6++JI0glHSXRtK1/g7whB8KwSdmCyyYzupDLpWFWGzh/bZZ6UEUHq2iTmlW6cQ9dpKooyWqtvv1WklvTQ9d/2kXblrztiPe2P7Q9Y9v+8RshVifIl0cCbJFfYTALs/dTSBVoB5h0e/XrIftmDBMRao/klQ4qmrh/cvLyo6+B31GVdjK7HvxCpl6I7T3E4WbGlc9qe3wmqRAfAS5DKrc24sewHRz2Cu43Lt/69un/1yQeXO3K7OT9PO/xfyW3tsB42A5VFgxKSpJ9v6wF1UmjWDtm8HqUF/8TtTE+Wqix58MAAAAASUVORK5CYII="},92995:function(e){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=379.7b90c500.chunk.js.map