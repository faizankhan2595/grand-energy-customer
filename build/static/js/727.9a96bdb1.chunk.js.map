{"version":3,"file":"static/js/727.9a96bdb1.chunk.js","mappings":"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","sources":["utils/textEditorModules.js","views/app-views/ContractManagement/Quotations/Export-Dropdown.js","views/app-views/ContractManagement/Quotations/Export-ItemsAndServices.js","../node_modules/antd/es/time-picker/index.js","views/app-views/ContractManagement/Quotations/ActionIcons.js","views/app-views/ContractManagement/Quotations/Actions.js","views/app-views/ContractManagement/Quotations/QuotationTable.js","views/app-views/ContractManagement/Quotations/Quotations.js","views/app-views/ContractManagement/Quotations/Form1.js","views/app-views/ContractManagement/Quotations/QuotationModal.js","views/app-views/ContractManagement/Quotations/AddNewQuotation.js","webpack://emilus/./src/views/app-views/ContractManagement/Quotations/SendQuotation/SendQuotation.module.css?7d61","views/app-views/ContractManagement/Quotations/SendQuotation/SendQuotationModal.js","views/app-views/ContractManagement/Quotations/SendQuotation/SendQuotation.js","views/app-views/ContractManagement/Quotations/RecordPayments/RecordPaymentsForm.js","views/app-views/ContractManagement/Quotations/ImageUpload.js","views/app-views/ContractManagement/Quotations/RecordPayments/SaveRecordPaymentsModal.js","webpack://emilus/./src/views/app-views/ContractManagement/Quotations/RecordPayments/RecordPayments.module.css?6d99","views/app-views/ContractManagement/Quotations/RecordPayments/RecordPayments.js","views/app-views/ContractManagement/Contracts/ActionIcons.js","views/app-views/ContractManagement/Contracts/Actions.js","views/app-views/ContractManagement/Contracts/ContractTable.js","views/app-views/ContractManagement/Contracts/Contracts.js","webpack://emilus/./src/views/app-views/ContractManagement/Contracts/ViewContract/ViewContract.module.css?261f","views/app-views/ContractManagement/Contracts/ContractView/Reminder.js","views/app-views/ContractManagement/ServiceTimeSheet/ActionIcons.js","views/app-views/ContractManagement/ServiceTimeSheet/Actions.js","views/app-views/ContractManagement/ServiceTimeSheet/ContractTable.js","views/app-views/ContractManagement/ServiceTimeSheet/WorkOrder.js","views/app-views/ContractManagement/Contracts/ViewContract/ViewContract.js","webpack://emilus/./src/views/app-views/ContractManagement/Quotations/ViewQuotation/ViewQuotation.module.css?cfd8","views/app-views/ContractManagement/Quotations/ViewQuotation/ViewQuotation.js","views/app-views/ContractManagement/Quotations/Invoice/QuotationModal.js","views/app-views/ContractManagement/Quotations/Invoice/FormInvoice.js","views/app-views/ContractManagement/Quotations/Invoice/GenerateInvoice.js","webpack://emilus/./src/views/app-views/ContractManagement/Quotations/Invoice/ViewInvoice/ViewInvoice.module.css?ff81","views/app-views/ContractManagement/Quotations/Invoice/ViewInvoice/ViewInvoice.js","views/app-views/ContractManagement/WorkdOrder/ActionIcons.js","views/app-views/ContractManagement/WorkdOrder/Actions.js","views/app-views/ContractManagement/WorkdOrder/ContractTable.js","views/app-views/ContractManagement/WorkdOrder/WorkOrder.js","views/app-views/ContractManagement/Contracts/ContractView/BasicDetails.js","views/app-views/ContractManagement/Contracts/ContractView/index.js","webpack://emilus/./src/views/app-views/ContractManagement/ServiceTimeSheet/Service.module.css?9540","views/app-views/ContractManagement/ServiceTimeSheet/ServiceInvoice.js","views/app-views/ContractManagement/ContractManagement.js","views/app-views/CustomerManagement/CustomerAccounts/InvoiceTable.js","views/app-views/CustomerManagement/CustomerAccounts/Payments.js","views/app-views/InquiryManagement/ActionsIcons.js"],"sourcesContent":["export const formats = [\r\n  \"font\",\r\n  \"header\",\r\n  \"bold\",\r\n  \"italic\",\r\n  \"underline\",\r\n  \"strike\",\r\n  \"blockquote\",\r\n  \"color\",\r\n  \"background\",\r\n  \"script\",\r\n  \"super\",\r\n  \"list\",\r\n  \"bullet\",\r\n  \"indent\",\r\n  \"link\",\r\n  \"image\",\r\n];\r\nexport const modules = {\r\n  toolbar: [\r\n    [{ font: [] }],\r\n    [{ header: [1, 2, 3, false] }],\r\n    [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\r\n    [{ color: [] }, { background: [] }],\r\n    [{ script: \"sub\" }, { script: \"super\" }],\r\n    [\r\n      { list: \"ordered\" },\r\n      { list: \"bullet\" },\r\n      { indent: \"-1\" },\r\n      { indent: \"+1\" },\r\n    ],\r\n    [\"link\", \"image\"],\r\n  ],\r\n};\r\n\r\n\r\nexport const content=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like AldusPageMaker including versions of Lorem Ipsum Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like AldusPageMaker including versions of Lorem IpsumLorem Ipsum is simply dummy text of the printing and typesetting industry.Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining\"","import CustomDropdown from 'components/shared-components/CustomDropdown/CustomDropdown'\r\nimport React from 'react'\r\nimport { Menu } from 'antd';\r\n\r\nconst menu = (\r\n  <Menu\r\n    items={[\r\n      {\r\n        label: <p>1st menu</p>,\r\n        key: '0',\r\n      },\r\n      {\r\n        label: <a href=\"https://www.aliyun.com\">2nd menu item</a>,\r\n        key: '1',\r\n      },\r\n      {\r\n        type: 'divider',\r\n      },\r\n      {\r\n        label: '3rd menu item',\r\n        key: '3',\r\n      },\r\n    ]}\r\n  />\r\n);\r\n\r\nconst ExportDropdown = () => {\r\n  return (\r\n    <CustomDropdown text=\"Select\" menu={menu}/>\r\n  )\r\n}\r\n\r\nexport default ExportDropdown;","import React from 'react'\r\nimport { Button, Typography } from 'antd';\r\nimport ExportDropdown from './Export-Dropdown';\r\n\r\nimport exportIcon from 'assets/svg/file-export.svg'\r\n\r\nconst {Title} = Typography;\r\n\r\nconst Export = (props) => {\r\n  const {onClose} = props;\r\n  return (\r\n    <div className='text-center p-3'>\r\n      <div className='text-right'>\r\n        <Button onClick={onClose}>close</Button>\r\n      </div>\r\n      <div className='mb-4'>\r\n        <img src={exportIcon} alt=\"ExportIcon\"></img>\r\n        <Title>Export/Download Data</Title>\r\n      </div>\r\n      <div className='text-left mb-4'>\r\n        <p>Select Department</p>\r\n        <ExportDropdown/>\r\n      </div>\r\n      <div>\r\n        <Button className='m-1 mr-3' type=\"primary\">Yes, Confirm</Button>\r\n        <Button className='m-1' onClick={onClose}>No, Cancel</Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Export;","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport DatePicker from '../date-picker';\nimport devWarning from '../_util/devWarning';\nvar InternalTimePicker = DatePicker.TimePicker,\n    InternalRangePicker = DatePicker.RangePicker;\nvar RangePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(InternalRangePicker, _extends({}, props, {\n    dropdownClassName: props.popupClassName,\n    picker: \"time\",\n    mode: undefined,\n    ref: ref\n  }));\n});\nvar TimePicker = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var addon = _a.addon,\n      renderExtraFooter = _a.renderExtraFooter,\n      popupClassName = _a.popupClassName,\n      restProps = __rest(_a, [\"addon\", \"renderExtraFooter\", \"popupClassName\"]);\n\n  var internalRenderExtraFooter = React.useMemo(function () {\n    if (renderExtraFooter) {\n      return renderExtraFooter;\n    }\n\n    if (addon) {\n      devWarning(false, 'TimePicker', '`addon` is deprecated. Please use `renderExtraFooter` instead.');\n      return addon;\n    }\n\n    return undefined;\n  }, [addon, renderExtraFooter]);\n  return /*#__PURE__*/React.createElement(InternalTimePicker, _extends({}, restProps, {\n    dropdownClassName: popupClassName,\n    mode: undefined,\n    ref: ref,\n    renderExtraFooter: internalRenderExtraFooter\n  }));\n});\nTimePicker.displayName = 'TimePicker';\nTimePicker.RangePicker = RangePicker;\nexport default TimePicker;","\r\n\r\n\r\n\r\nexport const ViewDetailsIcon = () =>(\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clipPath=\"url(#clip0_3143_14787)\">\r\n<path d=\"M10.1667 5.66667C13.325 5.66667 16.1417 7.44167 17.5167 10.25C16.1417 13.0583 13.325 14.8333 10.1667 14.8333C7.00833 14.8333 4.19167 13.0583 2.81667 10.25C4.19167 7.44167 7.00833 5.66667 10.1667 5.66667ZM10.1667 4C6 4 2.44167 6.59167 1 10.25C2.44167 13.9083 6 16.5 10.1667 16.5C14.3333 16.5 17.8917 13.9083 19.3333 10.25C17.8917 6.59167 14.3333 4 10.1667 4ZM10.1667 8.16667C11.3167 8.16667 12.25 9.1 12.25 10.25C12.25 11.4 11.3167 12.3333 10.1667 12.3333C9.01667 12.3333 8.08333 11.4 8.08333 10.25C8.08333 9.1 9.01667 8.16667 10.1667 8.16667ZM10.1667 6.5C8.1 6.5 6.41667 8.18333 6.41667 10.25C6.41667 12.3167 8.1 14 10.1667 14C12.2333 14 13.9167 12.3167 13.9167 10.25C13.9167 8.18333 12.2333 6.5 10.1667 6.5Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14787\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const DeleteIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clipPath=\"url(#clip0_3143_14792)\">\r\n<path d=\"M13.1667 8V16.3333H6.5V8H13.1667ZM11.9167 3H7.75L6.91667 3.83333H4V5.5H15.6667V3.83333H12.75L11.9167 3ZM14.8333 6.33333H4.83333V16.3333C4.83333 17.25 5.58333 18 6.5 18H13.1667C14.0833 18 14.8333 17.25 14.8333 16.3333V6.33333Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14792\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const SendQuotationIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clipPath=\"url(#clip0_3143_14797)\">\r\n<path d=\"M11.2167 8.01667L11.9833 8.78333L4.43333 16.3333H3.66667V15.5667L11.2167 8.01667ZM14.2167 3C14.0083 3 13.7917 3.08333 13.6333 3.24167L12.1083 4.76667L15.2333 7.89167L16.7583 6.36667C17.0833 6.04167 17.0833 5.51667 16.7583 5.19167L14.8083 3.24167C14.6417 3.075 14.4333 3 14.2167 3ZM11.2167 5.65833L2 14.875V18H5.125L14.3417 8.78333L11.2167 5.65833Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14797\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const RecordPaymentsIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clipPath=\"url(#clip0_3143_14802)\">\r\n<path d=\"M15.8334 11.6668V5.00016C15.8334 4.0835 15.0834 3.3335 14.1667 3.3335H2.50004C1.58337 3.3335 0.833374 4.0835 0.833374 5.00016V11.6668C0.833374 12.5835 1.58337 13.3335 2.50004 13.3335H14.1667C15.0834 13.3335 15.8334 12.5835 15.8334 11.6668ZM14.1667 11.6668H2.50004V5.00016H14.1667V11.6668ZM8.33337 5.8335C6.95004 5.8335 5.83337 6.95016 5.83337 8.3335C5.83337 9.71683 6.95004 10.8335 8.33337 10.8335C9.71671 10.8335 10.8334 9.71683 10.8334 8.3335C10.8334 6.95016 9.71671 5.8335 8.33337 5.8335ZM19.1667 5.8335V15.0002C19.1667 15.9168 18.4167 16.6668 17.5 16.6668H3.33337V15.0002H17.5V5.8335H19.1667Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14802\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const CreateContractIcon = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clipPath=\"url(#clip0_886_17351)\">\r\n<path d=\"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V8H18V20H6ZM11 19H13V18H14C14.55 18 15 17.55 15 17V14C15 13.45 14.55 13 14 13H11V12H15V10H13V9H11V10H10C9.45 10 9 10.45 9 11V14C9 14.55 9.45 15 10 15H13V16H9V18H11V19Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_886_17351\">\r\n<rect width=\"24\" height=\"24\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)","import React, {useState} from \"react\";\r\nimport { useHistory , useRouteMatch, useParams} from \"react-router-dom\";\r\n// import EllipsisDropdown from 'components/shared-components/EllipsisDropdown'\r\nimport Icon from \"@ant-design/icons\";\r\nimport EllipsisDropdown from \"components/shared-components/EllipsisDropdown/index\";\r\nimport { Menu, Button, Modal, Radio, Input } from \"antd\";\r\nimport { ViewDetailsIcon , DeleteIcon , SendQuotationIcon , RecordPaymentsIcon, CreateContractIcon } from \"./ActionIcons\";\r\nimport axios from 'axios'\r\n\r\nconst {TextArea} = Input\r\n\r\nconst Actions = ({setOpenContractModal, id, quotationData, quoteData, setQuoteData, getQuotations, setOpenStatusModal}) => {\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch();\r\n  // const [openStatusModal, setOpenStatusModal] = useState(false);\r\n  // const [status, setStatus] = useState(\"Accepted\");\r\n  // const [remark, setRemark] = useState(false);\r\n\r\n\tconst createContractHandler = () => {\r\n    setOpenContractModal(true)\r\n    setQuoteData({\r\n      // ...quoteData,\r\n      quotation_id: quotationData.id,\r\n      customer_id: quotationData.customer_id,\r\n      customer_job_site_id: quotationData.jobsite_id,\r\n    });\r\n    // setQuoteData(quotationData.id);\r\n\t}\r\n\r\n  const generateInvoiceHandler = () => {\r\n    history.push(`${match.path}/generate-invoice/${id}`)\r\n  }\r\n\r\n  const viewQuotationHandler = () => {\r\n    history.push(`${match.path}/view-quotation/${quotationData.id}`)\r\n  }\r\n\r\n  // const editQuotationHandler = () => {\r\n  //   history.push(`${match.path}/edit-quotation`)\r\n  // }\r\n\r\n  const editQuotationStatusHandler = () => {\r\n\r\n    setQuoteData({\r\n      ...quotationData,\r\n      quotation_id: quotationData.id,\r\n      customer_id: quotationData.customer_id,\r\n      customer_job_site_id: quotationData.jobsite_id,\r\n    });\r\n    setOpenStatusModal(true);\r\n  }\r\n\r\n  // const handleStatusOk = () => {\r\n  //     axios\r\n  //     .post(\r\n  //       \"/api/tc/update-quotation\",\r\n  //       {\r\n  //         ...quotationData,\r\n  //         id: id,\r\n  //         tc_customer_id: quotationData.customer_id,\r\n  //         status: status\r\n  //       },\r\n  //     )\r\n  //     .then((response) => {\r\n  //       let res = response.data;\r\n  //       console.log(res);\r\n  //       setOpenStatusModal(false);\r\n  //       getQuotations()\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.log(error);\r\n  //     });\r\n      \r\n  // };\r\n  // const handleStatusCancel = () => {\r\n  //     setStatus(\"\")\r\n  //     setRemark('')\r\n  //     setOpenStatusModal(false);\r\n  // };\r\n  // const handleCancel = () => {\r\n  //   setOpenStatusModal(false);\r\n  // };\r\n\r\n  return (\r\n    <>\r\n      <EllipsisDropdown\r\n        menu={\r\n          <Menu>\r\n            <Menu.Item onClick={createContractHandler} disabled={quotationData.status==='Rejected' || quotationData.status==='Contract Generated'}>\r\n              <span className=\"d-flex align-items-center\">\r\n                <Icon className=\"mr-2\" component={CreateContractIcon} /> Create Contract\r\n              </span>\r\n            </Menu.Item>\r\n            <Menu.Item onClick={viewQuotationHandler}>\r\n              <span className=\"d-flex align-items-center\">\r\n                <Icon className=\"mr-2\" component={ViewDetailsIcon} /> View Quotation\r\n              </span>\r\n            </Menu.Item>\r\n            {/* <Menu.Item onClick={editQuotationHandler}>\r\n              <span className=\"d-flex align-items-center\">\r\n                <Icon className=\"mr-2\" component={ViewDetailsIcon} /> Edit Quotation\r\n              </span>\r\n            </Menu.Item> */}\r\n            <Menu.Item onClick={generateInvoiceHandler} disabled={quotationData.status==='Rejected'}>\r\n              <span className=\"d-flex align-items-center\">\r\n                <Icon className=\"mr-2\" component={RecordPaymentsIcon} /> Generate Invoice\r\n              </span>\r\n            </Menu.Item>\r\n            <Menu.Item onClick={editQuotationStatusHandler} disabled={quotationData.status==='Contract Generated'}>\r\n              <span className=\"d-flex align-items-center\">\r\n                <Icon className=\"mr-2\" component={SendQuotationIcon} /> Quotation Status\r\n              </span>\r\n            </Menu.Item>\r\n          </Menu>\r\n        }\r\n      />\r\n\r\n      {/* <Modal\r\n        visible={openStatusModal}\r\n        centered\r\n        maskClosable\r\n        onCancel={handleCancel}\r\n        title={'Account Status'}\r\n        footer={[\r\n            <Button key={'submit'} style={{ color: '#F5F5F5' }} type=\"primary\" className='font-weight-bold' onClick={handleStatusOk}>Save</Button>,\r\n            <Button key={'cancel'} style={{ color: '#000B23' }} onClick={handleStatusCancel} className='font-weight-bold'>Cancel</Button>,\r\n        ]}\r\n        >   \r\n        <div>\r\n            <Radio.Group\r\n                size=\"small\" \r\n                onChange={(e) => setStatus(e.target.value)}\r\n                defaultValue={\"Accepted\"}\r\n            >\r\n                <Radio value=\"Accepted\" defaultChecked> Accepted </Radio>\r\n                <Radio value=\"Rejected\"> Rejected</Radio>\r\n            </Radio.Group>\r\n        </div>\r\n\r\n        <div>\r\n            <h4 className=\"mb-2 mt-4\">Remarks</h4>\r\n            <TextArea rows={4} onChange={(e) => setRemark(e.target.value)} value={remark} />\r\n        </div>\r\n      </Modal> */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Actions;\r\n","import React , {useState, useEffect} from 'react'\r\nimport {Table , Button , Tag, Input, InputNumber, Select, Radio, DatePicker, TimePicker, Modal, message} from 'antd';\r\nimport Actions from './Actions';\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n// import get from 'lodash/get';\r\n// import Avatar from 'assets/Avatar2.png'\r\n\r\nconst {TextArea} = Input\r\n\r\nconst QuotationTable = ({ setsetPage, statuses, searchText, selectedFilter, selectedCustomerFilter, selectedJobsiteFilter, selectedStatusFilter }) => {\r\n  const [quotationsData , setQuotationsData] = useState([]);\r\n  // const [selectedRowKeys , setSelectedRowKeys] = useState([]);\r\n  const [jobSiteData , setJobSiteData] = useState(false);\r\n  const customer_id = localStorage.getItem(\"customer_id\");\r\n  \r\n  const [openContractModal , setOpenContractModal] = useState(false);\r\n  const [quoteData , setQuoteData] = useState(null);\r\n  const [commencementDate , setCommencementDate] = useState(false);\r\n  const [expiryDate , setExpiryDate] = useState(false);\r\n  const [remindersData , setRemindersData] = useState([]);\r\n  const [contractType , setContractType] = useState(false);\r\n\r\n  const [openStatusModal, setOpenStatusModal] = useState(false);\r\n  const [status, setStatus] = useState(\"Accepted\");\r\n  const [remark, setRemark] = useState(false);\r\n\r\n  const removeReminder =(record) => {\r\n    let newRemindersData = remindersData.filter((elem) => elem.sr_no !== record.sr_no);\r\n    setRemindersData(newRemindersData);\r\n  }\r\n\r\n  // const getQuotationJobsite = (jobsite_id) => {\r\n  //   let jobsite = jobSiteData.find((elem) => elem.id === jobsite_id);\r\n  //   return jobsite ? jobsite.name : '';\r\n  // }\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Quotation Id',\r\n      dataIndex: 'id',\r\n    },\r\n    {\r\n      title: 'Customer Name',\r\n      dataIndex: 'customerName',\r\n    },\r\n    {\r\n      title: 'Jobsite',\r\n      dataIndex: 'jobsite',\r\n      render: (_,record) => <span>{record.jobsite || \"-\"}</span>,\r\n      \r\n    },\r\n    {\r\n      title: 'Inquiry Date',\r\n      dataIndex: 'inquiryDate',\r\n      \r\n    },\r\n    {\r\n      title: 'Quotation Date',\r\n      dataIndex: 'quotationDate',\r\n      \r\n    },\r\n    {\r\n      title: 'Amount(S$)',\r\n      dataIndex: 'amount',\r\n    },\r\n    {\r\n      title: 'Status',\r\n      dataIndex: 'status',\r\n      render: (_,record) => {\r\n        if(record.status==='Accepted') return <span style={{color: \"#00AB6F\", backgroundColor: \"#01D2891A\", padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Quote Accepted</span>\r\n        if(record.status==='Contract Generated') return <span style={{color: \"#5772FF\", backgroundColor: \"#5772FF1A\", padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Contract Generated</span>\r\n        if(record.status==='Rejected') return <span style={{color: '#F53434', backgroundColor: '#FFF2F2', padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Quote Rejected</span>\r\n        else return <span style={{color: \"#0698A6\", backgroundColor: \"#07B1C11A\", padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Quote Sent</span>\r\n      }\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '',\r\n      key: 'x',\r\n      render: (_,record) => <Actions setOpenContractModal={setOpenContractModal} id={record.id} \r\n      quotationData={record} setOpenStatusModal={setOpenStatusModal} setQuoteData={setQuoteData} getQuotations={getQuotations} />,\r\n    },\r\n  ];\r\n  \r\n  const reminderColumns = [\r\n    {\r\n      title: 'Sr. No.',\r\n      dataIndex: 'sr_no',\r\n    },\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'date',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <DatePicker value={record.date} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].date = e\r\n              setRemindersData([...data])\r\n            }}/>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Time',\r\n      dataIndex: 'time',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <TimePicker value={record.time} className='w-100' format={'HH:mm A'} use12Hours={true} onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].time = e;\r\n              setRemindersData([...data])\r\n            }}/>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Title',\r\n      dataIndex: 'title',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <Input value={record.title} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].title = e.target.value\r\n              setRemindersData([...data])\r\n            }}/>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Content',\r\n      dataIndex: 'description',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <Input value={record.description} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].description = e.target.value\r\n              setRemindersData([...data])\r\n            }}/>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '',\r\n      key: 'x',\r\n      render: (_,record) => <Button type='danger' onClick={() => {removeReminder(record)}} className='font-weight-bold'>remove</Button>,\r\n    },\r\n  ];\r\n\r\n  // const ShowContractModal = () => {\r\n  //   setOpenContractModal(true);\r\n  // };\r\n\r\n  const handleCancel = () => {\r\n    setOpenContractModal(false);\r\n  };\r\n\r\n  const handleContractOk = () => {\r\n    console.log(quoteData);\r\n    // let data = quotationsData.find((elem) => elem.id === quoteData.quotation_id);\r\n    // console.log(data);\r\n    axios\r\n      .post(\r\n        \"/api/tc/new-contract\",\r\n        {\r\n          tc_quotation_id: quoteData.quotation_id,\r\n          tc_customer_id: quoteData.customer_id,\r\n          tc_customer_job_site_id: quoteData.customer_job_site_id || null,\r\n          start_date: moment(commencementDate),\r\n          // end_date: moment(expiryDate),\r\n          reminders: remindersData,\r\n          type: contractType,\r\n          status: 'Active'\r\n        },\r\n      )\r\n      .then((response) => {\r\n        console.log(response);\r\n        setCommencementDate(null);\r\n        setExpiryDate(null);\r\n        setContractType(null);\r\n        setRemindersData([]);\r\n        setOpenContractModal(false);\r\n        message.success('Contract created successfully');\r\n        updateQuotationStatus();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setOpenContractModal(false);\r\n        message.error('Contract cannot be created, please try again later');\r\n      });\r\n  };\r\n\r\n  const updateQuotationStatus = () => {\r\n    console.log(quoteData);\r\n    axios\r\n    .post(\r\n      \"/api/tc/update-quotation\",\r\n      {\r\n        ...quoteData,\r\n        id: quoteData.id,\r\n        tc_customer_id: quoteData.customer_id,\r\n        status: 'Contract Generated'\r\n      },\r\n    )\r\n    .then((response) => {\r\n      let res = response.data;\r\n      console.log(res);\r\n      getQuotations();\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    }); \r\n  };\r\n\r\n  const handleContractCancel = () => {\r\n    setOpenContractModal(false);\r\n  };\r\n\r\n  const handleAddReminder = () => {\r\n    setRemindersData([...remindersData, {\r\n      sr_no: remindersData.length + 1,\r\n      date: null,\r\n      title: '',\r\n      description: '',\r\n    }]);\r\n  };\r\n\r\n  const getJobSites = () => {\r\n    axios({\r\n        method: 'post',\r\n        url: \"/api/tc/get-customer-job-sites\",\r\n        data: {\r\n            page_index: 1,\r\n            page_size: 100000,\r\n            search : '',\r\n            customer_id: null\r\n        }\r\n    }).then((response) => {\r\n        console.log(response.data.data.data)\r\n        if (response.data.success) {\r\n          setJobSiteData(response.data.data.data)\r\n        }\r\n    }).catch((err) => {\r\n        console.log(err)\r\n    });\r\n  }\r\n\r\n  const commencementDateChange = (date) => {\r\n    // contractData.date_of_commencement = date;\r\n    // let newContractData = contractData;\r\n    // newContractData.date_of_commencement = date;\r\n    // console.log(newContractData);\r\n\r\n    setCommencementDate(date);\r\n  }\r\n\r\n  const expiryDateChange = (date) => {\r\n    setExpiryDate(date);\r\n  }\r\n\r\n  const contractTypeChange = (event) => {\r\n    setContractType(event);\r\n  }\r\n\r\n  const handleStatusOk = () => {\r\n    console.log(quoteData);\r\n    axios\r\n    .post(\r\n      \"/api/tc/update-quotation\",\r\n      {\r\n        ...quoteData,\r\n        id: quoteData.id,\r\n        tc_customer_id: quoteData.customer_id,\r\n        status: status\r\n      },\r\n    )\r\n    .then((response) => {\r\n      let res = response.data;\r\n      console.log(res);\r\n      setOpenStatusModal(false);\r\n      getQuotations();\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n      \r\n  };\r\n  const handleStatusCancel = () => {\r\n      setStatus(\"\")\r\n      setRemark(\"\")\r\n      setOpenStatusModal(false);\r\n  };\r\n\r\n  const getQuotations = () => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-quotations\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 15,\r\n          statuses: [],\r\n          search : searchText ? searchText : '',\r\n          customer_id: customer_id\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            key: ind,\r\n            id: elem.id,\r\n            customer_id: elem.tc_customer_id,\r\n            jobsite_id: elem.tc_customer_job_site_id,\r\n            customerName: elem.customer_name,\r\n            jobsite: elem.jobsite_name,\r\n            inquiryDate: elem.inquiry_date ? moment(elem.inquiry_date).format('DD-MM-YYYY HH:mm A'):'-',\r\n            // quotationDate: moment(elem.task_period_from_date),\r\n            quotationDate: moment(elem.task_period_from_date).format('DD-MM-YYYY'),\r\n            amount: elem.total,\r\n            status: elem.status || 'Quote Sent',\r\n            \r\n            tc_customer_id: elem.tc_customer_id,\r\n            task_period_from_date: moment(elem.task_period_from_date),\r\n            task_period_to_date: moment(elem.task_period_to_date),\r\n            due_date: moment(elem.due_date),\r\n            sub_total: elem.sub_total || 0,\r\n            tax: elem.gst || 8,\r\n            discount: elem.discount || 0,\r\n            total: elem.total,\r\n            tc_quotation_file: elem.tc_quotation_file,\r\n            quotation_remarks: elem.quotation_remarks || '',\r\n            line_items: elem.line_items || [],\r\n          };\r\n        });\r\n        setQuotationsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-quotations\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 15,\r\n          statuses: [],\r\n          search : searchText ? searchText : '',\r\n          customer_id: selectedCustomerFilter || null,\r\n          job_site_id: selectedJobsiteFilter || null,\r\n          status: selectedStatusFilter || null,\r\n          customer_id: customer_id\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            key: ind,\r\n            id: elem.id,\r\n            customer_id: elem.tc_customer_id,\r\n            jobsite_id: elem.tc_customer_job_site_id,\r\n            customerName: elem.customer_name,\r\n            jobsite: elem.job_site_name,\r\n            inquiryDate: elem.inquiry_date ? moment(elem.inquiry_date).format('DD-MM-YYYY HH:mm A'):'-',\r\n            // quotationDate: moment(elem.task_period_from_date),\r\n            quotationDate: moment(elem.task_period_from_date).format('DD-MM-YYYY'),\r\n            amount: elem.total,\r\n            status: elem.status || 'Quote Sent',\r\n            \r\n            tc_customer_id: elem.tc_customer_id,\r\n            task_period_from_date: moment(elem.task_period_from_date),\r\n            task_period_to_date: moment(elem.task_period_to_date),\r\n            due_date: moment(elem.due_date),\r\n            sub_total: elem.sub_total || 0,\r\n            tax: elem.gst || 8,\r\n            discount: elem.discount || 0,\r\n            total: elem.total,\r\n            tc_quotation_file: elem.tc_quotation_file,\r\n            quotation_remarks: elem.quotation_remarks || '',\r\n            line_items: elem.line_items || [],\r\n          };\r\n        });\r\n        setQuotationsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [searchText]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-quotations\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 15,\r\n          statuses: [],\r\n          search : searchText ? searchText : '',\r\n          customer_id: selectedCustomerFilter || null,\r\n          job_site_id: selectedJobsiteFilter || null,\r\n          status: selectedStatusFilter || null,\r\n          customer_id: customer_id\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            key: ind,\r\n            id: elem.id,\r\n            customer_id: elem.tc_customer_id,\r\n            jobsite_id: elem.tc_customer_job_site_id,\r\n            customerName: elem.customer_name,\r\n            jobsite: elem.job_site_name,\r\n            inquiryDate: elem.inquiry_date ? moment(elem.inquiry_date).format('DD-MM-YYYY HH:mm A'):'-',\r\n            // quotationDate: moment(elem.task_period_from_date),\r\n            quotationDate: moment(elem.task_period_from_date).format('DD-MM-YYYY'),\r\n            amount: elem.total,\r\n            status: elem.status || 'Quote Sent',\r\n            \r\n            tc_customer_id: elem.tc_customer_id,\r\n            task_period_from_date: moment(elem.task_period_from_date),\r\n            task_period_to_date: moment(elem.task_period_to_date),\r\n            due_date: moment(elem.due_date),\r\n            sub_total: elem.sub_total || 0,\r\n            tax: elem.gst || 8,\r\n            discount: elem.discount || 0,\r\n            total: elem.total,\r\n            tc_quotation_file: elem.tc_quotation_file,\r\n            quotation_remarks: elem.quotation_remarks || '',\r\n            line_items: elem.line_items || [],\r\n          };\r\n        });\r\n        setQuotationsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [selectedFilter]);\r\n\r\n  useEffect(() => {\r\n    getJobSites()\r\n  }, [])\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <Table columns={columns} dataSource={quotationsData} scroll={{ x:1100 }} />\r\n\r\n      <Modal\r\n        visible={openStatusModal}\r\n        centered\r\n        maskClosable\r\n        onCancel={() => {setOpenStatusModal(false);}}\r\n        title={'Quotation Status'}\r\n        footer={[\r\n            <Button key={'submit'} style={{ color: '#F5F5F5' }} type=\"primary\" className='font-weight-bold' onClick={handleStatusOk}>Save</Button>,\r\n            <Button key={'cancel'} style={{ color: '#000B23' }} onClick={handleStatusCancel} className='font-weight-bold'>Cancel</Button>,\r\n        ]}\r\n        >   \r\n        <div>\r\n            <Radio.Group\r\n                size=\"small\" \r\n                onChange={(e) => setStatus(e.target.value)}\r\n                defaultValue={\"Accepted\"}\r\n            >\r\n                <Radio value=\"Accepted\" defaultChecked> Accepted </Radio>\r\n                <Radio value=\"Rejected\"> Rejected</Radio>\r\n            </Radio.Group>\r\n        </div>\r\n\r\n        <div>\r\n            <h4 className=\"mb-2 mt-4\">Remarks</h4>\r\n            <TextArea rows={4} onChange={(e) => setRemark(e.target.value)} value={remark} />\r\n        </div>\r\n      </Modal>\r\n\r\n      <Modal\r\n          visible={openContractModal}\r\n          centered\r\n          maskClosable\r\n          width={900}\r\n          onCancel={handleCancel}\r\n          title={'Create Contract'}\r\n          footer={[\r\n              <Button style={{ color: '#F5F5F5' }} type='primary' className='font-weight-bold' onClick={handleContractOk}>Save</Button>,\r\n              <Button style={{ color: '#000B23' }} onClick={handleContractCancel} className='font-weight-bold'>Cancel</Button>,\r\n        ]}\r\n        >\r\n          <div className='w-50'>\r\n              <h4 className=\"mb-2 mt-4\">Date Of Commencement of Work</h4>\r\n              <DatePicker value={commencementDate} onChange={commencementDateChange}/>\r\n          </div>\r\n\r\n          {/* <div className='w-50'>\r\n              <h4 className=\"mb-2 mt-4\">Date of Expiration of Work</h4>\r\n              <DatePicker value={expiryDate} onChange={expiryDateChange}/>\r\n          </div> */}\r\n\r\n          {/* <div>\r\n              <h4 className=\"mb-2 mt-4\">Reminders</h4>\r\n              <Table columns={reminderColumns} dataSource={remindersData} />\r\n              <Button type='primary' className='font-weight-bold mt-2' onClick={handleAddReminder}>Add Reminder</Button>\r\n          </div> */}\r\n\r\n          <div className='w-50'>\r\n              <h4 className=\"mb-2 mt-4\">Contract Type</h4>\r\n              <Select\r\n                className='w-100'\r\n                showSearch\r\n                placeholder=\"Contract Type\"\r\n                value={contractType}\r\n                onChange={contractTypeChange}\r\n              >\r\n                <Select.Option title={'None'} key={0} value={'None'}>{'None'}</Select.Option>\r\n                <Select.Option title={'Ad Hoc'} key={1} value={'Ad Hoc'}>{'Ad Hoc'}</Select.Option>\r\n                <Select.Option title={'Routine'} key={2} value={'Routine'}>{'Routine'}</Select.Option>\r\n              </Select>\r\n          </div>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default QuotationTable","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Drawer, InputNumber, DatePicker, Modal, Input, Select } from \"antd\";\r\nimport Icon from \"@ant-design/icons\"\r\nimport PageHeading from \"components/shared-components/PageHeading/PageHeading\";\r\nimport SearchBox from \"components/shared-components/SearchBox\";\r\nimport { FilterIcon, ItemsAndServicesIcon, ExportIcon } from \"assets/svg/icon\";\r\nimport exportIcon from \"assets/svg/exportIcon.svg\";\r\n\r\nimport Export from \"./Export-ItemsAndServices\";\r\nimport QuotationTable from \"./QuotationTable\";\r\nimport { Link , useRouteMatch  } from \"react-router-dom\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n// import { Item } from \"rc-menu\";\r\nimport classes from './Quotations.css';\r\nconst Quotations = () => {\r\n\r\n  const match = useRouteMatch();\r\n  const [showExportOption , setShowExportOption] = useState(false);\r\n  const [selectedCustomerFilter , setSelectedCustomerFilter] = useState(false);\r\n  const [selectedJobsiteFilter , setSelectedJobsiteFilter] = useState(false);\r\n  const [selectedStatusFilter , setSelectedStatusFilter] = useState(false);\r\n  const [selectedFilter , setSelectedFilter] = useState(false);\r\n  const [searchText , setSearchText] = useState('');\r\n  const customer_id = localStorage.getItem(\"customer_id\");\r\n\r\n  const [allJobsites , setAllJobsites] = useState(false);\r\n  const [allCustomers , setAllCustomers] = useState(false);\r\n\r\n  const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n  const [allQuotationsData, setAllQuotationsData] = useState([]);\r\n  const headers = [\r\n    { label: \"Sr. No\", key: \"sr_no\" },\r\n    { label: \"Quotation ID\", key: \"id\" },\r\n    { label: \"Customer Name\", key: \"customerName\" },\r\n    { label: \"Jobsite\", key: \"jobsite\" },\r\n    { label: \"Inquiry Date\", key: \"inquiryDate\" },\r\n    { label: \"Quotation Date\", key: \"quotationDate\" },\r\n    { label: \"Amount\", key: \"amount\" },\r\n    { label: \"Status\", key: \"status\" }\r\n  ];\r\n\r\n  const exportHandler = () => {\r\n    setShowExportOption(prev => !prev);\r\n  }\r\n\r\n  const drawerHandler = () => {\r\n    setDrawerIsOpen((prevState) => {\r\n      console.log(\"Drawer \" + (!prevState ? 'Open':'Closed'));\r\n\r\n      return !prevState\r\n    });\r\n    // setDrawerIsOpen(true);\r\n  };\r\n\r\n  const handleDrawerOk = () => {\r\n    setSelectedFilter((previousState) => !previousState)\r\n    // if(selectedCustomerFilter || selectedJobsiteFilter || selectedStatusFilter) {\r\n    // } else setSelectedFilter(false);\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  const onDrawerClose = () => {\r\n    console.log(\"Closed\")\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  const handleDrawerReset = () => {\r\n    setSelectedFilter((previousState) => !previousState)\r\n    setSelectedCustomerFilter(false)\r\n    setSelectedJobsiteFilter(false)\r\n    setSelectedStatusFilter(false)\r\n\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  \r\n  const exportModal = (\r\n    <Modal onclose={exportHandler}>\r\n      <Export onClose={exportHandler}/>\r\n    </Modal>\r\n  )\r\n  \r\n  const getAllJobsites = () => {\r\n    axios({\r\n      method: 'post',\r\n      url: \"/api/tc/get-customer-job-sites\",\r\n      data: {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        customer_id: null,\r\n        search : null\r\n      }\r\n    }).then((response) => {\r\n        if (response.data.success) {\r\n          setAllJobsites(response.data.data.data)\r\n        }\r\n        console.log(\"Job sites data fetched\")\r\n        console.log(response.data.data.data)\r\n    }).catch((err) => {\r\n        console.log(err)\r\n    });\r\n  };\r\n  \r\n  const getAllCustomers = () => {\r\n    axios({\r\n      method: 'post',\r\n      url: \"/api/tc/get-customers\",\r\n      data: {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        customer_id: null,\r\n        search : null\r\n      }\r\n    }).then((response) => {\r\n        if (response.data.success) {\r\n          setAllCustomers(response.data.data.data)\r\n        }\r\n        console.log(\"Customers data fetched\")\r\n        console.log(response.data.data.data)\r\n    }).catch((err) => {\r\n        console.log(err)\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n    .post(\r\n      \"/api/tc/get-quotations\",\r\n      {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        search : null,\r\n        customer_id: customer_id\r\n      },\r\n    )\r\n    .then((response) => {\r\n      let res = response.data.data.data;\r\n\r\n      let fdata = res.map((elem, index) => {\r\n        // let other_details = {};\r\n        // if(elem.other_details) {\r\n        //   other_details = JSON.parse(elem.other_details);\r\n        // }\r\n        return {\r\n          sr_no: index+1,\r\n          key: elem.id,\r\n          id: elem.id,\r\n          jobsite_id: elem.tc_customer_job_site_id,\r\n          customer_id: elem.tc_customer_id,\r\n          customerName: elem.customer_name,\r\n          jobsite: elem.jobsite_name || '',\r\n          inquiryDate: elem.inquiry_date ? moment(elem.inquiry_date).format('DD-MM-YYYY HH:mm A'):'-',\r\n          quotationDate: moment(elem.task_period_from_date).format('DD-MM-YYYY'),\r\n          amount: elem.total,\r\n          status: elem.status || 'Quote Sent',\r\n        };\r\n      });\r\n\r\n      setAllQuotationsData(fdata);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n\r\n    getAllCustomers();\r\n    getAllJobsites();\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className='d-flex justify-content-between'>\r\n        <PageHeading\r\n          title=\"Quotations\"\r\n        />\r\n        \r\n        <div className=\"d-flex justify-content-between mb-3\">\r\n          <div className=\" d-flex align-items-center justify-content-between mr-2\">\r\n            <SearchBox setSearchText={setSearchText} />\r\n            \r\n            <Button className=\"d-flex align-items-center ml-2\" onClick={drawerHandler}>\r\n              <Icon className=\"mr-2\" component={FilterIcon} />\r\n              Filters\r\n            </Button>\r\n\r\n            <CSVLink data={allQuotationsData} \r\n              headers={headers} \r\n              filename={\"All-Quotations.csv\"}\r\n            >\r\n              <Button className=\"d-flex align-items-center ml-2\">\r\n                <img className=\"mr-2\" src={exportIcon} alt=\"exportIcon\"></img>Export\r\n              </Button>\r\n            </CSVLink>\r\n\r\n            <Link to=\"/app/contract-management/quotations/add-new-quotation\" className=\"ml-2\">\r\n              <Button\r\n                className=\"d-flex align-items-center\"\r\n                type=\"primary\"\r\n                size=\"small\"\r\n              >\r\n                {/* <Icon component={PlusIcon}/> */}\r\n                Create New Quotation\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <QuotationTable searchText={searchText} selectedCustomerFilter={selectedCustomerFilter} selectedJobsiteFilter={selectedJobsiteFilter} selectedStatusFilter={selectedStatusFilter} selectedFilter={selectedFilter} />\r\n      </div>\r\n\r\n      <div>\r\n        <Drawer title=\"Filter\"\r\n          placement=\"right\"\r\n          onClose={onDrawerClose} \r\n          open={drawerIsOpen}\r\n          closable={true}\r\n          // getContainer={false}\r\n          visible={drawerIsOpen}\r\n          footer={[\r\n            <Button key={'submit'} style={{ color: '#F5F5F5' }} type=\"primary\" className='font-weight-bold mr-2' onClick={handleDrawerOk}>Apply</Button>,\r\n            <Button key={'cancel'} style={{ color: '#000B23' }} onClick={() => {handleDrawerReset()}} className='font-weight-bold'>Reset</Button>,\r\n          ]}\r\n        >\r\n          <div className=\"mb-2\">\r\n            <h4>Customer</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Jobsite\"\r\n                // optionFilterProp=\"children\"\r\n                // filterOption={(input, option) => (option?.title ?? '').toString().toLowerCase()?.includes(input?.toLowerCase())}\r\n                // filterSort={(optionA, optionB) =>\r\n                //     (optionA?.label ?? '').toString().toLowerCase().localeCompare((optionB?.label ?? '').toString().toLowerCase())\r\n                // }\r\n                value={selectedCustomerFilter}\r\n                onChange={(e) => {setSelectedCustomerFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                {allCustomers && allCustomers.map((val, id) => (\r\n                    <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n                ))}\r\n            </Select>\r\n          </div>\r\n          <div className=\"mb-2\">\r\n            <h4>Jobsite</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Jobsite\"\r\n                value={selectedJobsiteFilter}\r\n                onChange={(e) => {setSelectedJobsiteFilter(e)}}\r\n                className=\"w-100\"\r\n            >    \r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                {allJobsites && allJobsites.map((val, id) => (\r\n                    <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n                ))}\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <h4>Status</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Status\"\r\n                value={selectedStatusFilter}\r\n                onChange={(e) => {setSelectedStatusFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                <Select.Option title={'Quote Accepted'} key={'Quote Accepted'} value={'Quote Accepted'}>{'Quote Accepted'}</Select.Option>\r\n                <Select.Option title={'Quote Rejected'} key={'Quote Rejected'} value={'Quote Rejected'}>{'Quote Rejected'}</Select.Option>\r\n                <Select.Option title={'Quote Sent'} key={'Quote Sent'} value={'Quote Sent'}>{'Quote Sent'}</Select.Option>\r\n                <Select.Option title={'Contract Generated'} key={'Contract Generated'} value={'Contract Generated'}>{'Contract Generated'}</Select.Option>\r\n            </Select>\r\n          </div>\r\n        </Drawer>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Quotations;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { formats, modules } from \"utils/textEditorModules\";\r\nimport ReactQuill from \"react-quill\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  Form,\r\n  Input,\r\n  DatePicker,\r\n  Select,\r\n  Button,\r\n  InputNumber,\r\n  Upload,\r\n  Row,\r\n  Col,\r\n  Card, \r\n  Typography,\r\n  Modal,\r\n  message,\r\n  Table,\r\n  // Divider,\r\n  // Radio,\r\n  // Cascader,\r\n  // TreeSelect,\r\n  // Switch,\r\n  // Checkbox,\r\n} from \"antd\";\r\nimport { InboxOutlined } from '@ant-design/icons';\r\n\r\nconst { Dragger } = Upload;\r\nconst { RangePicker } = DatePicker;\r\nconst { TextArea } = Input;\r\nconst {Title , Text} = Typography;\r\n\r\nconst Form1 = ({form, customers, jobsData, setJobsData, setJobFile, jobFile}) => {\r\n  const columns = [\r\n    {\r\n      title: 'SR NO',\r\n      dataIndex: 'sr_no',\r\n    },\r\n    {\r\n      title: 'DESCRIPTION',\r\n      dataIndex: 'name',\r\n    },\r\n    {\r\n      title: 'PROVISIONAL QTY',\r\n      dataIndex: 'quantity',\r\n    },\r\n    {\r\n      title: 'UNIT PRICE',\r\n      dataIndex: 'price',\r\n    },\r\n    {\r\n      title: 'SUBTOTAL',\r\n      dataIndex: 'total',\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '',\r\n      render: (_,record) => {\r\n        return <Button type=\"danger\" className='mt-2' onClick={()=>{removeJob(record)}}>Remove</Button>\r\n      },\r\n    },\r\n  ];\r\n  const removeJob = (record) => {\r\n    let jobs = jobsData.filter((e) => e != record);\r\n    setJobsData(jobs)\r\n  }\r\n  \r\n  \r\n  const [value, setValue] = useState('');\r\n  const [paymentTerm, setPaymentTerm] = useState('');\r\n  const [selectedJobsite, setSelectedJobsite] = useState(0);\r\n  const [uploadedFile, setUploadedFile] = useState({\r\n    name: '',\r\n    url: ''\r\n  });\r\n  const [allJobsites, setAllJobsites] = useState([]);\r\n  const tok = localStorage.getItem('token');\r\n  const [jobDetailsTemp, setJobDetailsTemp] = useState({\r\n      sr_no: 0, \r\n      id: 0, \r\n      description: '', \r\n      provisionalQty: 0, \r\n      unitPrice: 0\r\n    });\r\n    // const [quoteDescription, setQuoteDescription] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [quantity, setQuantity] = useState(null);\r\n  const [unitPrice, setUnitPrice] = useState(null);\r\n\r\n  const [openUploadPdfModal, setOpenUploadPdfModal] = useState(false);\r\n  const [openJobModal, setOpenJobModal] = useState(false);\r\n\r\n  const handleCancel = () => {\r\n    setOpenUploadPdfModal(false);\r\n    setOpenJobModal(false);\r\n  };\r\n\r\n  const handleUploadOk = () => {\r\n    setJobFile(uploadedFile);\r\n    setOpenUploadPdfModal(false);\r\n  };\r\n  const handleUploadCancel = () => {\r\n    setOpenUploadPdfModal(false);\r\n  };\r\n\r\n  const handleJobOk = () => {\r\n    if(!description) message.error(\"Please fill Description\");\r\n    if(!quantity) message.error(\"Please fill Provisional Quantity\");\r\n    if(!unitPrice) message.error(\"Please fill Unit Price\");\r\n\r\n    setJobsData([...jobsData, {\r\n      sr_no: jobsData.length+1,\r\n      name: description,\r\n      quantity: quantity,\r\n      price: unitPrice,\r\n      total: (+quantity * +unitPrice) || 0\r\n      // total: (+jobDetailsTemp.provisionalQty * +jobDetailsTemp.unitPrice) || 0\r\n    }]);\r\n\r\n    setDescription('');\r\n    setQuantity(0);\r\n    setUnitPrice(0);\r\n    setOpenJobModal(false);\r\n  };\r\n  const handleJobCancel = () => {\r\n    setOpenJobModal(false);\r\n  };\r\n\r\n  let filelist = []\r\n\r\n  const image_props = {\r\n    name: 'file',\r\n    multiple: false,\r\n    action: `${axios.defaults.baseURL}/api/tc/upload-document`,\r\n    headers: {\r\n      Authorization: `Bearer ${tok}`,\r\n    },\r\n    // fileList: filelist,\r\n    onChange(info) {\r\n      const { status } = info.file;\r\n      if (status !== 'uploading') {\r\n        console.log(info.file, info.fileList);\r\n      }\r\n      if (status === 'done') {\r\n        message.success(`${info.file.name} file uploaded successfully.`);\r\n        setUploadedFile({\r\n          name: info.file.name,\r\n          url: info.file.response.url\r\n        });\r\n        console.log(filelist)\r\n      } else if (status === 'error') {\r\n        message.error(`${info.file.name} file upload failed.`);\r\n      }\r\n    },\r\n    onDrop(e) {\r\n      console.log('Dropped files', e.dataTransfer.files);\r\n      setUploadedFile({\r\n        name: '',\r\n        url: ''\r\n      });\r\n    },\r\n  };\r\n\r\n  const funOpenUploadModal = () => {\r\n    setOpenUploadPdfModal(true)\r\n  }\r\n\r\n  const funOpenJobModal = () => {\r\n    setOpenJobModal(true)\r\n  }\r\n\r\n  const onChangeDesc = (event) => {\r\n    setDescription(event.target.value)\r\n  }\r\n\r\n  const onChangeProvisional = (value) => {\r\n    setQuantity(value)\r\n  }\r\n\r\n  const onChangeUnit = (value) => {\r\n    setUnitPrice(value)\r\n  }\r\n\r\n  const getJobSites = (currPage) => {\r\n    if(form.getFieldValue(\"customer_id\")) {\r\n      axios({\r\n          method: 'post',\r\n          url: \"/api/tc/get-customer-job-sites\",\r\n          headers: {\r\n              // 'content-type': `multipart/form-data`,\r\n              Authorization: `Bearer ${tok}`\r\n          },\r\n          data: {\r\n              customer_id: form.getFieldValue(\"customer_id\") || 0,\r\n              page_index: 1,\r\n              page_size: 100000,\r\n              search : ''\r\n          }\r\n      }).then((response) => {\r\n          console.log(response.data)\r\n          if (response.data.success) {\r\n            setAllJobsites(response.data.data.data)\r\n          }\r\n      }).catch((err) => {\r\n          console.log(err)\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getJobSites()\r\n  }, [])\r\n  \r\n  return (\r\n    <>\r\n      <Card className=\"mt-3\">\r\n          \r\n      <Row align=\"top\">\r\n        <Col span={12}>\r\n          <Form.Item name=\"customer_id\" label=\"Customer Name\" rules={[{ required: true, message: 'Please select Customer!' }]}>\r\n            <Select onChange={getJobSites}>\r\n              {customers.map((elem, index) => {\r\n                return (\r\n                  <Select.Option key={index} value={elem.id}>\r\n                    {elem.company}\r\n                  </Select.Option>\r\n                );\r\n              })}\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <div className=\"d-flex justify-content-between heading-container my-4\">\r\n          <div className=\"heading\">Job Details</div>\r\n          <div className=\"heading d-flex justify-content-between align-items-center\">\r\n            {jobFile && <div className=\"mr-3\" style={{color: 'blue'}}>{jobFile.name}</div>}\r\n            <Button style={{ color: '#000B23' }} onClick={funOpenUploadModal} className='font-weight-bold'>Upload Pdf</Button>\r\n          </div>\r\n      </div>\r\n\r\n      <div className=\"mb-3\">\r\n        <Table columns={columns} dataSource={jobsData} />\r\n        <div className=\"d-flex justify-content-end\">\r\n          <Button type=\"primary\" onClick={funOpenJobModal} className='mt-2'>Add Job</Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* <Divider /> */}\r\n\r\n      <Row gutter={20}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Quotation Date\"\r\n            name=\"quotationDate\"\r\n            rules={[{ required: true, message: \"Required\" }]}\r\n          >\r\n            <DatePicker format={'DD-MM-YYYY'} />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Validity (Days)\"\r\n            name=\"validity\"\r\n            rules={[{ required: true, message: \"Required\" }]}\r\n          >\r\n            <Input type=\"number\"/>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={20}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Payment Term\"\r\n            name=\"paymentTerm\"\r\n            rules={[{ required: true, message: \"Required\" }]}\r\n          >\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Payment Term\"\r\n                value={paymentTerm}\r\n            >\r\n              <Select.Option title={'Immediate'} key={0} value={'Immediate'}>{'Immediate'}</Select.Option>\r\n              <Select.Option title={'15 Days'} key={15} value={'15 Days'}>{'15 Days'}</Select.Option>\r\n              <Select.Option title={'30 Days'} key={30} value={'30 Days'}>{'30 Days'}</Select.Option>\r\n              <Select.Option title={'45 Days'} key={45} value={'45 Days'}>{'45 Days'}</Select.Option>\r\n              <Select.Option title={'60 Days'} key={60} value={'60 Days'}>{'60 Days'}</Select.Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Jobsite\"\r\n            name=\"jobsite_id\"\r\n            rules={[{ required: true, message: \"Required\" }]}\r\n          >\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Jobsite\"\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option) => (option?.title ?? '').toString().toLowerCase()?.includes(input?.toLowerCase())}\r\n                filterSort={(optionA, optionB) =>\r\n                    (optionA?.label ?? '').toString().toLowerCase().localeCompare((optionB?.label ?? '').toString().toLowerCase())\r\n                }\r\n                value={selectedJobsite}\r\n                onChange={setSelectedJobsite}\r\n            >\r\n                {allJobsites.map((val, id) => (\r\n                    <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n                ))}\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col span={24}>\r\n        <div style={{margin:'0px 0px', width:'100%'}} >\r\n          <Form.Item\r\n            label=\"Description\"\r\n            name=\"remarks\"\r\n            rules={[{ required: true, message: \"Description is Required\" }]}\r\n          >\r\n            <ReactQuill\r\n              style={{ borderRadius: \"12px\", paddingBottom: \"5%\" }}\r\n              theme=\"snow\"\r\n              value={value}\r\n              onChange={setValue}\r\n              formats={formats}\r\n              modules={modules}\r\n            />\r\n          </Form.Item>\r\n        </div>\r\n        </Col>\r\n      </Row>\r\n      </Card>\r\n\r\n      <Modal\r\n        visible={openUploadPdfModal}\r\n        centered\r\n        maskClosable\r\n        onCancel={handleCancel}\r\n        title={'Upload Pdf'}\r\n        footer={[\r\n            <Button type=\"primary\" className='font-weight-bold' onClick={handleUploadOk}>Save</Button>,\r\n            <Button style={{ color: '#000B23' }} onClick={handleUploadCancel} className='font-weight-bold'>Cancel</Button>,\r\n      ]}\r\n      >\r\n        <div>\r\n          <Dragger {...image_props}>\r\n            <p className=\"ant-upload-drag-icon\">\r\n              <InboxOutlined />\r\n            </p>\r\n            <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\r\n            <p className=\"ant-upload-hint\">\r\n            Files supported:pdf only\r\n            </p>\r\n          </Dragger>\r\n        </div>\r\n      </Modal>\r\n\r\n      <Modal\r\n        visible={openJobModal}\r\n        centered\r\n        maskClosable\r\n        onCancel={handleCancel}\r\n        title={'Job Details'}\r\n        footer={[\r\n            <Button type=\"primary\" className='font-weight-bold' onClick={handleJobOk}>Save</Button>,\r\n            <Button style={{ color: '#000B23' }} onClick={handleJobCancel} className='font-weight-bold'>Cancel</Button>,\r\n      ]}\r\n      >   \r\n        <div>\r\n            <h4 className=\"mb-2\">Description</h4>\r\n            <TextArea rows={4} onChange={onChangeDesc} value={description}/>\r\n        </div>\r\n\r\n        <div>\r\n            <h4 className=\"mb-2 mt-2\">Provisional Quantity</h4>\r\n            <InputNumber min={0} onChange={onChangeProvisional} value={quantity} />\r\n        </div>\r\n\r\n        <div>\r\n            <h4 className=\"mb-2 mt-2\">Unit Price</h4>\r\n            <InputNumber min={0} onChange={onChangeUnit} value={unitPrice} />\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nexport default Form1;\r\n","import Icon from \"@ant-design/icons\";\r\nimport React from \"react\";\r\n\r\nimport { submitTick } from \"assets/svg/icon\";\r\n\r\nconst QuotationModal = (props) => {\r\n  return (\r\n    <div className=\"text-center\">\r\n      <Icon component={submitTick} />\r\n      <div>\r\n        <h1>New Quotation Created</h1>\r\n        <p>\r\n          Quotation is created successfully.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuotationModal;\r\n","import React , {useState,useEffect} from \"react\";\r\nimport { Form, Button, Col, Row, message } from \"antd\";\r\nimport PageHeading from \"components/shared-components/PageHeading/PageHeading\";\r\nimport Form1 from \"./Form1\";\r\nimport Modal from \"components/UI/Modal\";\r\nimport QuotationModal from \"./QuotationModal\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { useLocation, useHistory, useParams } from 'react-router-dom';\r\n\r\nconst AddNewQuotation = (props) => {\r\n  const [form] = Form.useForm();\r\n  const param = useParams();\r\n  const inquiry_id = param.inquiry_id || null;\r\n  // const [value, setValue] = useState('');\r\n  const [jobsData , setJobsData] = useState([]);\r\n  const [jobFile , setJobFile] = useState({\r\n    name: '',\r\n    url: ''\r\n  });\r\n  const [gstData, setGstData] = useState([]);\r\n  const [customerAccountData, setCustomerAccountData] = useState([]);\r\n  const history = useHistory();\r\n   \r\n  const [showModal , setShowModal] = useState(false);\r\n\r\n  const saveQuotationHandler = () => {\r\n    setShowModal(prev => !prev);\r\n  }\r\n\r\n  const saveQuotaionModal = (\r\n    <Modal onClose = {saveQuotationHandler}>\r\n      <QuotationModal/>\r\n    </Modal>\r\n  )\r\n\r\n  const finishHandler = (e) => {\r\n    console.log(e)\r\n    console.log(e.status)\r\n    if(!jobFile || !jobFile.url) {\r\n      message.error(\"Please Upload attachment file first\");\r\n      return\r\n    }\r\n\r\n    if (props.id) {\r\n      axios\r\n        .post(\r\n          \"/api/tc/update-quotation\",\r\n          {\r\n            id: props.id,\r\n            tc_customer_id: e.customer_id,\r\n            tc_customer_job_site_id: e.jobsite_id,\r\n            task_period_from_date: moment(e.quotationDate),\r\n            task_period_to_date: moment(e.quotationDate).add(+e.validity, 'days'),\r\n            due_date: moment(e.quotationDate).add(+e.validity, 'days'),\r\n            sub_total: getSubTotalAmount(),\r\n            status: e.status || 'Pending',\r\n            tax: gstData[gstData.length - 1].percentage || 8,\r\n            discount: e.discount || 0,\r\n            total: getTotalAmount(gstData[gstData.length - 1].percentage || 8),\r\n            payment_term: e.paymentTerm,\r\n            validity: +e.validity,\r\n            tc_quotation_file: jobFile.url,\r\n            quotation_remarks: e.remarks || '',\r\n            line_items: jobsData,\r\n            // inquiry_id: inquiry_id,\r\n          },\r\n          {\r\n            headers: {\r\n              \"content-type\": \"application/json\"\r\n            },\r\n          }\r\n        )\r\n        .then((response) => {\r\n          if(!response.data.success){\r\n            message.warn(response.data.msg)\r\n            return;\r\n          }\r\n          // props.onNext();\r\n          // props.setCId(props.id);\r\n          // props.onNext();\r\n          console.log(props.id)\r\n          message.success(\"Quotation created successfully\")\r\n          history.goBack()\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n      return\r\n    } else {\r\n      axios\r\n        .post(\r\n          \"/api/tc/new-quotation\",\r\n          {\r\n            tc_customer_id: e.customer_id,\r\n            tc_customer_job_site_id: e.jobsite_id,\r\n            task_period_from_date: moment(e.quotationDate),\r\n            task_period_to_date: moment(e.quotationDate).add(+e.validity, 'days'),\r\n            due_date: moment(e.quotationDate).add(+e.validity, 'days'),\r\n            sub_total: getSubTotalAmount(),\r\n            status: e.status || 'Pending',\r\n            tax: gstData[gstData.length - 1].percentage || 8,\r\n            discount: e.discount || 0,\r\n            total: getTotalAmount(gstData[gstData.length - 1].percentage || 8),\r\n            payment_term: e.paymentTerm,\r\n            validity: +e.validity,\r\n            tc_quotation_file: jobFile.url,\r\n            quotation_remarks: e.remarks || '',\r\n            line_items: jobsData,\r\n            // inquiry_id: inquiry_id,\r\n          },\r\n          {\r\n            headers: {\r\n              \"content-type\": \"application/json\"\r\n            },\r\n          }\r\n        )\r\n        .then((response) => {\r\n          if(!response.data.success){\r\n            message.warn(response.data.msg)\r\n            return;\r\n          }\r\n          message.success(\"Quotation created successfully\")\r\n          history.goBack()\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const getSubTotalAmount = () => {\r\n    let amount = 0;\r\n    if(jobsData.length > 0) {\r\n      for(let i=0; i<jobsData.length; i++) {\r\n        amount += jobsData[i].total;\r\n      }\r\n    }\r\n    return amount\r\n  }\r\n\r\n  const getTotalAmount = (gst_percentage) => {\r\n    let amount = 0;\r\n    if(jobsData.length > 0) {\r\n      for(let i=0; i<jobsData.length; i++) {\r\n        amount += jobsData[i].total;\r\n      }\r\n    }\r\n    if(amount) {\r\n      amount = amount + ((+gst_percentage/100)*amount);\r\n    }\r\n    return amount\r\n  }\r\n\r\n  const getAllGst = ()=> {\r\n    axios({\r\n        method: 'post',\r\n        url: \"/api/tc/get-all-gsts\",\r\n        data: {},\r\n    }).then(function (response) {\r\n        if(response.data.success) {\r\n            console.log(response.data.data)\r\n            let res = response.data.data.data;\r\n            let fdata = res.map((elem, ind) => {\r\n              return {\r\n                  key: elem.id,\r\n                  id: elem.id,\r\n                  srNo: ind+1,\r\n                  percentage: elem.percentage,\r\n                  description: elem.description,\r\n                  created_at: moment(elem.created_at).format(\"DD-MM-YYYY\"),\r\n                  updated_at: moment(elem.updated_at).format(\"DD-MM-YYYY\"),\r\n              };\r\n            });\r\n            setGstData(fdata);\r\n            // console.log(fdata);\r\n\r\n            // form.setFieldsValue ({\r\n            //   ...form.getFieldsValue(),\r\n            //   gst: res[res.length - 1].percentage || 8\r\n            // })\r\n        }\r\n    }).catch(function (error) {\r\n        console.log(error);\r\n    });\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-customers\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 100000,\r\n          // statuses: [\"ACTIVE\", \"INACTIVE\", \"PENDING APPROVAL\"],\r\n          searchText : null,\r\n        }\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            key: ind,\r\n            id: elem.id,\r\n            company: elem.name,\r\n            phoneNumber: elem.phone,\r\n            emailId: elem.email\r\n          };\r\n        });\r\n\r\n        setCustomerAccountData(customerAccountData.concat(fdata));\r\n        console.log(customerAccountData)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      getAllGst();\r\n  }, []);\r\n\r\n  const clearForm = () => {\r\n    form.resetFields();\r\n    setJobsData([]);\r\n    setJobFile(({\r\n      name: '',\r\n      url: ''\r\n    }));\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {showModal && saveQuotaionModal}\r\n      <PageHeading\r\n        title=\"Create New Quotation\"\r\n      />\r\n\r\n      <Form\r\n        form={form}\r\n        labelCol={{\r\n          span: 10,\r\n        }}\r\n        wrapperCol={{\r\n            span: 18,\r\n        }}\r\n        layout=\"vertical\"\r\n        onFinish={finishHandler}\r\n      >\r\n        <Form1 form={form} customers={customerAccountData} jobsData={jobsData} setJobsData={setJobsData} jobFile={jobFile} setJobFile={setJobFile}/>\r\n\r\n          <div className=\"w-100 d-flex justify-content-end actions\">\r\n            <Form.Item className=\"w-100\">\r\n                <Button onClick={() => { history.goBack() }}>Back</Button>\r\n                <Button onClick={() => { clearForm() }}>Clear All</Button>\r\n                <Button type=\"primary\" htmlType=\"submit\">Save</Button>\r\n            </Form.Item>\r\n          </div>\r\n      </Form>\r\n\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AddNewQuotation;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"SendQuotation_card__VmhLX\",\"add_details\":\"SendQuotation_add_details__3-l8v\",\"total_amt\":\"SendQuotation_total_amt__MERcU\",\"tag\":\"SendQuotation_tag__G2lOr\",\"send_btn\":\"SendQuotation_send_btn__SlgCU\",\"action\":\"SendQuotation_action__etSZS\"};","import Icon from \"@ant-design/icons\";\r\nimport React from \"react\";\r\n\r\nimport { submitTick } from \"assets/svg/icon\";\r\n\r\nconst SendQuotationModal = (props) => {\r\n  return (\r\n    <div className=\"text-center\">\r\n      <Icon component={submitTick} />\r\n      <div>\r\n        <h1>New Quotation Created Successfully.</h1>\r\n        <p>\r\n          Quotation Id HCI1234-QTN for items & services created successfully.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SendQuotationModal;\r\n","import React , {useState} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  Card,\r\n  Typography,\r\n  Col,\r\n  Row,\r\n  List,\r\n  Divider,\r\n  Tag,\r\n  Button,\r\n  // Avatar,\r\n} from \"antd\";\r\nimport Icon from \"@ant-design/icons\"\r\nimport PageHeading from \"components/shared-components/PageHeading/PageHeading\";\r\nimport Modal from \"components/UI/Modal\";\r\nimport logo from \"assets/grand-energy-logo-small.png\";\r\nimport { ItemsAndServicesPageIcon } from \"assets/svg/icon\";\r\nimport HandBagImg from \"assets/HandBag.png\";\r\nimport SneakersImg from \"assets/Sneakers.png\";\r\nimport { PdfIcon } from \"../../../ItemsAndServices/svgIcons\";\r\n// import logo from \"assets/grand-energy-logo.png\";\r\n// import { SendIcon } from \"assets/svg/icon\";\r\nimport classes from \"./SendQuotation.module.css\";\r\nimport SendQuotationModal from \"./SendQuotationModal\";\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst dataItems = [\r\n  { title: \"XYZ Hand Bag\", image: HandBagImg },\r\n  { title: \"Sneakers\", image: SneakersImg },\r\n];\r\n\r\nconst dataServices = [\"Leather Replacement\", \"Shoe Shine & Polish\"];\r\n\r\nconst dataQty = [1, 1];\r\n\r\nconst dataPrice = [\"S$100.00\", \"S$100.00\"];\r\n\r\nconst dataTotal = [\"S$100.00\", \"S$100.00\"];\r\n\r\nconst dataGrandTotal = [\r\n  { text: \"Subtotal\", amt: \"S$100.00\" },\r\n  { text: \"Discount\", amt: \"S$100.00\", tag: { text: \"10%\", color: \"#0099A8\" } },\r\n  { text: \"Tax\", amt: \"S$100.00\", tag: { text: \"10%\", color: \"#E82E2E\" } },\r\n];\r\nconst SendQuotation = () => {\r\n\r\n  const [showModal , setShowModal] = useState(false);\r\n\r\n  const showModalHandler = () => {\r\n    setShowModal(prev => !prev);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      {showModal && <Modal onClose={showModalHandler}><SendQuotationModal/></Modal>}\r\n      <PageHeading\r\n        svg={ItemsAndServicesPageIcon}\r\n        title=\"Quotations / View Quotation\"\r\n      />\r\n\r\n      <Card>\r\n        <Card className={classes.card}>\r\n          <div className=\"mt-2 mb-2 w-100\">\r\n            <img src={logo} alt=\"logo\" style={{width: '20%'}}/>\r\n            <div className=\"d-flex justify-content-between mt-3\">\r\n              <div>\r\n                <Title strong level={3}>\r\n                  GRAND ENERGY TECHNOLOGIES PTE LTD\r\n                </Title>\r\n                <Text><b>Email:</b> admin@getpl.com.sg</Text>\r\n              </div>\r\n              <div></div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div>\r\n                <Text><b>Phone:</b> 6025 3659</Text>\r\n                <br />\r\n                <Text><b>UEN/GST No:</b> 201802457D</Text>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <Text>Bik 130 Jurong Gateway Road </Text>\r\n                <br />\r\n                <Text>#03-203 Singapore 600130 </Text>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n        <Card className={classes.add_details}>\r\n          <div>\r\n            <h5>Billed To:</h5>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"mr-5\">\r\n              {/* <Title strong level={3}>\r\n                Billed To\r\n              </Title> */}\r\n              <br />\r\n              <Text strong>John Smith</Text>\r\n              <br />\r\n              <Text>1111 ABC Road,XYZ Tower</Text>\r\n              <br />\r\n              <Text>Singapore, 0023</Text>\r\n              <br />\r\n              <br />\r\n              <Text>admin@customer.com</Text>\r\n              <br />\r\n              <Text><b>Phone:</b> 11111111</Text>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div className=\"mr-4\">\r\n                <br />\r\n                <Text strong>Quotation No</Text>\r\n                <br />\r\n                <Text>1111</Text>\r\n                <br />\r\n                <br />\r\n                <Text strong>Quotation Date</Text>\r\n                <br />\r\n                <Text>24 Dec, 2024</Text>\r\n                <br />\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <br />\r\n                <Text strong>Payment Term</Text>\r\n                <br />\r\n                <Text>COD</Text>\r\n                <br />\r\n                <br />\r\n                <Text strong>Validity</Text>\r\n                <br />\r\n                <Text>7 Days</Text>\r\n                <br />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <div>\r\n          <Row>\r\n            <Col span={3}>\r\n              <Title level={4}>Sr. No.</Title>\r\n              <List\r\n                dataSource={dataItems}\r\n                renderItem={(item, index) => (\r\n                  <List.Item key={item.title} className=\" pl-0 border-0\">\r\n                    {index + 1}\r\n                  </List.Item>\r\n                )}\r\n              />\r\n            </Col>\r\n            <Col span={21}>\r\n              <Row>\r\n                <Col span={8}>\r\n                  <Title level={4}>Description</Title>\r\n                  <List\r\n                    dataSource={dataServices}\r\n                    renderItem={(item) => (\r\n                      <List.Item key={item} className=\"pl-0 border-0\">\r\n                        <div\r\n                          style={{ height: \"32px\" }}\r\n                          className=\"d-flex align-items-center\"\r\n                        >\r\n                          {item}\r\n                        </div>\r\n                      </List.Item>\r\n                    )}\r\n                  />\r\n                </Col>\r\n                <Col span={4}>\r\n                  <Title level={4}>Provisional Quantity</Title>\r\n                  <List\r\n                    dataSource={dataQty}\r\n                    renderItem={(item) => (\r\n                      <List.Item key={item} className=\"border-0\">\r\n                        <div\r\n                          style={{ height: \"32px\" }}\r\n                          className=\"d-flex align-items-center\"\r\n                        >\r\n                          {item}\r\n                        </div>\r\n                      </List.Item>\r\n                    )}\r\n                  />\r\n                </Col>\r\n                <Col span={6}>\r\n                  <Title level={4}>Unit Price</Title>\r\n                  <List\r\n                    dataSource={dataPrice}\r\n                    renderItem={(item) => (\r\n                      <List.Item key={item} className=\"pl-0 border-0\">\r\n                        <div\r\n                          style={{ height: \"32px\" }}\r\n                          className=\"d-flex align-items-center\"\r\n                        >\r\n                          {item}\r\n                        </div>\r\n                      </List.Item>\r\n                    )}\r\n                  />\r\n                </Col>\r\n                <Col span={6}>\r\n                  <Title level={4}>TOTAL</Title>\r\n                  <List\r\n                    dataSource={dataTotal}\r\n                    renderItem={(item) => (\r\n                      <List.Item key={item} className=\"pl-0 border-0\">\r\n                        <div\r\n                          style={{ height: \"32px\" }}\r\n                          className=\"d-flex align-items-center\"\r\n                        >\r\n                          {item}\r\n                        </div>\r\n                      </List.Item>\r\n                    )}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Divider />\r\n        <div className=\"d-flex justify-content-end\">\r\n          <Row\r\n            style={{ width: \"40%\" }}\r\n            className=\"d-flex justify-content-center\"\r\n          >\r\n            <Col span={12}>\r\n              <List\r\n                dataSource={dataGrandTotal}\r\n                renderItem={(item) => (\r\n                  <List.Item\r\n                    key={item.text}\r\n                    className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                  >\r\n                    <div className=\"d-flex align-items-center \">\r\n                      <Text strong>{item.text}</Text>\r\n                      {item.tag && (\r\n                        <div className={classes.total_amt}>\r\n                          <Tag\r\n                            color={item.tag.color}\r\n                            className={`h-100 w-100 ${classes.tag}`}\r\n                          >\r\n                            {item.tag.text}\r\n                          </Tag>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </List.Item>\r\n                )}\r\n              />\r\n            </Col>\r\n            <Col span={12}>\r\n              <List\r\n                dataSource={dataGrandTotal}\r\n                renderItem={(item) => (\r\n                  <List.Item\r\n                    key={item.amt}\r\n                    className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                  >\r\n                    <div className=\"d-flex align-items-center\">{item.amt}</div>\r\n                  </List.Item>\r\n                )}\r\n              />\r\n            </Col>\r\n            <Divider />\r\n\r\n            <Title strong level={2}>\r\n              Grand Total: S$100.00\r\n            </Title>\r\n          </Row>\r\n        </div>\r\n      </Card>\r\n\r\n      <div className={`d-flex justify-content-end ${classes.action}`}>\r\n        <Button>\r\n          <Icon component={PdfIcon} />\r\n          Download PDF\r\n        </Button>\r\n        \r\n          {/* <Button type=\"primary\" className={classes.send_btn} onClick={showModalHandler}>\r\n            <Icon component={SendIcon} />\r\n            Send\r\n          </Button> */}\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SendQuotation;\r\n","import React from 'react'\r\n\r\nimport { Form , Input , Row , Col , Card , Typography  , DatePicker } from 'antd'\r\n\r\nconst {Title , Text} = Typography;\r\nconst {TextArea} = Input;\r\n\r\nconst PaymentRecordForm = ({invoice_id}) => {\r\n  return (\r\n    <Card className=\"mt-3\">\r\n        <Title strong level={3}>\r\n          Payment Details\r\n        </Title>\r\n        <br />\r\n        <Row gutter={20}>\r\n          <Col span={12}>\r\n            {/* <Form.Item\r\n              label=\"Quotation Id\"\r\n              name=\"quotationId\"\r\n              \r\n            >\r\n              <Input value={quotation_id} disabled/>\r\n            </Form.Item> */}\r\n            <Form.Item\r\n              label=\"Invoice Id\"\r\n              name=\"invoice_id\"\r\n              \r\n            >\r\n              <Input value={invoice_id} disabled/>\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"Payment Method\"\r\n              name=\"payment_method\"\r\n            >\r\n              <Input/>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label=\"Payment Date\"\r\n              name=\"payment_date\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"required\",\r\n                },\r\n              ]}\r\n            >\r\n              <DatePicker/>\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"Amount Collected\"\r\n              name=\"amount\"\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n\r\n            \r\n          </Col>\r\n        </Row>\r\n\r\n        <Form.Item label=\"Remarks\" name=\"remarks\">\r\n          <TextArea rows={4} />\r\n        </Form.Item>\r\n\r\n       \r\n      </Card>\r\n  )\r\n}\r\n\r\nexport default PaymentRecordForm","import React from 'react'\r\n\r\nimport { Card , Typography } from 'antd'\r\n\r\nimport { message, Upload } from 'antd';\r\nimport { InboxOutlined } from '@ant-design/icons';\r\n\r\nconst { Dragger } = Upload;\r\n\r\nconst {Title} = Typography\r\n\r\nconst props = {\r\n  name: 'file',\r\n  multiple: true,\r\n  action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n  onChange(info) {\r\n    const { status } = info.file;\r\n    if (status !== 'uploading') {\r\n      console.log(info.file, info.fileList);\r\n    }\r\n    if (status === 'done') {\r\n      message.success(`${info.file.name} file uploaded successfully.`);\r\n    } else if (status === 'error') {\r\n      message.error(`${info.file.name} file upload failed.`);\r\n    }\r\n  },\r\n  onDrop(e) {\r\n    console.log('Dropped files', e.dataTransfer.files);\r\n  },\r\n};\r\nconst ImageUpload = () => {\r\n  return (\r\n    <Card className='mt-3'>\r\n      <Title strong level={3}>Images</Title>\r\n      <Dragger {...props}>\r\n        <p className=\"ant-upload-drag-icon\">\r\n          <InboxOutlined />\r\n        </p>\r\n        <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\r\n        <p className=\"ant-upload-hint\">\r\n        Files supported:pdf,image,video,etc\r\n        </p>\r\n      </Dragger>  \r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default ImageUpload","import Icon from \"@ant-design/icons\";\r\nimport React from \"react\";\r\n\r\nimport { submitTick } from \"assets/svg/icon\";\r\n\r\nconst SaveRecordPaymentsModal = (props) => {\r\n  return (\r\n    <div className=\"text-center\">\r\n      <Icon component={submitTick} />\r\n      <div>\r\n        <h1>Payment Recorded Successfully!</h1>\r\n        <p>\r\n          Payment of S$ 100.00 for Quotation Id HCI1234-QTN recorded\r\n          successfully!\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SaveRecordPaymentsModal;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"save_btn\":\"RecordPayments_save_btn__3db0Q\",\"actions\":\"RecordPayments_actions__8PiH+\"};","import React , {useState} from 'react'\r\n\r\nimport { Form , Col , Row , Button, message  } from 'antd'\r\nimport { ItemsAndServicesPageIcon } from 'assets/svg/icon'\r\nimport ImageUpload from '../ImageUpload'\r\nimport PageHeading from 'components/shared-components/PageHeading/PageHeading'\r\nimport PaymentRecordForm from './RecordPaymentsForm'\r\nimport Modal from 'components/UI/Modal'\r\nimport SaveRecordPaymentsModal from './SaveRecordPaymentsModal'\r\n\r\nimport classes from './RecordPayments.module.css'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\nimport { useLocation, useHistory, useParams } from 'react-router-dom';\r\n\r\nconst RecordPayments = () => {\r\n  const history = useHistory();\r\n  const param = useParams();\r\n  const [showModal , setShowModal] = useState(false);\r\n\r\n  const finishHandler = (e) => {\r\n    console.log(e)\r\n    \r\n    axios\r\n    .post(\r\n        \"/api/tc/new-payment\",\r\n        {\r\n            invoice_id: param.invoice_id,\r\n            amount: e.amount || 0,\r\n            payment_method: e.payment_method,\r\n        },\r\n        {\r\n            headers: {\r\n                \"content-type\": \"application/json\"\r\n            },\r\n        }\r\n    )\r\n    .then((response) => {\r\n        if(!response.data.success){\r\n        message.warn(response.data.msg)\r\n        return;\r\n        }\r\n        message.success(\"Payment Recorded successfully\")\r\n        // savePaymentHandler()\r\n        history.goBack()\r\n    })\r\n    .catch((error) => {\r\n        console.log(error);\r\n    });\r\n  };\r\n\r\n  const savePaymentHandler = () => {\r\n    setShowModal(prev => !prev);\r\n  }\r\n\r\n  const savePaymentModal = (\r\n    <Modal onClose={savePaymentHandler}>\r\n      <SaveRecordPaymentsModal/>\r\n    </Modal>\r\n  )\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {showModal && savePaymentModal}\r\n      <div>\r\n        <PageHeading\r\n        // svg={ItemsAndServicesPageIcon}\r\n        title=\"Record Payments\"\r\n        />\r\n      </div>\r\n      <Form\r\n        layout=\"horizontal\"\r\n        onFinish={finishHandler}\r\n      >\r\n        \r\n\r\n        <Row gutter={20}>\r\n          <Col span={16}>\r\n            <PaymentRecordForm invoice_id={param.invoice_id || 0}/>\r\n          </Col>\r\n          {/* <Col span={8}>\r\n            <ImageUpload />\r\n          </Col> */}\r\n        </Row>\r\n      </Form>\r\n\r\n      <div className={`d-flex justify-content-end ${classes.actions}`}>\r\n        <Button onClick={()=>history.goBack()}>Back</Button>\r\n        <Button type=\"primary\" className={classes.save_btn}>Save</Button>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default RecordPayments","\r\nexport const ViewDetailsIcon = () =>(\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14787)\">\r\n<path d=\"M10.1667 5.66667C13.325 5.66667 16.1417 7.44167 17.5167 10.25C16.1417 13.0583 13.325 14.8333 10.1667 14.8333C7.00833 14.8333 4.19167 13.0583 2.81667 10.25C4.19167 7.44167 7.00833 5.66667 10.1667 5.66667ZM10.1667 4C6 4 2.44167 6.59167 1 10.25C2.44167 13.9083 6 16.5 10.1667 16.5C14.3333 16.5 17.8917 13.9083 19.3333 10.25C17.8917 6.59167 14.3333 4 10.1667 4ZM10.1667 8.16667C11.3167 8.16667 12.25 9.1 12.25 10.25C12.25 11.4 11.3167 12.3333 10.1667 12.3333C9.01667 12.3333 8.08333 11.4 8.08333 10.25C8.08333 9.1 9.01667 8.16667 10.1667 8.16667ZM10.1667 6.5C8.1 6.5 6.41667 8.18333 6.41667 10.25C6.41667 12.3167 8.1 14 10.1667 14C12.2333 14 13.9167 12.3167 13.9167 10.25C13.9167 8.18333 12.2333 6.5 10.1667 6.5Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14787\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const DeleteIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14792)\">\r\n<path d=\"M13.1667 8V16.3333H6.5V8H13.1667ZM11.9167 3H7.75L6.91667 3.83333H4V5.5H15.6667V3.83333H12.75L11.9167 3ZM14.8333 6.33333H4.83333V16.3333C4.83333 17.25 5.58333 18 6.5 18H13.1667C14.0833 18 14.8333 17.25 14.8333 16.3333V6.33333Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14792\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const SendQuotationIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14797)\">\r\n<path d=\"M11.2167 8.01667L11.9833 8.78333L4.43333 16.3333H3.66667V15.5667L11.2167 8.01667ZM14.2167 3C14.0083 3 13.7917 3.08333 13.6333 3.24167L12.1083 4.76667L15.2333 7.89167L16.7583 6.36667C17.0833 6.04167 17.0833 5.51667 16.7583 5.19167L14.8083 3.24167C14.6417 3.075 14.4333 3 14.2167 3ZM11.2167 5.65833L2 14.875V18H5.125L14.3417 8.78333L11.2167 5.65833Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14797\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const RecordPaymentsIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14802)\">\r\n<path d=\"M15.8334 11.6668V5.00016C15.8334 4.0835 15.0834 3.3335 14.1667 3.3335H2.50004C1.58337 3.3335 0.833374 4.0835 0.833374 5.00016V11.6668C0.833374 12.5835 1.58337 13.3335 2.50004 13.3335H14.1667C15.0834 13.3335 15.8334 12.5835 15.8334 11.6668ZM14.1667 11.6668H2.50004V5.00016H14.1667V11.6668ZM8.33337 5.8335C6.95004 5.8335 5.83337 6.95016 5.83337 8.3335C5.83337 9.71683 6.95004 10.8335 8.33337 10.8335C9.71671 10.8335 10.8334 9.71683 10.8334 8.3335C10.8334 6.95016 9.71671 5.8335 8.33337 5.8335ZM19.1667 5.8335V15.0002C19.1667 15.9168 18.4167 16.6668 17.5 16.6668H3.33337V15.0002H17.5V5.8335H19.1667Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14802\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const CreateContractIcon = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_886_17351)\">\r\n<path d=\"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V8H18V20H6ZM11 19H13V18H14C14.55 18 15 17.55 15 17V14C15 13.45 14.55 13 14 13H11V12H15V10H13V9H11V10H10C9.45 10 9 10.45 9 11V14C9 14.55 9.45 15 10 15H13V16H9V18H11V19Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_886_17351\">\r\n<rect width=\"24\" height=\"24\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)","import React from \"react\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\n// import EllipsisDropdown from 'components/shared-components/EllipsisDropdown'\r\nimport Icon from \"@ant-design/icons\";\r\nimport EllipsisDropdown from \"components/shared-components/EllipsisDropdown/index\";\r\nimport { Menu, message } from \"antd\";\r\nimport { ViewDetailsIcon, CreateContractIcon, SendQuotationIcon } from \"./ActionIcons\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { InquiryStatusIcon } from \"views/app-views/InquiryManagement/ActionsIcons\";\r\n\r\nconst Actions = ({ contract_id, setOpenContractModal, record, getData, setQuoteData, updateStatus }) => {\r\n  const history = useHistory();\r\n  const match = useRouteMatch();\r\n\r\n  const viewContractHandler = () => {\r\n    history.push(`${match.path}/view-contract-details/${contract_id}`);\r\n    // /contracts/view-contract-details/\r\n  }\r\n\r\n  const viewContractDetailsHandler = () => {\r\n    history.push(`${match.path}/view-contract-details/${contract_id}`);\r\n  }\r\n\r\n  const editContractHandler = () => {\r\n    // history.push(`${match.path}/edit-contract/${contract_id}`);\r\n    history.push(`${match.path}/view-contract-details/${contract_id}`);\r\n  }\r\n  const createContractHandler = () => {\r\n    setOpenContractModal(true)\r\n    setQuoteData(record)\r\n  }\r\n\r\n\r\n  return (\r\n    <EllipsisDropdown\r\n      menu={\r\n        <Menu>\r\n          <Menu.Item onClick={createContractHandler} disabled={record.status === 'Completed'}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={CreateContractIcon} /> Create Work Order\r\n            </span>\r\n          </Menu.Item>\r\n          <Menu.Item onClick={() => {\r\n            updateStatus(record,\"Completed\");\r\n          }} disabled={record.status === 'Completed'}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={InquiryStatusIcon} /> Mark as Complete\r\n            </span>\r\n          </Menu.Item>\r\n          <Menu.Item onClick={() => {\r\n            updateStatus(record,\"Active\");\r\n          }} disabled={record.status !== 'Completed'}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={SendQuotationIcon} /> Mark as Not Complete\r\n            </span>\r\n          </Menu.Item>\r\n          {/* <Menu.Item onClick={editContractHandler}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={CreateContractIcon} />Edit Contract</span>\r\n          </Menu.Item> */}\r\n\r\n          {/* <Menu.Item onClick={viewContractDetailsHandler}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={CreateContractIcon} />View Contract Details</span>\r\n          </Menu.Item> */}\r\n\r\n          <Menu.Item onClick={viewContractHandler}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={ViewDetailsIcon} />\r\n              View Contract Details\r\n            </span>\r\n          </Menu.Item>\r\n        </Menu>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default Actions;\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport { Table, Button, Tag, Input, Modal, DatePicker, TimePicker, message, Select, InputNumber } from 'antd';\r\nimport Avatar from 'assets/Avatar2.png'\r\nimport Actions from './Actions';\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport { set } from 'lodash';\r\n\r\n\r\n\r\nconst ContractTable = ({ setPage, searchText, statuses, selectedFilter, selectedCustomerFilter, selectedJobsiteFilter, selectedTypeFilter, selectedStatusFilter }) => {\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const [contractsData, setContractsData] = useState([]);\r\n  const [openContractModal, setOpenContractModal] = useState(false);\r\n  const [commencementDate, setCommencementDate] = useState(null);\r\n  const [quoteData, setQuoteData] = useState({});\r\n  const [expiryDate, setExpiryDate] = useState(null);\r\n  const [direct_to_pc, setDirect_to_pc] = useState('');\r\n  const [co_regn_no, setCo_regn_no] = useState('');\r\n  const [contract_number, setContract_number] = useState('');\r\n  const location = useLocation();\r\n  const [wbs_element, setWbs_element] = useState('');\r\n  const [network_activity, setNetwork_activity] = useState('');\r\n  const [officer_in_charge, setOfficer_in_charge] = useState(null);\r\n  const [jobsData, setJobsData] = useState([]);\r\n  const [openJobModal, setOpenJobModal] = useState(false);\r\n  const [description, setDescription] = useState('');\r\n  const [quantity, setQuantity] = useState(null);\r\n  const [unitPrice, setUnitPrice] = useState(null);\r\n  const { TextArea } = Input;\r\n  const [allUsers, setAllUsers] = useState([])\r\n  const customer_id = localStorage.getItem(\"customer_id\");\r\n\r\n  const removeJob = (record) => {\r\n    let jobs = jobsData.filter((e) => e != record);\r\n    setJobsData(jobs)\r\n  }\r\n  const onChangeDesc = (event) => {\r\n    setDescription(event.target.value)\r\n  }\r\n\r\n  const onChangeProvisional = (value) => {\r\n    setQuantity(value)\r\n  }\r\n\r\n  const onChangeUnit = (value) => {\r\n    setUnitPrice(value)\r\n  }\r\n const columns2 = [\r\n    {\r\n      title: 'SR NO',\r\n      dataIndex: 'sr_no',\r\n    },\r\n    {\r\n      title: 'DESCRIPTION',\r\n      dataIndex: 'name',\r\n    },\r\n    {\r\n      title: 'QTY',\r\n      dataIndex: 'quantity',\r\n    },\r\n    {\r\n      title: 'UNIT PRICE',\r\n      dataIndex: 'price',\r\n    },\r\n    {\r\n      title: 'SUBTOTAL',\r\n      dataIndex: 'total',\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '',\r\n      render: (_,record) => {\r\n        return <Button type=\"danger\" className='mt-2' onClick={()=>{removeJob(record)}}>Remove</Button>\r\n      },\r\n    },\r\n  ];\r\n\r\n    const handleJobOk = () => {\r\n      if(!description) message.error(\"Please fill Description\");\r\n      if(!quantity) message.error(\"Please fill Quantity\");\r\n      if(!unitPrice) message.error(\"Please fill Unit Price\");\r\n  \r\n      setJobsData([...jobsData, {\r\n        sr_no: jobsData.length+1,\r\n        name: description,\r\n        quantity: quantity,\r\n        price: unitPrice,\r\n        total: (+quantity * +unitPrice) || 0\r\n        // total: (+jobDetailsTemp.provisionalQty * +jobDetailsTemp.unitPrice) || 0\r\n      }]);\r\n      setDescription('');\r\n      setQuantity(null);  \r\n      setUnitPrice(null);\r\n      setOpenJobModal(false);\r\n    }\r\n  const getAllUsers = () => {\r\n    axios({\r\n      method: 'post',\r\n      url: \"/api/tc/get-users\",\r\n      // data: values,\r\n\r\n    }).then(function (response) {\r\n      console.log(response.data);\r\n      if (response.data.success) {\r\n        setAllUsers(response.data.data)\r\n\r\n      }\r\n    }).catch(function (error) {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  const [remindersData, setRemindersData] = useState([]);\r\n  const removeReminder = (record) => {\r\n    let newRemindersData = remindersData.filter((elem) => elem.sr_no !== record.sr_no);\r\n    setRemindersData(newRemindersData);\r\n  }\r\n\r\n\r\n  const selectChangeHandler = (newSelectedRowKeys) => {\r\n    setSelectedRowKeys(newSelectedRowKeys);\r\n  };\r\n\r\n  const handleContractCancel = () => {\r\n    setOpenContractModal(false);\r\n  };\r\n\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Contract Id',\r\n      dataIndex: 'id',\r\n    },\r\n    {\r\n      title: 'Customer Name',\r\n      dataIndex: 'customer_name',\r\n      // defaultSortOrder: 'descend',\r\n      // sorter: (a, b) => a.customerName - b.customerName,\r\n    },\r\n    {\r\n      title: 'Jobsite',\r\n      dataIndex: 'jobsite_name',\r\n\r\n    },\r\n    {\r\n      title: 'Contract Type',\r\n      dataIndex: 'contract_type',\r\n\r\n    },\r\n    {\r\n      title: 'Commence On',\r\n      dataIndex: 'commence_on',\r\n\r\n    },\r\n    // {\r\n    //   title: 'Expired On',\r\n    //   dataIndex: 'expire_on',\r\n\r\n    // },\r\n    {\r\n      title: 'Status',\r\n      dataIndex: 'status',\r\n      render: (_, record) => {\r\n        const statusStyles = {\r\n          color: \"#00AB6F\",\r\n          backgroundColor: \"#EDFFF9\",\r\n          padding: \"4px 8px\",\r\n          borderRadius: \"6px\",\r\n          fontWeight: \"600\",\r\n          fontSize: \"14px\",\r\n        };\r\n\r\n        if (record.status === \"Completed\") {\r\n          return <span style={statusStyles}>Completed</span>;\r\n        }\r\n        const isBeforeToday = moment(record.start_date, \"YYYY-MM-DD\").isBefore(moment().startOf(\"day\"));\r\n\r\n        return (\r\n          <span style={statusStyles}>\r\n            {isBeforeToday ? \"Ongoing\" : \"Upcoming\"}\r\n          </span>\r\n        );\r\n        // if(record.status.toUpperCase()==='EXPIRED') return <span style={{color: '#F53434', backgroundColor: '#FFF2F2', padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Expired</span>\r\n        // else if(record.status.toUpperCase()==='INACTIVE') return <span style={{color: '#F53434', backgroundColor: '#FFF2F2', padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Inactive</span>\r\n        // else return <span style={{color: \"#00AB6F\", backgroundColor: \"#EDFFF9\", padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Active</span>\r\n      }\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '',\r\n      key: 'x',\r\n      render: (_, record) => <Actions updateStatus={updateStatus} setQuoteData={setQuoteData} contract_id={record.id} record={record} setOpenContractModal={setOpenContractModal} getData={getData} />,\r\n    },\r\n  ];\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: selectChangeHandler\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-contracts\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 10,\r\n          // statuses: [\"ACTIVE\", \"INACTIVE\"],\r\n          statuses: null,\r\n          search: searchText ? searchText : null,\r\n          customer_id: selectedCustomerFilter || null,\r\n          job_site_id: selectedJobsiteFilter || null,\r\n          status: selectedStatusFilter || null,\r\n          contract_type: selectedTypeFilter || null,\r\n          customer_id: customer_id\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            ...elem,\r\n            key: elem.id,\r\n            id: elem.id,\r\n            customer_name: elem.customer_name || elem.tc_customer_id,\r\n            jobsite_name: elem.job_site_name || (elem.tc_customer_job_site_id || '-'),\r\n            contract_type: elem.type,\r\n            commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n            expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n            contract_type: elem.type,\r\n            status: elem.status,\r\n            start_date: elem.start_date,\r\n          };\r\n        });\r\n        setContractsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [searchText]);\r\n\r\n  useEffect(() => {\r\n    getAllUsers()\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-contracts\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 10,\r\n          statuses: null,\r\n          search: searchText ? searchText : null,\r\n          customer_id: selectedCustomerFilter || null,\r\n          job_site_id: selectedJobsiteFilter || null,\r\n          status: selectedStatusFilter || null,\r\n          contract_type: selectedTypeFilter || null,\r\n          customer_id: customer_id\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            ...elem,\r\n            key: elem.id,\r\n            id: elem.id,\r\n            customer_name: elem.customer_name || elem.tc_customer_id,\r\n            jobsite_name: elem.job_site_name || (elem.tc_customer_job_site_id || '-'),\r\n            contract_type: elem.type,\r\n            commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n            expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n            contract_type: elem.type,\r\n            status: elem.status,\r\n            start_date: elem.start_date,\r\n          };\r\n        });\r\n        setContractsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [selectedFilter]);\r\n\r\n\r\n  const getData = () => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-contracts\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 10,\r\n          statuses: null,\r\n          search: searchText ? searchText : null,\r\n          customer_id: selectedCustomerFilter || null,\r\n          job_site_id: selectedJobsiteFilter || null,\r\n          status: selectedStatusFilter || null,\r\n          contract_type: selectedTypeFilter || null,\r\n          customer_id: customer_id\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            ...elem,\r\n            key: elem.id,\r\n            id: elem.id,\r\n            customer_name: elem.customer_name || elem.tc_customer_id,\r\n            jobsite_name: elem.job_site_name || (elem.tc_customer_job_site_id || '-'),\r\n            contract_type: elem.type,\r\n            commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n            expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n            contract_type: elem.type,\r\n            status: elem.status,\r\n            start_date: elem.start_date,\r\n          };\r\n        });\r\n        setContractsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  const commencementDateChange = (date) => {\r\n    // contractData.date_of_commencement = date;\r\n    // let newContractData = contractData;\r\n    // newContractData.date_of_commencement = date;\r\n    // console.log(newContractData);\r\n\r\n    setCommencementDate(date);\r\n  }\r\n\r\n  const expiryDateChange = (date) => {\r\n    setExpiryDate(date);\r\n  }\r\n\r\n  const handleAddReminder = () => {\r\n    setRemindersData([...remindersData, {\r\n      sr_no: remindersData.length + 1,\r\n      date: null,\r\n      title: '',\r\n      description: '',\r\n    }]);\r\n  };\r\n  const reminderColumns = [\r\n    {\r\n      title: 'Sr. No.',\r\n      dataIndex: 'sr_no',\r\n    },\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'date',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <DatePicker value={record.date} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].date = e\r\n              setRemindersData([...data])\r\n            }} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Time',\r\n      dataIndex: 'time',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <TimePicker value={record.time} className='w-100' format={'HH:mm A'} use12Hours={true} onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].time = e;\r\n              setRemindersData([...data])\r\n            }} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Title',\r\n      dataIndex: 'title',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <Input value={record.title} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].title = e.target.value\r\n              setRemindersData([...data])\r\n            }} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Content',\r\n      dataIndex: 'description',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <Input value={record.description} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].description = e.target.value\r\n              setRemindersData([...data])\r\n            }} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '',\r\n      key: 'x',\r\n      render: (_, record) => <Button type='danger' onClick={() => { removeReminder(record) }} className='font-weight-bold'>remove</Button>,\r\n    },\r\n  ];\r\n\r\n\r\n  const handleCancel = () => {\r\n    setOpenContractModal(false);\r\n    setOpenJobModal(false);\r\n    setCommencementDate(null);\r\n    setExpiryDate(null);\r\n    setRemindersData([]);\r\n    setDirect_to_pc('');\r\n    setCo_regn_no('');\r\n    setContract_number('');\r\n    setWbs_element('');\r\n    setNetwork_activity('');\r\n    setOfficer_in_charge('');\r\n    setDescription('');\r\n    setQuantity(null);\r\n    setUnitPrice(null);\r\n    setJobsData([]);\r\n  };\r\n\r\n  const handleContractOk = () => {\r\n    console.log(quoteData);\r\n    if (!commencementDate || !expiryDate || !direct_to_pc || !co_regn_no || !contract_number || !wbs_element || !network_activity || !officer_in_charge) {\r\n      message.error('Please fill all the fields');\r\n      return;\r\n    }\r\n    if(jobsData.length === 0){\r\n      message.error('Please add job details');\r\n      return;\r\n    }\r\n\r\n    // let data = quotationsData.find((elem) => elem.id === quoteData.quotation_id);\r\n    // console.log(data);\r\n    // date: schema.date(),\r\n    // direct_to_pc: schema.string(),\r\n    // co_regn_no: schema.string(),\r\n    // contract_number: schema.string(),\r\n    // wbs_element: schema.string(),\r\n    // network_activity: schema.string(),\r\n    // officer_in_charge: schema.number(),\r\n    // tc_customer_id: schema.number(),\r\n    // tc_customer_job_site_id: schema.number.optional(),\r\n    // tc_contract_id: schema.number(),\r\n    // tc_quotation_id: schema.number.optional(),\r\n    // start_date: schema.date(),\r\n    // end_date: schema.date(),\r\n    // reminders: schema.array().members(schema.object().anyMembers()),\r\n    // status: schema.string.optional(),\r\n    axios\r\n      .post(\r\n        \"/api/tc/new-work-order\",\r\n        {\r\n          tc_quotation_id: quoteData.quotation_id,\r\n          date: moment(),\r\n          tc_contract_id: quoteData.id,\r\n          tc_customer_id: quoteData.tc_customer_id,\r\n          tc_customer_job_site_id: quoteData.tc_customer_job_site_id || null,\r\n          tc_quotation_id: quoteData.tc_quotation_id,\r\n          start_date: moment(commencementDate),\r\n          end_date: moment(expiryDate),\r\n          reminders: remindersData,\r\n          direct_to_pc: direct_to_pc,\r\n          co_regn_no: co_regn_no,\r\n          contract_number: contract_number,\r\n          wbs_element: wbs_element,\r\n          network_activity: network_activity,\r\n          officer_in_charge: officer_in_charge,\r\n          line_items: jobsData,\r\n          // reminders: remindersData,\r\n          // type: contractType,\r\n          status: 'Active'\r\n        },\r\n      )\r\n      .then((response) => {\r\n        console.log(response);\r\n        setCommencementDate(null);\r\n        setExpiryDate(null);\r\n\r\n        setRemindersData([]);\r\n        setOpenContractModal(false);\r\n        setDirect_to_pc('');\r\n        setCo_regn_no('');\r\n        setContract_number('');\r\n        setWbs_element('');\r\n        setNetwork_activity('');\r\n        setOfficer_in_charge('');\r\n\r\n\r\n\r\n        message.success('Word Order created successfully');\r\n        // updateQuotationStatus();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setOpenContractModal(false);\r\n        message.error('Work Order creation failed');\r\n      });\r\n  };\r\n  const updateStatus = (record, status) => {\r\n\r\n\r\n    // id: schema.number(),\r\n    // tc_customer_id: schema.number(),\r\n    // tc_customer_job_site_id: schema.number.optional(),\r\n    // tc_quotation_id: schema.number(),\r\n    // start_date: schema.date(),\r\n    // end_date: schema.date(),\r\n    // reminder_date: schema.date.optional(),\r\n    // reminders: schema.array().members(schema.object().anyMembers()),\r\n    // type: schema.string(),\r\n    // status: schema.string.optional(),\r\n    axios({\r\n      method: 'post',\r\n      url: \"/api/tc/update-contract\",\r\n      data: {\r\n        id: record.id,\r\n        tc_customer_id: record.tc_customer_id,\r\n        tc_customer_job_site_id: record.tc_customer_job_site_id,\r\n        tc_quotation_id: record.tc_quotation_id,\r\n        start_date: moment(record.start_date, \"YYYY-MM-DD\"),\r\n        end_date: moment(record.end_date, \"YYYY-MM-DD\"),\r\n        // reminder_date:  ,\r\n        reminders: JSON.parse(record.reminders),\r\n        type: record.type,\r\n        status: status,\r\n      },\r\n\r\n    }).then(function (response) {\r\n      if (response.data.success) {\r\n        message.success(\"Contract Status Updated Successfully\")\r\n\r\n        getData();\r\n      } else {\r\n        message.error(response.data.msg)\r\n      }\r\n    }).catch(function (error) {\r\n      console.log(error);\r\n    });\r\n  }\r\n  const handleJobCancel = () => {\r\n    setOpenJobModal(false);\r\n  };\r\n  const funOpenJobModal = () => {\r\n    setOpenJobModal(true)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Table columns={columns} dataSource={contractsData} />\r\n      <Modal\r\n        visible={openContractModal}\r\n        centered\r\n        maskClosable\r\n        width={900}\r\n        onCancel={handleCancel}\r\n        title={'Create Work Order'}\r\n        footer={[\r\n          <Button style={{ color: '#F5F5F5' }} type='primary' className='font-weight-bold' onClick={handleContractOk}>Save</Button>,\r\n          <Button style={{ color: '#000B23' }} onClick={handleContractCancel} className='font-weight-bold'>Cancel</Button>,\r\n        ]}\r\n      >\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">Date Of Commencement of Work</h4>\r\n          <DatePicker value={commencementDate} onChange={commencementDateChange} />\r\n        </div>\r\n\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">Date of Expiration of Work</h4>\r\n          <DatePicker value={expiryDate} onChange={expiryDateChange} />\r\n        </div>\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">Direct to PC</h4>\r\n          <Input value={direct_to_pc} onChange={(e) => setDirect_to_pc(e.target.value)} />\r\n\r\n\r\n        </div>\r\n\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">CO Regn No.</h4>\r\n          <Input value={co_regn_no} onChange={(e) => setCo_regn_no(e.target.value)} />\r\n        </div>\r\n\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">Contract Number</h4>\r\n          <Input value={contract_number} onChange={(e) => setContract_number(e.target.value)} />\r\n        </div>\r\n\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">WBS Element</h4>\r\n          <Input value={wbs_element} onChange={(e) => setWbs_element(e.target.value)} />\r\n        </div>\r\n\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">Network Activity</h4>\r\n          <Input value={network_activity} onChange={(e) => setNetwork_activity(e.target.value)} />\r\n        </div>\r\n\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">Officer in Charge</h4>\r\n          {/* <Input type='number' value={officer_in_charge} onChange={(e) => setOfficer_in_charge(e.target.value)}\r\n                \r\n              /> */}\r\n          <Select\r\n            // suffixIcon={<AddUserIcon/>}\r\n            showSearch\r\n            style={{\r\n              width: 200,\r\n            }}\r\n            // mode='multiple'\r\n            placeholder=\"Officer in Charge\"\r\n            optionFilterProp=\"children\"\r\n            filterOption={(input, option) => (option?.title ?? '').toString().toLowerCase()?.includes(input?.toLowerCase())}\r\n            filterSort={(optionA, optionB) =>\r\n              (optionA?.label ?? '').toString().toLowerCase().localeCompare((optionB?.label ?? '').toString().toLowerCase())\r\n            }\r\n            value={officer_in_charge}\r\n            onChange={(e) => setOfficer_in_charge(e)}\r\n          >\r\n            {allUsers.map((val, id) => (\r\n              <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n            ))}\r\n            {/* <Select.Option value={1}>John Smith</Select.Option>\r\n                                            <Select.Option value={2}>Jane Cooper</Select.Option> */}\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <Table columns={columns2} dataSource={jobsData} />\r\n          <div className=\"d-flex justify-content-end\">\r\n            <Button type=\"primary\" onClick={funOpenJobModal} className='mt-2'>Add Job</Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h4 className=\"mb-2 mt-4\">Reminders</h4>\r\n          <Table columns={reminderColumns} dataSource={remindersData} />\r\n          <Button type='primary' className='font-weight-bold mt-2' onClick={handleAddReminder}>Add Reminder</Button>\r\n        </div>\r\n\r\n      </Modal>\r\n      <Modal\r\n        visible={openJobModal}\r\n        centered\r\n        maskClosable\r\n        onCancel={handleCancel}\r\n        title={'Job Details'}\r\n        footer={[\r\n            <Button type=\"primary\" className='font-weight-bold' onClick={handleJobOk}>Save</Button>,\r\n            <Button style={{ color: '#000B23' }} onClick={()=>{\r\n              setDescription('');\r\n              setQuantity(null);  \r\n              setUnitPrice(null);\r\n              setOpenJobModal(false);\r\n            }} className='font-weight-bold'>Cancel</Button>,\r\n      ]}\r\n      >   \r\n        <div>\r\n            <h4 className=\"mb-2\">Description</h4>\r\n            <TextArea rows={4} onChange={onChangeDesc} value={description}/>\r\n        </div>\r\n\r\n        <div>\r\n            <h4 className=\"mb-2 mt-2\"> Quantity</h4>\r\n            <InputNumber min={0} onChange={onChangeProvisional} value={quantity} />\r\n        </div>\r\n\r\n        <div>\r\n            <h4 className=\"mb-2 mt-2\">Unit Price</h4>\r\n            <InputNumber min={0} onChange={onChangeUnit} value={unitPrice} />\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ContractTable","import { Button, Dropdown, Menu, Space, Select, Drawer } from 'antd'\r\nimport React, { useState, useEffect } from 'react'\r\nimport SearchBox from 'components/shared-components/SearchBox';\r\nimport axios from 'axios';\r\nimport exportIcon from \"assets/svg/exportIcon.svg\";\r\nimport PageHeading from 'components/shared-components/PageHeading/PageHeading';\r\nimport Icon from \"@ant-design/icons\"\r\nimport { FilterIcon, ItemsAndServicesIcon } from \"assets/svg/icon\";\r\nimport ContractTable from './ContractTable';\r\nimport { CSVLink } from \"react-csv\";\r\nimport moment from \"moment\";\r\n\r\n// import { Link } from 'react-router-dom';\r\n// import plusIcon from \"assets/svg/plus.svg\";\r\n// import UserManagementIcon from \"assets/svg/usermManagementPage.svg\";\r\n// import filterIcon from \"assets/svg/filterIcon.svg\";\r\n// import Filter from 'views/app-views/UserManagement/UserList/Filter';\r\n\r\n\r\nfunction Contracts() {\r\n\r\n  const [searchText, setSearchText] = useState('')\r\n  const [page, setPage] = useState(1)\r\n  const [statusFilter, setStatusFilter] = useState([])\r\n  const [allContractsData, setAllContractsData] = useState([])\r\n  const [current, setCurrent] = useState(['All'])\r\n\r\n  const [allJobsites , setAllJobsites] = useState(false);\r\n  const [allCustomers , setAllCustomers] = useState(false);\r\n  const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n  const [selectedCustomerFilter , setSelectedCustomerFilter] = useState(false);\r\n  const [selectedJobsiteFilter , setSelectedJobsiteFilter] = useState(false);\r\n  const [selectedTypeFilter , setSelectedTypeFilter] = useState(false);\r\n  const [selectedStatusFilter , setSelectedStatusFilter] = useState(false);\r\n  const [selectedFilter , setSelectedFilter] = useState(false);\r\n  const tok = localStorage.getItem('token')\r\n  const customer_id = localStorage.getItem(\"customer_id\");\r\n\r\n  const headers = [\r\n    { label: \"Sr. No\", key: \"sr_no\" },\r\n    { label: \"Contract ID\", key: \"id\" },\r\n    { label: \"Customer Name\", key: \"customer_name\" },\r\n    { label: \"Jobsite\", key: \"jobsite_name\" },\r\n    { label: \"Contract Type\", key: \"contract_type\" },\r\n    { label: \"Commence On\", key: \"commence_on\" },\r\n    { label: \"Expired On\", key: \"expire_on\" },\r\n    { label: \"Status\", key: \"status\" }\r\n  ];\r\n\r\n  const handleFilterClick = (e) => {\r\n    setCurrent([e.key])\r\n    if(e.key === 'ACTIVE') {\r\n      setStatusFilter(['ACTIVE'])\r\n    }else if(e.key === 'INACTIVE') {\r\n      setStatusFilter(['INACTIVE'])\r\n    } else {\r\n      setStatusFilter([])\r\n    }\r\n  }\r\n\r\n  const getAllJobsites = () => {\r\n    axios({\r\n      method: 'post',\r\n      url: \"/api/tc/get-customer-job-sites\",\r\n      data: {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        customer_id: null,\r\n        search : null\r\n      }\r\n    }).then((response) => {\r\n        if (response.data.success) {\r\n          setAllJobsites(response.data.data.data)\r\n        }\r\n        console.log(\"Job sites data fetched\")\r\n        console.log(response.data.data.data)\r\n    }).catch((err) => {\r\n        console.log(err)\r\n    });\r\n  };\r\n  \r\n  const getAllCustomers = () => {\r\n    axios({\r\n      method: 'post',\r\n      url: \"/api/tc/get-customers\",\r\n      data: {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        customer_id: null,\r\n        search : null\r\n      }\r\n    }).then((response) => {\r\n        if (response.data.success) {\r\n          setAllCustomers(response.data.data.data)\r\n        }\r\n        console.log(\"Customers data fetched\")\r\n        console.log(response.data.data.data)\r\n    }).catch((err) => {\r\n        console.log(err)\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n    .post(\r\n      \"/api/tc/get-contracts\",\r\n      {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        search : null,\r\n        customer_id: customer_id\r\n      },\r\n    )\r\n    .then((response) => {\r\n      let res = response.data.data.data;\r\n\r\n      let fdata = res.map((elem, index) => {\r\n        return {\r\n          key: elem.id,\r\n          id: elem.id,\r\n          customer_name: elem.customer_name || elem.tc_customer_id,\r\n          jobsite_name: elem.job_site_name || (elem.tc_customer_job_site_id || '-'),\r\n          contract_type: elem.type,\r\n          commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n          expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n          contract_type: elem.type,\r\n          status: getStatus(elem),\r\n        };\r\n      });\r\n\r\n      setAllContractsData(fdata);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n\r\n    getAllCustomers();\r\n    getAllJobsites();\r\n  }, []);\r\n\r\n  const getStatus = (record) => {\r\n    if (record.status === \"Completed\") {\r\n      return \"Completed\"\r\n    } else {\r\n      const isBeforeToday = moment(record.start_date, \"YYYY-MM-DD\").isBefore(moment().startOf(\"day\"));\r\n      if(isBeforeToday) {\r\n        return \"Ongoing\"\r\n      } else return \"Upcoming\"\r\n    }\r\n  }\r\n\r\n  const menuFilter = (\r\n    <Menu onClick={handleFilterClick} selectedKeys={current}>\r\n      <Menu.Item key={'All'}>All</Menu.Item>\r\n      <Menu.SubMenu title=\"Status\">\r\n        <Menu.Item key={'AllStatus'}>All</Menu.Item>\r\n        <Menu.Item key={'ACTIVE'}>ACTIVE</Menu.Item>\r\n        <Menu.Item key={'INACTIVE'}>INACTIVE</Menu.Item>\r\n      </Menu.SubMenu>\r\n    </Menu>\r\n  );\r\n\r\n  const drawerHandler = () => {\r\n    setDrawerIsOpen((prevState) => !prevState);\r\n  };\r\n\r\n  const handleDrawerOk = () => {\r\n    setSelectedFilter((previousState) => !previousState)\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  const handleDrawerReset = () => {\r\n    setSelectedFilter((previousState) => !previousState)\r\n    setSelectedCustomerFilter(false)\r\n    setSelectedJobsiteFilter(false)\r\n    setSelectedTypeFilter(false)\r\n    setSelectedStatusFilter(false)\r\n\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  const onDrawerClose = () => {\r\n    console.log(\"Closed\")\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='d-flex justify-content-between'>\r\n        <PageHeading\r\n          // icon={UserManagementIcon}\r\n          title=\"Contracts\"\r\n        />\r\n        <div className=\"d-flex justify-content-between mb-3\">\r\n          <div className=\" d-flex align-items-center justify-content-between mr-2\">\r\n            <SearchBox setSearchText={setSearchText} />\r\n\r\n            <Button className=\"d-flex align-items-center ml-2\" onClick={drawerHandler}>\r\n              <Icon className=\"mr-2\" component={FilterIcon} />\r\n              Filters\r\n            </Button>\r\n\r\n            <CSVLink data={allContractsData} \r\n              headers={headers} \r\n              filename={\"All-Contracts.csv\"}\r\n            >\r\n              <Button className=\"d-flex align-items-center ml-2\" >\r\n                <img className=\"mr-2\" src={exportIcon} alt=\"exportIcon\"></img>Export\r\n              </Button>\r\n            </CSVLink>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <ContractTable setPage={setPage} searchText={searchText} statuses={statusFilter} \r\n        selectedCustomerFilter={selectedCustomerFilter} selectedJobsiteFilter={selectedJobsiteFilter} \r\n        selectedStatusFilter={selectedStatusFilter} \r\n        selectedFilter={selectedFilter} selectedTypeFilter={selectedTypeFilter} />\r\n      </div>\r\n      <div>\r\n      <Drawer title=\"Filter\"\r\n          placement=\"right\"\r\n          onClose={onDrawerClose} \r\n          open={drawerIsOpen}\r\n          closable={true}\r\n          // getContainer={false}\r\n          visible={drawerIsOpen}\r\n          footer={[\r\n            <Button key={'submit'} style={{ color: '#F5F5F5' }} type=\"primary\" className='font-weight-bold mr-2' onClick={handleDrawerOk}>Apply</Button>,\r\n            <Button key={'cancel'} style={{ color: '#000B23' }} onClick={() => {handleDrawerReset()}} className='font-weight-bold'>Reset</Button>,\r\n          ]}\r\n        >\r\n          <div className=\"mb-2\">\r\n            <h4>Customer</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Jobsite\"\r\n                // optionFilterProp=\"children\"\r\n                // filterOption={(input, option) => (option?.title ?? '').toString().toLowerCase()?.includes(input?.toLowerCase())}\r\n                // filterSort={(optionA, optionB) =>\r\n                //     (optionA?.label ?? '').toString().toLowerCase().localeCompare((optionB?.label ?? '').toString().toLowerCase())\r\n                // }\r\n                value={selectedCustomerFilter}\r\n                onChange={(e) => {setSelectedCustomerFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                {allCustomers && allCustomers.map((val, id) => (\r\n                    <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n                ))}\r\n            </Select>\r\n          </div>\r\n          <div className=\"mb-2\">\r\n            <h4>Jobsite</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Jobsite\"\r\n                value={selectedJobsiteFilter}\r\n                onChange={(e) => {setSelectedJobsiteFilter(e)}}\r\n                className=\"w-100\"\r\n            >    \r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                {allJobsites && allJobsites.map((val, id) => (\r\n                    <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n                ))}\r\n            </Select>\r\n          </div>\r\n          <div className='mb-2'>\r\n            <h4>Contract Type</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Status\"\r\n                value={selectedTypeFilter}\r\n                onChange={(e) => {setSelectedTypeFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                <Select.Option title={'Ad Hoc'} key={'Ad Hoc'} value={'Ad Hoc'}>{'Ad Hoc'}</Select.Option>\r\n                <Select.Option title={'Routine'} key={'Routine'} value={'Routine'}>{'Routine'}</Select.Option>\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <h4>Status</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Status\"\r\n                value={selectedStatusFilter}\r\n                onChange={(e) => {setSelectedStatusFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                <Select.Option title={'Active'} key={'Active'} value={'Active'}>{'Active'}</Select.Option>\r\n                <Select.Option title={'Expired'} key={'Expired'} value={'Expired'}>{'Expired'}</Select.Option>\r\n            </Select>\r\n          </div>\r\n        </Drawer>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Contracts","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"ViewContract_card__RTLeP\",\"add_details\":\"ViewContract_add_details__aA-FG\",\"total_amt\":\"ViewContract_total_amt__uvU8k\",\"tag\":\"ViewContract_tag__aMpHI\",\"send_btn\":\"ViewContract_send_btn__Bh0es\",\"action\":\"ViewContract_action__L69Es\"};","import { Button, DatePicker, Input, message, Table, TimePicker } from 'antd';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport React, { useState } from 'react'\r\n\r\nfunction Reminder({ reminder,contractData }) {\r\n\r\n    const [remindersData, setRemindersData] = useState(reminder);\r\n    const removeReminder = (record) => {\r\n        let newRemindersData = remindersData.filter((elem) => elem.sr_no !== record.sr_no);\r\n        setRemindersData(newRemindersData);\r\n    }\r\n    const handleAddReminder = () => {\r\n        setRemindersData([...remindersData, {\r\n            sr_no: remindersData.length + 1,\r\n            date: null,\r\n            title: '',\r\n            description: '',\r\n        }]);\r\n    };\r\n    const reminderColumns = [\r\n        {\r\n            title: 'Sr. No.',\r\n            dataIndex: 'sr_no',\r\n        },\r\n        {\r\n            title: 'Date',\r\n            dataIndex: 'date',\r\n            render: (_, record) => {\r\n                return (\r\n                    <div>\r\n                        <DatePicker value={record.date} className='w-100' onChange={(e) => {\r\n                            let data = remindersData\r\n                            let index = remindersData.findIndex((elem) => elem === record)\r\n                            data[index].date = e\r\n                            setRemindersData([...data])\r\n                        }} />\r\n                    </div>\r\n                );\r\n            },\r\n        },\r\n        {\r\n            title: 'Time',\r\n            dataIndex: 'time',\r\n            render: (_, record) => {\r\n                return (\r\n                    <div>\r\n                        <TimePicker value={record.time} className='w-100' format={'HH:mm A'} use12Hours={true} onChange={(e) => {\r\n                            let data = remindersData\r\n                            let index = remindersData.findIndex((elem) => elem === record)\r\n                            data[index].time = e;\r\n                            setRemindersData([...data])\r\n                        }} />\r\n                    </div>\r\n                );\r\n            },\r\n        },\r\n        {\r\n            title: 'Title',\r\n            dataIndex: 'title',\r\n            render: (_, record) => {\r\n                return (\r\n                    <div>\r\n                        <Input value={record.title} className='w-100' onChange={(e) => {\r\n                            let data = remindersData\r\n                            let index = remindersData.findIndex((elem) => elem === record)\r\n                            data[index].title = e.target.value\r\n                            setRemindersData([...data])\r\n                        }} />\r\n                    </div>\r\n                );\r\n            },\r\n        },\r\n        {\r\n            title: 'Content',\r\n            dataIndex: 'description',\r\n            render: (_, record) => {\r\n                return (\r\n                    <div>\r\n                        <Input value={record.description} className='w-100' onChange={(e) => {\r\n                            let data = remindersData\r\n                            let index = remindersData.findIndex((elem) => elem === record)\r\n                            data[index].description = e.target.value\r\n                            setRemindersData([...data])\r\n                        }} />\r\n                    </div>\r\n                );\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '',\r\n            key: 'x',\r\n            render: (_, record) => <Button type='danger' onClick={() => { removeReminder(record) }} className='font-weight-bold'>remove</Button>,\r\n        },\r\n    ];\r\n\r\n    const handleSaveReminder = () => {\r\n        for(let i=0; i<remindersData.length; i++){\r\n            if(remindersData[i].date === null || remindersData[i].time === null || remindersData[i].title === '' || remindersData[i].description === ''){\r\n               message.error('Please fill all the fields');\r\n                return;\r\n            }\r\n        }\r\n        updateStatus(contractData);\r\n    }\r\n\r\n\r\n    const updateStatus = (record) => {\r\n        // date: schema.date(),\r\n        // direct_to_pc: schema.string(),\r\n        // co_regn_no: schema.string(),\r\n        // contract_number: schema.string(),\r\n        // wbs_element: schema.string(),\r\n        // network_activity: schema.string(),\r\n        // officer_in_charge: schema.number(),\r\n        // tc_customer_id: schema.number(),\r\n        // tc_customer_job_site_id: schema.number.optional(),\r\n        // tc_contract_id: schema.number(),\r\n        // tc_quotation_id: schema.number.optional(),\r\n        // start_date: schema.date(),\r\n        // end_date: schema.date(),\r\n        // reminders: schema.array().members(schema.object().anyMembers()),\r\n        // status: schema.string.optional(),\r\n\r\n     \r\n        axios({\r\n          method: 'post',\r\n          url: \"/api/tc/update-work-order\",\r\n          data: {\r\n            id: record.id,\r\n            date:  moment(record.date).format('YYYY-MM-DD'),\r\n            direct_to_pc: record.direct_to_pc,\r\n            co_regn_no: record.co_regn_no,\r\n            contract_number: record.contract_number,\r\n            wbs_element: record.wbs_element,\r\n            network_activity: record.network_activity,\r\n            officer_in_charge: record.officer_in_charge,\r\n            tc_customer_id: record.tc_customer_id,\r\n            tc_customer_job_site_id: record.tc_customer_job_site_id,\r\n            tc_contract_id: record.tc_contract_id,\r\n            tc_quotation_id: record.tc_quotation_id,\r\n            // start_date: record.start_date,\r\n            // end_date: record.end_date,\r\n            start_date: moment(record.start_date).format('YYYY-MM-DD'),\r\n            end_date: moment(record.end_date).format('YYYY-MM-DD'),\r\n            reminders: remindersData,\r\n            status: record.status, \r\n            line_items: JSON.parse(record.line_items),\r\n\r\n          },\r\n    \r\n        }).then(function (response) {\r\n          if (response.data.success) {\r\n            message.success(\"Reminders Saved Successfully\")\r\n    \r\n        \r\n          } else {\r\n            message.error(response.data.msg)\r\n          }\r\n        }).catch(function (error) {\r\n          console.log(error);\r\n        });\r\n      }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h4 className=\"mb-2 mt-4\">Reminders</h4>\r\n                <Table columns={reminderColumns} dataSource={remindersData} />\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'flex-end',\r\n                    alignItems: 'center',\r\n                    width: '100%',\r\n                    marginTop: '10px',\r\n                }}>\r\n                    <Button type='primary' className='font-weight-bold mt-2' onClick={handleAddReminder}>Add Reminder</Button>\r\n                    <Button type='primary' className='font-weight-bold mt-2 ml-2'\r\n                        onClick={handleSaveReminder}\r\n                    >Save</Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Reminder","\r\nexport const ViewDetailsIcon = () =>(\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14787)\">\r\n<path d=\"M10.1667 5.66667C13.325 5.66667 16.1417 7.44167 17.5167 10.25C16.1417 13.0583 13.325 14.8333 10.1667 14.8333C7.00833 14.8333 4.19167 13.0583 2.81667 10.25C4.19167 7.44167 7.00833 5.66667 10.1667 5.66667ZM10.1667 4C6 4 2.44167 6.59167 1 10.25C2.44167 13.9083 6 16.5 10.1667 16.5C14.3333 16.5 17.8917 13.9083 19.3333 10.25C17.8917 6.59167 14.3333 4 10.1667 4ZM10.1667 8.16667C11.3167 8.16667 12.25 9.1 12.25 10.25C12.25 11.4 11.3167 12.3333 10.1667 12.3333C9.01667 12.3333 8.08333 11.4 8.08333 10.25C8.08333 9.1 9.01667 8.16667 10.1667 8.16667ZM10.1667 6.5C8.1 6.5 6.41667 8.18333 6.41667 10.25C6.41667 12.3167 8.1 14 10.1667 14C12.2333 14 13.9167 12.3167 13.9167 10.25C13.9167 8.18333 12.2333 6.5 10.1667 6.5Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14787\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const DeleteIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14792)\">\r\n<path d=\"M13.1667 8V16.3333H6.5V8H13.1667ZM11.9167 3H7.75L6.91667 3.83333H4V5.5H15.6667V3.83333H12.75L11.9167 3ZM14.8333 6.33333H4.83333V16.3333C4.83333 17.25 5.58333 18 6.5 18H13.1667C14.0833 18 14.8333 17.25 14.8333 16.3333V6.33333Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14792\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const SendQuotationIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14797)\">\r\n<path d=\"M11.2167 8.01667L11.9833 8.78333L4.43333 16.3333H3.66667V15.5667L11.2167 8.01667ZM14.2167 3C14.0083 3 13.7917 3.08333 13.6333 3.24167L12.1083 4.76667L15.2333 7.89167L16.7583 6.36667C17.0833 6.04167 17.0833 5.51667 16.7583 5.19167L14.8083 3.24167C14.6417 3.075 14.4333 3 14.2167 3ZM11.2167 5.65833L2 14.875V18H5.125L14.3417 8.78333L11.2167 5.65833Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14797\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const RecordPaymentsIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14802)\">\r\n<path d=\"M15.8334 11.6668V5.00016C15.8334 4.0835 15.0834 3.3335 14.1667 3.3335H2.50004C1.58337 3.3335 0.833374 4.0835 0.833374 5.00016V11.6668C0.833374 12.5835 1.58337 13.3335 2.50004 13.3335H14.1667C15.0834 13.3335 15.8334 12.5835 15.8334 11.6668ZM14.1667 11.6668H2.50004V5.00016H14.1667V11.6668ZM8.33337 5.8335C6.95004 5.8335 5.83337 6.95016 5.83337 8.3335C5.83337 9.71683 6.95004 10.8335 8.33337 10.8335C9.71671 10.8335 10.8334 9.71683 10.8334 8.3335C10.8334 6.95016 9.71671 5.8335 8.33337 5.8335ZM19.1667 5.8335V15.0002C19.1667 15.9168 18.4167 16.6668 17.5 16.6668H3.33337V15.0002H17.5V5.8335H19.1667Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14802\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const CreateContractIcon = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_886_17351)\">\r\n<path d=\"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V8H18V20H6ZM11 19H13V18H14C14.55 18 15 17.55 15 17V14C15 13.45 14.55 13 14 13H11V12H15V10H13V9H11V10H10C9.45 10 9 10.45 9 11V14C9 14.55 9.45 15 10 15H13V16H9V18H11V19Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_886_17351\">\r\n<rect width=\"24\" height=\"24\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)","import React from \"react\";\r\nimport { useHistory , useRouteMatch} from \"react-router-dom\";\r\n// import EllipsisDropdown from 'components/shared-components/EllipsisDropdown'\r\nimport Icon from \"@ant-design/icons\";\r\nimport EllipsisDropdown from \"components/shared-components/EllipsisDropdown/index\";\r\nimport { Menu, message } from \"antd\";\r\nimport { ViewDetailsIcon , CreateContractIcon, SendQuotationIcon } from \"./ActionIcons\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n\r\nconst Actions = ({contract_id,setOpenContractModal,record,getData,setQuoteData}) => {\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst viewContractHandler = () => {\r\n    // history.push(`${match.path}/view-work-order/${contract_id}`);\r\n    // /work-orders/view-service/\r\n    // history.push(`/app/contract-management/work-orders/view-work-order/${contract_id}`);\r\n    history.push(`/app/contract-management/work-orders/view-service/${contract_id}`);\r\n\t}\r\n  \r\n\tconst viewContractDetailsHandler = () => {\r\n    history.push(`${match.path}/view-contract-details/${contract_id}`);\r\n\t}\r\n  \r\n\tconst editContractHandler = () => {\r\n    // history.push(`${match.path}/edit-contract/${contract_id}`);\r\n    history.push(`${match.path}/view-contract-details/${contract_id}`);\r\n\t}\r\n  const createContractHandler = () => {\r\n    setOpenContractModal(true)\r\n    setQuoteData(record)\r\n\t}\r\n\r\n\r\n  return (\r\n    <EllipsisDropdown\r\n      menu={\r\n        <Menu>\r\n           {/* <Menu.Item onClick={createContractHandler} disabled={record.status==='Completed'}>\r\n              <span className=\"d-flex align-items-center\">\r\n                <Icon className=\"mr-2\" component={CreateContractIcon} /> Create Work Order\r\n              </span>\r\n            </Menu.Item> */}\r\n            {/* <Menu.Item  onClick={updateStatus} disabled={record.status==='Completed'}>\r\n              <span className=\"d-flex align-items-center\">\r\n                <Icon className=\"mr-2\" component={SendQuotationIcon} /> Mark as Complete \r\n              </span>\r\n            </Menu.Item> */}\r\n          {/* <Menu.Item onClick={editContractHandler}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={CreateContractIcon} />Edit Contract</span>\r\n          </Menu.Item> */}\r\n\r\n          {/* <Menu.Item onClick={viewContractDetailsHandler}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={CreateContractIcon} />View Contract Details</span>\r\n          </Menu.Item> */}\r\n          <Menu.Item onClick={viewContractHandler}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={ViewDetailsIcon} />\r\n              View Work Entry Sheet\r\n            </span>\r\n          </Menu.Item>\r\n       \r\n        </Menu>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default Actions;\r\n","import React , {useState, useEffect} from 'react'\r\n\r\nimport {Table , Button , Tag, Input, Modal, DatePicker, TimePicker, message} from 'antd';\r\nimport Avatar from 'assets/Avatar2.png'\r\nimport Actions from './Actions';\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n\r\n\r\n\r\nconst ContractTable = ({ setsetPage, searchText, workOrderId, statuses, selectedFilter, selectedCustomerFilter, id,selectedJobsiteFilter, selectedTypeFilter, selectedStatusFilter }) => {\r\n  const [selectedRowKeys , setSelectedRowKeys] = useState([]);\r\n  const [contractsData , setContractsData] = useState([]);\r\n  const [openContractModal, setOpenContractModal] = useState(false);\r\n  const [commencementDate, setCommencementDate] = useState(null);\r\n  const [quoteData, setQuoteData] = useState({});\r\n  const [expiryDate, setExpiryDate] = useState(null);\r\n  const [direct_to_pc, setDirect_to_pc] = useState('');\r\n  const [co_regn_no, setCo_regn_no] = useState('');\r\n  const [contract_number, setContract_number] = useState('');\r\n  const [wbs_element, setWbs_element] = useState('');\r\n  const [network_activity, setNetwork_activity] = useState('');\r\n  const [officer_in_charge, setOfficer_in_charge] = useState('');\r\n  \r\n  const [remindersData, setRemindersData] = useState([]);\r\n  const removeReminder =(record) => {\r\n    let newRemindersData = remindersData.filter((elem) => elem.sr_no !== record.sr_no);\r\n    setRemindersData(newRemindersData);\r\n  }\r\n\r\n\r\n  const selectChangeHandler = (newSelectedRowKeys) => {\r\n    setSelectedRowKeys(newSelectedRowKeys);\r\n  };\r\n  \r\n  const handleContractCancel = () => {\r\n    setOpenContractModal(false);\r\n  };\r\n\r\n  \r\nconst columns = [\r\n  {\r\n    title: ' Id',\r\n    dataIndex: 'id',\r\n  },\r\n  {\r\n    title: 'Customer Name',\r\n    dataIndex: 'customer_name',\r\n    // defaultSortOrder: 'descend',\r\n    // sorter: (a, b) => a.customerName - b.customerName,\r\n  },\r\n  {\r\n    title: 'Jobsite',\r\n    dataIndex: 'job_site_name',\r\n    \r\n  },\r\n  // {\r\n  //   title: 'Contract Type',\r\n  //   dataIndex: 'contract_type',\r\n    \r\n  // },\r\n  {\r\n    title: 'Target Completion Date',\r\n    dataIndex: 'target_completion_date',\r\n    render: (_,record) => {\r\n      return (\r\n        <span>\r\n          {record.target_completion_date ? moment(record.target_completion_date).format(\"DD-MM-YYYY\") : '-'}\r\n        </span>\r\n      );\r\n    } \r\n    \r\n  },\r\n  {\r\n    title: 'Actual Completion Date',\r\n    dataIndex: 'actual_completion_date',\r\n    render: (_,record) => {\r\n      return (\r\n        <span>\r\n          {record.actual_completion_date ? moment(record.actual_completion_date).format(\"DD-MM-YYYY\") : '-'}\r\n        </span>\r\n      );\r\n    } \r\n    \r\n  },\r\n  {\r\n    title: 'Status',\r\n    dataIndex: 'status',\r\n    render: (_,record) => {\r\n      const statusStyles = {\r\n        color: \"#00AB6F\",\r\n        backgroundColor: \"#EDFFF9\",\r\n        padding: \"4px 8px\",\r\n        borderRadius: \"6px\",\r\n        fontWeight: \"600\",\r\n        fontSize: \"14px\",\r\n      };\r\n      \r\n      return (\r\n        <span style={statusStyles} key={record.status}>\r\n          {record.status}\r\n        </span>\r\n      );\r\n    }\r\n  },\r\n  {\r\n    title: 'Action',\r\n    dataIndex: '',\r\n    key: 'x',\r\n    render: (_,record) => <Actions setQuoteData={setQuoteData} contract_id={record.id} record={record} setOpenContractModal={setOpenContractModal} getData={getData}/>,\r\n  },\r\n];\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: selectChangeHandler\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-service_entry_sheets\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 10,\r\n          ...id && {contract_id: +id},\r\n          ...workOrderId && {work_order_id: +workOrderId},\r\n          // statuses: [\"ACTIVE\", \"INACTIVE\"],\r\n          statuses: null,\r\n          search : searchText ? searchText : null,\r\n          customer_id: selectedCustomerFilter || null,\r\n          job_site_id: selectedJobsiteFilter || null,\r\n          status: selectedStatusFilter || null,\r\n          contract_type: selectedTypeFilter || null,\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            ...elem,\r\n            key: elem.id,\r\n            id: elem.id,\r\n            customer_name: elem.customer_name || elem.tc_customer_id,\r\n            jobsite_name: elem.jobsite_name || (elem.tc_customer_job_site_id || '-'),\r\n            contract_type: elem.type,\r\n            commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n            expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n            contract_type: elem.type,\r\n            status: elem.status,\r\n            start_date: elem.start_date,\r\n          };\r\n        });\r\n        setContractsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [searchText]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-service_entry_sheets\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 10,\r\n          ...id && {contract_id: +id},\r\n          ...workOrderId && {work_order_id: +workOrderId},\r\n          statuses: null,\r\n          search : searchText ? searchText : null,\r\n          customer_id: selectedCustomerFilter || null,\r\n          job_site_id: selectedJobsiteFilter || null,\r\n          status: selectedStatusFilter || null,\r\n          contract_type: selectedTypeFilter || null,\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            ...elem,\r\n            key: elem.id,\r\n            id: elem.id,\r\n            customer_name: elem.customer_name || elem.tc_customer_id,\r\n            jobsite_name: elem.jobsite_name || (elem.tc_customer_job_site_id || '-'),\r\n            contract_type: elem.type,\r\n            commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n            expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n            contract_type: elem.type,\r\n            status: elem.status,\r\n            start_date: elem.start_date,\r\n          };\r\n        });\r\n        setContractsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [selectedFilter]);\r\n\r\n  const getData = ()=>{\r\n    axios\r\n    .post(\r\n      \"/api/tc/get-service_entry_sheets\",\r\n      {\r\n        page_index: 1,\r\n        page_size: 10,\r\n        statuses: null,\r\n        ...id && {contract_id: +id},\r\n        ...workOrderId && {work_order_id: +workOrderId},\r\n        search : searchText ? searchText : null,\r\n        customer_id: selectedCustomerFilter || null,\r\n        job_site_id: selectedJobsiteFilter || null,\r\n        status: selectedStatusFilter || null,\r\n        contract_type: selectedTypeFilter || null,\r\n      },\r\n    )\r\n    .then((response) => {\r\n      let res = response.data.data.data;\r\n      console.log(res);\r\n\r\n      let fdata = res.map((elem, ind) => {\r\n        return {\r\n          ...elem,\r\n          key: elem.id,\r\n          id: elem.id,\r\n          customer_name: elem.customer_name || elem.tc_customer_id,\r\n          jobsite_name: elem.jobsite_name || (elem.tc_customer_job_site_id || '-'),\r\n          contract_type: elem.type,\r\n          commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n          expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n          contract_type: elem.type,\r\n          status: elem.status,\r\n          start_date: elem.start_date,\r\n        };\r\n      });\r\n      setContractsData(fdata);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  const commencementDateChange = (date) => {\r\n    // contractData.date_of_commencement = date;\r\n    // let newContractData = contractData;\r\n    // newContractData.date_of_commencement = date;\r\n    // console.log(newContractData);\r\n\r\n    setCommencementDate(date);\r\n  }\r\n\r\n  const expiryDateChange = (date) => {\r\n    setExpiryDate(date);\r\n  }\r\n\r\n  const handleAddReminder = () => {\r\n    setRemindersData([...remindersData, {\r\n      sr_no: remindersData.length + 1,\r\n      date: null,\r\n      title: '',\r\n      description: '',\r\n    }]);\r\n  };\r\n  const reminderColumns = [\r\n    {\r\n      title: 'Sr. No.',\r\n      dataIndex: 'sr_no',\r\n    },\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'date',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <DatePicker value={record.date} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].date = e\r\n              setRemindersData([...data])\r\n            }}/>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Time',\r\n      dataIndex: 'time',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <TimePicker value={record.time} className='w-100' format={'HH:mm A'} use12Hours={true} onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].time = e;\r\n              setRemindersData([...data])\r\n            }}/>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Title',\r\n      dataIndex: 'title',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <Input value={record.title} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].title = e.target.value\r\n              setRemindersData([...data])\r\n            }}/>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Content',\r\n      dataIndex: 'description',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <Input value={record.description} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].description = e.target.value\r\n              setRemindersData([...data])\r\n            }}/>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '',\r\n      key: 'x',\r\n      render: (_,record) => <Button type='danger' onClick={() => {removeReminder(record)}} className='font-weight-bold'>remove</Button>,\r\n    },\r\n  ];\r\n\r\n  \r\n\r\n\r\n\r\n  \r\n  return (\r\n    <div>\r\n      <Table columns={columns} dataSource={contractsData} />\r\n     \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ContractTable","import { Button, Dropdown, Menu, Space, Select, Drawer } from 'antd'\r\nimport React, { useState, useEffect } from 'react'\r\nimport SearchBox from 'components/shared-components/SearchBox';\r\nimport axios from 'axios';\r\nimport exportIcon from \"assets/svg/exportIcon.svg\";\r\nimport PageHeading from 'components/shared-components/PageHeading/PageHeading';\r\nimport Icon from \"@ant-design/icons\"\r\nimport { FilterIcon, ItemsAndServicesIcon } from \"assets/svg/icon\";\r\nimport ContractTable from './ContractTable';\r\nimport { CSVLink } from \"react-csv\";\r\nimport moment from \"moment\";\r\n\r\n// import { Link } from 'react-router-dom';\r\n// import plusIcon from \"assets/svg/plus.svg\";\r\n// import UserManagementIcon from \"assets/svg/usermManagementPage.svg\";\r\n// import filterIcon from \"assets/svg/filterIcon.svg\";\r\n// import Filter from 'views/app-views/UserManagement/UserList/Filter';\r\n\r\n\r\nfunction Service({id, workOrderId}) {\r\n\r\n  const [searchText, setSearchText] = useState('')\r\n  const [setPage, setsetPage] = useState(1)\r\n  const [statusFilter, setStatusFilter] = useState([])\r\n  const [allServiceEntryData, setAllServiceEntryData] = useState([])\r\n  const [current, setCurrent] = useState(['All'])\r\n\r\n  const [allJobsites , setAllJobsites] = useState(false);\r\n  const [allCustomers , setAllCustomers] = useState(false);\r\n  const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n  const [selectedCustomerFilter , setSelectedCustomerFilter] = useState(false);\r\n  const [selectedJobsiteFilter , setSelectedJobsiteFilter] = useState(false);\r\n  const [selectedTypeFilter , setSelectedTypeFilter] = useState(false);\r\n  const [selectedStatusFilter , setSelectedStatusFilter] = useState(false);\r\n  const [selectedFilter , setSelectedFilter] = useState(false);\r\n  const tok = localStorage.getItem('token')\r\n\r\n  const headers = [\r\n    { label: \"Sr. No\", key: \"sr_no\" },\r\n    { label: \"ID\", key: \"id\" },\r\n    { label: \"Customer Name\", key: \"customer_name\" },\r\n    { label: \"Jobsite\", key: \"jobsite_name\" },\r\n    { label: \"Target Completion Date\", key: \"target_completion_date\" },\r\n    { label: \"Actual Completion Date\", key: \"actual_completion_date\" },\r\n    { label: \"Status\", key: \"status\" }\r\n  ];\r\n\r\n  // const handleClick = () => {}\r\n\r\n  const handleFilterClick = (e) => {\r\n    setCurrent([e.key])\r\n    if(e.key === 'ACTIVE') {\r\n      setStatusFilter(['ACTIVE'])\r\n    }else if(e.key === 'INACTIVE') {\r\n      setStatusFilter(['INACTIVE'])\r\n    } else {\r\n      setStatusFilter([])\r\n    }\r\n  }\r\n\r\n  const getAllJobsites = () => {\r\n    axios({\r\n      method: 'post',\r\n      url: \"/api/tc/get-customer-job-sites\",\r\n      data: {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        customer_id: null,\r\n        search : null\r\n      }\r\n    }).then((response) => {\r\n        if (response.data.success) {\r\n          setAllJobsites(response.data.data.data)\r\n        }\r\n        console.log(\"Job sites data fetched\")\r\n        console.log(response.data.data.data)\r\n    }).catch((err) => {\r\n        console.log(err)\r\n    });\r\n  };\r\n  \r\n  const getAllCustomers = () => {\r\n    axios({\r\n      method: 'post',\r\n      url: \"/api/tc/get-customers\",\r\n      data: {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        customer_id: null,\r\n        search : null\r\n      }\r\n    }).then((response) => {\r\n        if (response.data.success) {\r\n          setAllCustomers(response.data.data.data)\r\n        }\r\n        console.log(\"Customers data fetched\")\r\n        console.log(response.data.data.data)\r\n    }).catch((err) => {\r\n        console.log(err)\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n    .post(\r\n      \"/api/tc/get-service_entry_sheets\",\r\n      {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        search : null,\r\n        ...id && {contract_id: +id},\r\n        ...workOrderId && {work_order_id: +workOrderId}\r\n      },\r\n    )\r\n    .then((response) => {\r\n      let res = response.data.data.data;\r\n\r\n      let fdata = res.map((elem, index) => {\r\n        return {\r\n          sr_no: index+1,\r\n          key: elem.id,\r\n          id: elem.id,\r\n          customer_name: elem.customer_name || elem.tc_customer_id,\r\n          jobsite_name: elem.job_site_name || (elem.tc_customer_job_site_id || '-'),\r\n          target_completion_date: elem.target_completion_date ? moment(new Date(elem.target_completion_date)).format('DD-MM-YYYY'):'',\r\n          actual_completion_date: elem.actual_completion_date ? moment(new Date(elem.actual_completion_date)).format('DD-MM-YYYY'):'',\r\n          status: elem.status,\r\n        };\r\n      });\r\n\r\n      setAllServiceEntryData(fdata);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n\r\n    getAllCustomers();\r\n    getAllJobsites();\r\n  }, []);\r\n\r\n  const menuFilter = (\r\n    <Menu onClick={handleFilterClick} selectedKeys={current}>\r\n      <Menu.Item key={'All'}>All</Menu.Item>\r\n      <Menu.SubMenu title=\"Status\">\r\n        <Menu.Item key={'AllStatus'}>All</Menu.Item>\r\n        <Menu.Item key={'ACTIVE'}>ACTIVE</Menu.Item>\r\n        <Menu.Item key={'INACTIVE'}>INACTIVE</Menu.Item>\r\n      </Menu.SubMenu>\r\n    </Menu>\r\n  );\r\n\r\n  const drawerHandler = () => {\r\n    setDrawerIsOpen((prevState) => {\r\n      console.log(\"Drawer \" + (!prevState ? 'Open':'Closed'));\r\n\r\n      return !prevState\r\n    });\r\n  };\r\n\r\n  const handleDrawerOk = () => {\r\n    setSelectedFilter((previousState) => !previousState)\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  const handleDrawerReset = () => {\r\n    setSelectedFilter((previousState) => !previousState)\r\n    setSelectedCustomerFilter(false)\r\n    setSelectedJobsiteFilter(false)\r\n    setSelectedTypeFilter(false)\r\n    setSelectedStatusFilter(false)\r\n\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  const onDrawerClose = () => {\r\n    console.log(\"Closed\")\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='d-flex justify-content-between'>\r\n        <PageHeading\r\n          // icon={UserManagementIcon}\r\n          title=\"Service Entry Sheets\"\r\n        />\r\n        <div className=\"d-flex justify-content-between mb-3\">\r\n          <div className=\" d-flex align-items-center justify-content-between mr-2\">\r\n            <SearchBox setSearchText={setSearchText} />\r\n\r\n            {/* {\r\n              !id &&  <Button className=\"d-flex align-items-center ml-2\" onClick={drawerHandler}>\r\n              <Icon className=\"mr-2\" component={FilterIcon} />\r\n              Filters\r\n            </Button>\r\n            } */}\r\n\r\n            <CSVLink data={allServiceEntryData} \r\n              headers={headers} \r\n              filename={\"All-Service-Entries.csv\"}\r\n            >\r\n              <Button className=\"d-flex align-items-center ml-2\" >\r\n                <img className=\"mr-2\" src={exportIcon} alt=\"exportIcon\"></img>Export\r\n              </Button>\r\n            </CSVLink>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <ContractTable workOrderId={workOrderId} setsetPage={setsetPage} searchText={searchText} statuses={statusFilter} \r\n        selectedCustomerFilter={selectedCustomerFilter} selectedJobsiteFilter={selectedJobsiteFilter} \r\n        selectedStatusFilter={selectedStatusFilter} \r\n        selectedFilter={selectedFilter} selectedTypeFilter={selectedTypeFilter} id={id}/>\r\n      </div>\r\n      <div>\r\n      <Drawer title=\"Filter\"\r\n          placement=\"right\"\r\n          onClose={onDrawerClose} \r\n          open={drawerIsOpen}\r\n          closable={true}\r\n          // getContainer={false}\r\n          visible={drawerIsOpen}\r\n          footer={[\r\n            <Button key={'submit'} style={{ color: '#F5F5F5' }} type=\"primary\" className='font-weight-bold mr-2' onClick={handleDrawerOk}>Apply</Button>,\r\n            <Button key={'cancel'} style={{ color: '#000B23' }} onClick={() => {handleDrawerReset()}} className='font-weight-bold'>Reset</Button>,\r\n          ]}\r\n        >\r\n          <div className=\"mb-2\">\r\n            <h4>Customer</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Jobsite\"\r\n                // optionFilterProp=\"children\"\r\n                // filterOption={(input, option) => (option?.title ?? '').toString().toLowerCase()?.includes(input?.toLowerCase())}\r\n                // filterSort={(optionA, optionB) =>\r\n                //     (optionA?.label ?? '').toString().toLowerCase().localeCompare((optionB?.label ?? '').toString().toLowerCase())\r\n                // }\r\n                value={selectedCustomerFilter}\r\n                onChange={(e) => {setSelectedCustomerFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                {allCustomers && allCustomers.map((val, id) => (\r\n                    <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n                ))}\r\n            </Select>\r\n          </div>\r\n          <div className=\"mb-2\">\r\n            <h4>Jobsite</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Jobsite\"\r\n                value={selectedJobsiteFilter}\r\n                onChange={(e) => {setSelectedJobsiteFilter(e)}}\r\n                className=\"w-100\"\r\n            >    \r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                {allJobsites && allJobsites.map((val, id) => (\r\n                    <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n                ))}\r\n            </Select>\r\n          </div>\r\n          {/* <div className='mb-2'>\r\n            <h4>Contract Type</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Status\"\r\n                value={selectedTypeFilter}\r\n                onChange={(e) => {setSelectedTypeFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                <Select.Option title={'Ad Hoc'} key={'Ad Hoc'} value={'Ad Hoc'}>{'Ad Hoc'}</Select.Option>\r\n                <Select.Option title={'Routine'} key={'Routine'} value={'Routine'}>{'Routine'}</Select.Option>\r\n            </Select>\r\n          </div> */}\r\n          {/* <div>\r\n            <h4>Status</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Status\"\r\n                value={selectedStatusFilter}\r\n                onChange={(e) => {setSelectedStatusFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                <Select.Option title={'Active'} key={'Active'} value={'Active'}>{'Active'}</Select.Option>\r\n                <Select.Option title={'Expired'} key={'Expired'} value={'Expired'}>{'Expired'}</Select.Option>\r\n            </Select>\r\n          </div> */}\r\n        </Drawer>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Service","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport {\r\n    Card,\r\n    Typography,\r\n    Col,\r\n    Row,\r\n    List,\r\n    Divider,\r\n    Tag,\r\n    Button,\r\n    Select,\r\n    Table,\r\n    DatePicker,\r\n    Modal,\r\n    Input,\r\n    message,\r\n    Tabs\r\n} from \"antd\";\r\nimport Icon from \"@ant-design/icons\";\r\nimport PageHeading from \"components/shared-components/PageHeading/PageHeading\";\r\n\r\nimport logo from \"assets/grand-energy-logo-small.png\";\r\nimport { ItemsAndServicesPageIcon } from \"assets/svg/icon\";\r\nimport HandBagImg from \"assets/HandBag.png\";\r\nimport SneakersImg from \"assets/Sneakers.png\";\r\nimport { PdfIcon } from \"../../../ItemsAndServices/svgIcons\";\r\nimport generatePDF, { Margin } from 'react-to-pdf';\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n// import Modal from \"components/UI/Modal\";\r\n// import { Link } from \"react-router-dom\";\r\n// import logo from \"assets/grand-energy-logo.png\";\r\n// import { SendIcon } from \"assets/svg/icon\";\r\n\r\nimport classes from \"./ViewContract.module.css\";\r\nimport Reminder from \"../ContractView/Reminder\";\r\nimport Service from \"../../ServiceTimeSheet/WorkOrder\";\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst options = {\r\n    page: {\r\n        margin: Margin.SMALL,\r\n    }\r\n};\r\n\r\nconst ViewContract = () => {\r\n    const targetRef = useRef();\r\n    const history = useHistory();\r\n    const param = useParams();\r\n    const [reminder, setReminder] = useState([]);\r\n    const [customerData, setCustomerData] = useState({\r\n        customerId: 0,\r\n        email: '',\r\n        name: '',\r\n        phone: '',\r\n        status: '',\r\n        profile_pic: '',\r\n        contact_name: '',\r\n        office_contact_number: '',\r\n        uen_number: '',\r\n        postal_code: '',\r\n        block_number: '',\r\n        level_number: '',\r\n        unit_number: '',\r\n        street_number: '',\r\n        country: '',\r\n        created_by: '',\r\n        other_details: {}\r\n    });\r\n    const [quoteData, setQuoteData] = useState({\r\n        id: 0,\r\n        customer_id: '',\r\n        jobsite_id: '',\r\n        customerName: '',\r\n        jobsite: '',\r\n        inquiryDate: '',\r\n        quotationDate: '',\r\n        amount: '',\r\n        status: '',\r\n\r\n        tc_customer_id: '',\r\n        task_period_from_date: '',\r\n        task_period_to_date: '',\r\n        due_date: '',\r\n        sub_total: 0,\r\n        tax: 8,\r\n        discount: 0,\r\n        total: 0,\r\n        tc_quotation_file: '',\r\n        quotation_remarks: '',\r\n        line_items: [],\r\n    });\r\n    const [lineItem, setLineItem] = useState([]);\r\n    const [rawContractData, setRawContractData] = useState({});\r\n    const [contractData, setContractData] = useState({\r\n        id: 0,\r\n        customer_id: '',\r\n        jobsite_id: '',\r\n        customerName: '',\r\n        jobsite: '',\r\n        start_date: '',\r\n        end_date: '',\r\n    });\r\n    const [gstData, setGstData] = useState([]);\r\n    // const [openContractModal , setOpenContractModal] = useState(false);\r\n    // const [commencementDate , setCommencementDate] = useState(false);\r\n    // const [expiryDate , setExpiryDate] = useState(false);\r\n    // const [remindersData , setRemindersData] = useState([]);\r\n    // const [contractType , setContractType] = useState(false);\r\n    const [grandTotal, setGrandTotal] = useState([\r\n        //   { text: \"Grand Total\", amt: \"0\" }\r\n    ]);\r\n    const [dataGrandTotal, setDataGrandTotal] = useState([\r\n        //   { text: \"Subtotal\", amt: \"0\" },\r\n        //   { text: \"GST\", amt: \"0\", tag: { text: \"0%\", color: \"#0099A8\" } },\r\n    ]);\r\n\r\n    const getContractData = () => {\r\n        axios\r\n            .post(\r\n                \"/api/tc/get-work-order\",\r\n                {\r\n                    id: +param.id,\r\n                },\r\n            )\r\n            .then((response) => {\r\n                let res = response.data.data;\r\n                setRawContractData(res);\r\n                setContractData({\r\n                    id: res?.id,\r\n                    customer_id: res?.tc_customer_id,\r\n                    jobsite_id: res?.tc_customer_job_site_id,\r\n                    quotation_id: res?.tc_quotation_id,\r\n                    customerName: res?.customer_name,\r\n                    jobsite: res?.job_site_name,\r\n                    start_date: res?.start_date,\r\n                    end_date: res?.end_date,\r\n                    direct_to_pc: res?.direct_to_pc,\r\n                    co_regn_no: res?.co_regn_no,\r\n                    contract_number: res?.contract_number,\r\n                    wbs_element: res?.wbs_element,\r\n                    network_activity: res?.network_activity,\r\n                    officer_in_charge: res?.officer_in_charge_name,\r\n                    // status: res?.status || 'Quote Sent',\r\n                    created_at: moment(res.created_at).format('DD-MM-YYYY hh:mm A')\r\n                })\r\n                setReminder(res?.reminders ? JSON.parse(res?.reminders).map((item)=>{\r\n                    return {\r\n                        sr_no: item.sr_no,\r\n                        date: moment(item.date),\r\n                        time: moment(item.time),\r\n                        title: item.title,\r\n                        description: item.description,\r\n                    }\r\n                }) : [])\r\n                setLineItem(res?.line_items ? JSON.parse(res?.line_items) : [])\r\n                let gst_percentage = 9;\r\n                const sub_total = res.line_items ? JSON.parse(res?.line_items).reduce((acc, item) => acc + item.total, 0) : 0;\r\n                const gst_amount = (gst_percentage / 100) * sub_total || 0;\r\n                // const total_amount = sub_total + gst_amount;\r\n                let total_amount = 0;\r\n                // let subtotal_amount = res.sub_total || res.total;\r\n                // let total_amount = res.total;\r\n                // let gst_amount = (+gst_percentage/100)*subtotal_amount || 0;\r\n                if (gst_amount) {\r\n                    total_amount = sub_total + gst_amount;\r\n                }\r\n\r\n\r\n                setDataGrandTotal([\r\n                    { text: \"Subtotal\", amt: `${sub_total || 0}` },\r\n                    { text: \"GST\", amt: `${gst_amount.toFixed(2) || 0}`, tag: { text: (gst_percentage || 0) + `%`, color: \"#0099A8\" } },\r\n                ]);\r\n                setGrandTotal([\r\n                    { text: \"Grand Total\", amt: (total_amount).toFixed(2) }\r\n                ])\r\n\r\n\r\n                // if(res.total) {\r\n                //     setDataGrandTotal([\r\n                //         { text: \"Subtotal\", amt: `${subtotal_amount || 0}` },\r\n                //         { text: \"GST\", amt: `${gst_amount.toFixed(2) || 0}`, tag: { text: (gst_percentage || 0)+`%`, color: \"#0099A8\" } },\r\n                //     ]);\r\n                //     setGrandTotal([\r\n                //         { text: \"Grand Total\", amt: (total_amount).toFixed(2) }\r\n                //     ])\r\n                // }\r\n                console.log(contractData);\r\n                getQuotationData(res.tc_quotation_id)\r\n\r\n                if (res.tc_customer_id) getCustomerData(res.tc_customer_id);\r\n                // getAllGst(res.total);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const getQuotationData = (q_id) => {\r\n        axios\r\n            .post(\r\n                \"/api/tc/get-quotation\",\r\n                {\r\n                    id: +q_id,\r\n                },\r\n            )\r\n            .then((response) => {\r\n                let res = response.data.data;\r\n\r\n                setQuoteData({\r\n                    id: res?.id,\r\n                    customer_id: res?.tc_customer_id,\r\n                    jobsite_id: res?.tc_customer_job_site_id,\r\n                    customerName: res?.customer_name,\r\n                    jobsite: res?.jobsite_name,\r\n                    inquiryDate: res?.inquiry_date ? moment(res?.inquiry_date).format('DD-MM-YYYY HH:mm A') : '',\r\n                    quotationDate: moment(res?.task_period_from_date).format('DD-MM-YYYY'),\r\n                    amount: res?.total,\r\n                    status: res?.status || 'Quote Sent',\r\n\r\n                    tc_customer_id: res?.tc_customer_id,\r\n                    task_period_from_date: moment(res?.task_period_from_date),\r\n                    task_period_to_date: moment(res?.task_period_to_date),\r\n                    due_date: moment(res?.due_date).format('DD-MM-YYYY'),\r\n                    sub_total: res?.sub_total || 0,\r\n                    tax: res?.gst || 8,\r\n                    discount: res?.discount || 0,\r\n                    total: res?.total,\r\n                    tc_quotation_file: res?.tc_quotation_file,\r\n                    quotation_remarks: res?.quotation_remarks || '',\r\n                    line_items: res?.line_items || [],\r\n                })\r\n                console.log(quoteData);\r\n\r\n                if (res.tc_customer_id) getCustomerData(res.tc_customer_id);\r\n\r\n                // getAllGst(res.total);\r\n                // let subtotal_amount = res.sub_total || res.total;\r\n                // let total_amount = res.total;\r\n                // let gst_percentage = res?.tax;\r\n                // let gst_amount = (+gst_percentage/100)*subtotal_amount || 0;\r\n                // if(gst_amount) {\r\n                //     total_amount = subtotal_amount + gst_amount;\r\n                // }\r\n\r\n                // if(res.total) {\r\n                //     setDataGrandTotal([\r\n                //         { text: \"Subtotal\", amt: `${subtotal_amount || 0}` },\r\n                //         { text: \"GST\", amt: `${gst_amount.toFixed(2) || 0}`, tag: { text: (gst_percentage || 0)+`%`, color: \"#0099A8\" } },\r\n                //     ]);\r\n                //     setGrandTotal([\r\n                //         { text: \"Grand Total\", amt: (total_amount).toFixed(2) }\r\n                //     ])\r\n                // }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const getCustomerData = (cust_id) => {\r\n        axios\r\n            .post(\r\n                \"/api/tc/get-customer\",\r\n                {\r\n                    id: cust_id,\r\n                },\r\n            )\r\n            .then((response) => {\r\n                let res = response.data.data;\r\n\r\n                if (res.other_details) {\r\n                    let other_details = JSON.parse(res.other_details);\r\n                    res = { ...res, ...other_details }\r\n                }\r\n                setCustomerData({\r\n                    customerId: res.id,\r\n                    email: res.email,\r\n                    name: res.name,\r\n                    phone: res.phone,\r\n                    status: res.status,\r\n                    profile_pic: res?.profile_pic,\r\n                    contact_name: res?.contact_name,\r\n                    office_contact_number: res?.office_contact_number,\r\n                    uen_number: res?.uen_number,\r\n                    postal_code: res?.postal_code || '000000',\r\n                    block_number: res?.block_number || '',\r\n                    level_number: res?.level_number || '',\r\n                    unit_number: res?.unit_number || '',\r\n                    street_number: res?.street_number || '',\r\n                    country: res?.country || 'Singapore',\r\n                    created_by: res?.created_by || '',\r\n                    other_details: res?.other_details,\r\n                })\r\n                console.log(customerData)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    // const getAllGst = (total)=> {\r\n    //     axios({\r\n    //         method: 'post',\r\n    //         url: \"/api/tc/get-all-gsts\",\r\n    //         data: {},\r\n    //     }).then(function (response) {\r\n    //         if(response.data.success) {\r\n    //             console.log(response.data.data)\r\n    //             let res = response.data.data.data;\r\n    //             let fdata = res.map((elem, ind) => {\r\n    //               return {\r\n    //                   key: elem.id,\r\n    //                   id: elem.id,\r\n    //                   srNo: ind+1,\r\n    //                   percentage: elem.percentage,\r\n    //                   description: elem.description,\r\n    //                   created_at: moment(elem.created_at).format(\"DD-MM-YYYY\"),\r\n    //                   updated_at: moment(elem.updated_at).format(\"DD-MM-YYYY\"),\r\n    //               };\r\n    //             });\r\n    //             setGstData(fdata);\r\n    //             console.log(fdata)\r\n    //             let gst_percentage = fdata[fdata.length-1].percentage || 0;\r\n    //             let gst_amount = ((gst_percentage/100)*total);\r\n    //             let total_amount = total + (gst_amount || 0)\r\n\r\n    //             if(total) {\r\n    //               setDataGrandTotal([\r\n    //                 { text: \"Subtotal\", amt: `${total || 0}` },\r\n    //                 { text: \"GST\", amt: `${gst_amount.toFixed(2) || 0}`, tag: { text: `${gst_percentage || 9}%`, color: \"#0099A8\" } },\r\n    //               ]);\r\n    //               setGrandTotal([\r\n    //                 { text: \"Grand Total\", amt: (total_amount || 0).toFixed(2) }\r\n    //               ])\r\n    //             }\r\n    //         }\r\n    //     }).catch(function (error) {\r\n    //         console.log(error);\r\n    //     });\r\n    // };\r\n\r\n    useEffect(() => {\r\n        getContractData();\r\n    }, []);\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <PageHeading\r\n                svg={ItemsAndServicesPageIcon}\r\n                title=\"Contracts / View Work Order\"\r\n            />\r\n            <Tabs>\r\n                <Tabs.TabPane tab=\"Work Order \" key=\"1\">\r\n                    <>\r\n                        <Card className=\"quotation-card\">\r\n                            <div ref={targetRef}>\r\n                                <Card className={classes.add_details}>\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <div>\r\n                                            <Text strong>{customerData.name}</Text>\r\n                                            <br />\r\n                                            <Text>{`${customerData.block_number} ${customerData.street_number}, ${customerData.level_number}, ${customerData.unit_number}`}</Text>\r\n                                            <br />\r\n                                            <Text>{`${customerData.country}, ${customerData.postal_code}`}</Text>\r\n                                            <br />\r\n                                            <Text strong>Customer ID: </Text><Text>{customerData.customerId}</Text>\r\n                                            <br />\r\n                                            <Text strong>Tel Number: </Text><Text>{customerData.phone}</Text>\r\n                                            <br />\r\n                                            <Text strong>Jobsite: </Text><Text>{contractData.jobsite}</Text>\r\n                                        </div>\r\n                                        <div className=\"text-left pr-4\">\r\n                                            <div style={{ fontSize: '1.5rem', fontWeight: '700' }} >WORK ORDER</div>\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <div className=\"mr-3\">\r\n                                                    <Text strong>Work Order No: </Text>\r\n                                                    <br />\r\n                                                    <Text strong>Date Of Commencement: </Text>\r\n                                                    <br />\r\n                                                    <Text strong>Date Of Expire: </Text>\r\n                                                    <br />\r\n                                                    <Text strong>Direct To Pc</Text>\r\n                                                    <br />\r\n                                                    <Text strong>Co Regn No</Text>\r\n                                                    <br />\r\n                                                    <Text strong>Contract Number</Text>\r\n                                                    <br />\r\n                                                    <Text strong>Wbs Element</Text>\r\n                                                    <br />\r\n                                                    <Text strong>Network Activity</Text>\r\n                                                    <br />\r\n                                                    <Text strong>Officer In Charge</Text>\r\n                                                    <br />\r\n\r\n\r\n                                                </div>\r\n                                                <div>\r\n                                                    <Text>#{contractData.id}</Text>\r\n                                                    <br />\r\n                                                    <Text>{contractData.start_date}</Text>\r\n                                                    <br />\r\n                                                    <Text>{contractData.end_date}</Text>\r\n                                                    <br />\r\n                                                    <Text>{contractData.direct_to_pc}</Text>\r\n                                                    <br />\r\n                                                    <Text>{contractData.co_regn_no}</Text>\r\n                                                    <br />\r\n                                                    <Text>{contractData.contract_number}</Text>\r\n                                                    <br />\r\n                                                    <Text>{contractData.wbs_element}</Text>\r\n                                                    <br />\r\n                                                    <Text>{contractData.network_activity}</Text>\r\n                                                    <br />\r\n                                                    <Text>{contractData.officer_in_charge}</Text>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </Card>\r\n\r\n                                <div>\r\n                                    <Row>\r\n                                        <Col span={3}>\r\n                                            <Title level={4}>Sr. No.</Title>\r\n                                            <List\r\n                                                // dataSource={dataItems}\r\n                                                dataSource={lineItem}\r\n                                                renderItem={(item, index) => (\r\n                                                    <List.Item key={item.name} className=\" pl-0 border-0\">\r\n                                                        {index + 1}\r\n                                                    </List.Item>\r\n                                                )}\r\n                                            />\r\n                                        </Col>\r\n                                        <Col span={21}>\r\n                                            <Row>\r\n                                                <Col span={8}>\r\n                                                    <Title level={4}>Description</Title>\r\n                                                    <List\r\n                                                        // dataSource={dataServices}\r\n                                                        dataSource={lineItem}\r\n                                                        renderItem={(item) => (\r\n                                                            <List.Item key={item.name} className=\"pl-0 border-0\">\r\n                                                                <div\r\n                                                                    style={{ height: \"32px\" }}\r\n                                                                    className=\"d-flex align-items-center\"\r\n                                                                >\r\n                                                                    {item.name}\r\n                                                                </div>\r\n                                                            </List.Item>\r\n                                                        )}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col span={5}>\r\n                                                    <Title level={4}> Qty</Title>\r\n                                                    <List\r\n                                                        // dataSource={dataQty}\r\n                                                        dataSource={lineItem}\r\n                                                        renderItem={(item) => (\r\n                                                            <List.Item key={item.quantity} className=\"border-0\">\r\n                                                                <div\r\n                                                                    style={{ height: \"32px\" }}\r\n                                                                    className=\"d-flex align-items-center\"\r\n                                                                >\r\n                                                                    {item.quantity}\r\n                                                                </div>\r\n                                                            </List.Item>\r\n                                                        )}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col span={5}>\r\n                                                    <Title level={4}>Unit </Title>\r\n                                                    <List\r\n                                                        // dataSource={dataPrice}\r\n                                                        dataSource={lineItem}\r\n                                                        renderItem={(item) => (\r\n                                                            <List.Item key={item.price} className=\"pl-0 border-0\">\r\n                                                                <div\r\n                                                                    style={{ height: \"32px\" }}\r\n                                                                    className=\"d-flex align-items-center\"\r\n                                                                >\r\n                                                                    {item.price}\r\n                                                                </div>\r\n                                                            </List.Item>\r\n                                                        )}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col span={6}>\r\n                                                    <Title level={4}>SUBTOTAL(S$)</Title>\r\n                                                    <List\r\n                                                        // dataSource={dataTotal}\r\n                                                        dataSource={lineItem}\r\n                                                        renderItem={(item) => (\r\n                                                            <List.Item key={item.total} className=\"pl-0 border-0\">\r\n                                                                <div\r\n                                                                    style={{ height: \"32px\" }}\r\n                                                                    className=\"d-flex align-items-center\"\r\n                                                                >\r\n                                                                    {item.total}\r\n                                                                </div>\r\n                                                            </List.Item>\r\n                                                        )}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </div>\r\n                                <Divider />\r\n                                <div className=\"d-flex justify-content-end\">\r\n                                    <Row\r\n                                        style={{ width: \"40%\" }}\r\n                                        className=\"d-flex justify-content-center\"\r\n                                    >\r\n                                        <Col span={12}>\r\n                                            <List\r\n                                                dataSource={dataGrandTotal}\r\n                                                renderItem={(item) => (\r\n                                                    <List.Item\r\n                                                        key={item.text}\r\n                                                        className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                                                    >\r\n                                                        <div className=\"d-flex align-items-center \">\r\n                                                            <Text strong>{item.text}</Text>\r\n                                                            {item.tag && (\r\n                                                                <div className={`${classes.total_amt} align-items-center`}>\r\n                                                                    {/* <Tag\r\n                                      color={item.tag.color}\r\n                                      className={`h-100 w-100 ${classes.tag}`}\r\n                                      style={{borderRadius: '1.5px', paddingTop: '1px'}}\r\n                                      >\r\n                                      {item.tag.text}\r\n                                      </Tag> */}\r\n                                                                    <span style={{ background: (item.tag.color), padding: '1.5px 4px' }}\r\n                                                                        className=\"ml-2 \"\r\n                                                                    >{item.tag.text}</span>\r\n                                                                </div>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    </List.Item>\r\n                                                )}\r\n                                            />\r\n                                        </Col>\r\n                                        <Col span={12}>\r\n                                            <List\r\n                                                dataSource={dataGrandTotal}\r\n                                                renderItem={(item) => (\r\n                                                    <List.Item\r\n                                                        key={item.amt}\r\n                                                        className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                                                    >\r\n                                                        <div className=\"d-flex align-items-center\">S$ {item.amt}</div>\r\n                                                    </List.Item>\r\n                                                )}\r\n                                            />\r\n                                        </Col>\r\n                                        <Divider />\r\n\r\n                                        <Col span={12}>\r\n                                            <List\r\n                                                dataSource={grandTotal}\r\n                                                renderItem={(item) => (\r\n                                                    <List.Item\r\n                                                        key={item.text}\r\n                                                        className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                                                    >\r\n                                                        <div className=\"d-flex align-items-center \">\r\n                                                            <Text strong>{item.text}</Text>\r\n                                                        </div>\r\n                                                    </List.Item>\r\n                                                )}\r\n                                            />\r\n                                        </Col>\r\n                                        <Col span={12}>\r\n                                            <List\r\n                                                dataSource={grandTotal}\r\n                                                renderItem={(item) => (\r\n                                                    <List.Item\r\n                                                        key={item.amt}\r\n                                                        className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                                                    >\r\n                                                        <div className=\"d-flex align-items-center\">S$ {item.amt}</div>\r\n                                                    </List.Item>\r\n                                                )}\r\n                                            />\r\n                                        </Col>\r\n                                    </Row>\r\n                                </div>\r\n\r\n                                <Divider />\r\n                                <div className=\"mt-5 d-flex justify-content-start\" style={{ fontSize: '14px' }}>\r\n                                    <div style={{ width: '40%' }}>\r\n                                        <Divider />\r\n                                        <h5><b>Grand Energy Technologies Pte Ltd</b></h5>\r\n                                        <div style={{ color: '#72849A' }}>Officer Incharge</div>\r\n                                        <div style={{ color: '#72849A' }}>{quoteData.quotationDate}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Card>\r\n\r\n                        <div className={`d-flex justify-content-between ${classes.action}`}>\r\n                            <div>\r\n                                <Button onClick={() => { history.goBack() }}>\r\n                                    Back\r\n                                </Button>\r\n                            </div>\r\n                            <Button onClick={() => {\r\n                                console.log(\"Downloading Contract...\");\r\n                                generatePDF(targetRef, options, { filename: 'Contract.pdf' });\r\n                            }}>\r\n                                <Icon component={PdfIcon} />\r\n                                Download Work Order\r\n                            </Button>\r\n                        </div></>\r\n                </Tabs.TabPane>\r\n                <Tabs.TabPane tab=\"Reminders \" key=\"2\">\r\n                    <Reminder reminder={reminder} contractData={rawContractData}/>\r\n                </Tabs.TabPane>\r\n                <Tabs.TabPane tab=\"Service Entry Sheet \" key=\"3\">\r\n                    <Service workOrderId={param.id}/>\r\n                </Tabs.TabPane>\r\n            </Tabs>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default ViewContract;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"ViewQuotation_card__TLSgl\",\"quotation-card\":\"ViewQuotation_quotation-card__RiOP1\",\"ant-card-body\":\"ViewQuotation_ant-card-body__KLjDS\",\"add_details\":\"ViewQuotation_add_details__0x-9I\",\"total_amt\":\"ViewQuotation_total_amt__wGu+Q\",\"tag\":\"ViewQuotation_tag__VYEJ9\",\"send_btn\":\"ViewQuotation_send_btn__hgmO+\",\"action\":\"ViewQuotation_action__8o-UU\"};","import React , { useState, useEffect, useRef } from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport {\r\n  Card,\r\n  Typography,\r\n  Col,\r\n  Row,\r\n  List,\r\n  Divider,\r\n  Tag,\r\n  Button,\r\n  Select,\r\n  Table,\r\n  DatePicker,\r\n  Modal,\r\n  Input,\r\n  TimePicker,\r\n  message\r\n  // Avatar,\r\n} from \"antd\";\r\nimport Icon from \"@ant-design/icons\"\r\nimport PageHeading from \"components/shared-components/PageHeading/PageHeading\";\r\nimport logo from \"assets/grand-energy-logo-small.png\";\r\nimport { ItemsAndServicesPageIcon } from \"assets/svg/icon\";\r\nimport HandBagImg from \"assets/HandBag.png\";\r\nimport SneakersImg from \"assets/Sneakers.png\";\r\nimport { PdfIcon } from \"../../../ItemsAndServices/svgIcons\";\r\n// import Modal from \"components/UI/Modal\";\r\n// import logo from \"assets/grand-energy-logo.png\";\r\n// import { SendIcon } from \"assets/svg/icon\";\r\n// import SendQuotationModal from \"./SendQuotationModal\";\r\nimport classes from \"./ViewQuotation.module.css\";\r\nimport generatePDF, { Margin } from 'react-to-pdf';\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n\r\nconst { Title, Text } = Typography;\r\nconst options = {\r\n    page: {\r\n       margin: Margin.SMALL,\r\n    }\r\n};\r\n\r\n// const dataItems = [\r\n//   { title: \"XYZ Hand Bag\", image: HandBagImg },\r\n//   { title: \"Sneakers\", image: SneakersImg },\r\n// ];\r\n// const dataServices = [\"Leather Replacement\", \"Shoe Shine & Polish\"];\r\n// const dataQty = [1, 1];\r\n// const dataPrice = [\"S$100.00\", \"S$100.00\"];\r\n// const dataTotal = [\"S$100.00\", \"S$100.00\"];\r\n// let dataGrandTotal = [\r\n//     { text: \"Subtotal\", amt: \"S$0\" },\r\n//   //   { text: \"Discount\", amt: \"S$100.00\", tag: { text: \"10%\", color: \"#E82E2E\" } },\r\n//     { text: \"GST\", amt: \"S$100.00\", tag: { text: \"10%\", color: \"#0099A8\" } },\r\n//   ];\r\n\r\nconst ViewQuotation = () => {\r\n    const targetRef = useRef();\r\n    const history = useHistory();\r\n    const param = useParams();\r\n\r\n    const [customerData , setCustomerData] = useState({\r\n        customerId: 0,\r\n        email: '',\r\n        name: '',\r\n        phone: '',\r\n        status: '',\r\n        profile_pic: '',\r\n        contact_name: '',\r\n        office_contact_number: '',\r\n        uen_number: '',\r\n        postal_code: '',\r\n        block_number: '',\r\n        level_number: '',\r\n        unit_number: '',\r\n        street_number: '',\r\n        country: '',\r\n        created_by: '',\r\n        other_details: {}\r\n    });\r\n    const [quoteData , setQuoteData] = useState({\r\n        id: 0,\r\n        customer_id: '',\r\n        jobsite_id: '',\r\n        customerName: '',\r\n        jobsite: '',\r\n        inquiryDate: '',\r\n        quotationDate: '',\r\n        amount: '',\r\n        status: '',\r\n        \r\n        tc_customer_id: '',\r\n        task_period_from_date: '',\r\n        task_period_to_date: '',\r\n        due_date: '',\r\n        sub_total: 0,\r\n        tax: 8,\r\n        discount: 0,\r\n        total: 0,\r\n        tc_quotation_file: '',\r\n        quotation_remarks: '',\r\n        line_items: [],\r\n    });\r\n    const [contactData, setContactData] = useState([]);\r\n    const [gstData, setGstData] = useState([]);\r\n    const [openContractModal , setOpenContractModal] = useState(false);\r\n    const [commencementDate , setCommencementDate] = useState(false);\r\n    const [expiryDate , setExpiryDate] = useState(false);\r\n    const [remindersData , setRemindersData] = useState([]);\r\n    const [contractType , setContractType] = useState(false);\r\n    const [grandTotal , setGrandTotal] = useState([\r\n      // { text: \"Grand Total\", amt: \"0\" }\r\n    ]);\r\n    const [dataGrandTotal , setDataGrandTotal] = useState([\r\n      // { text: \"Subtotal\", amt: \"0\" },\r\n      // { text: \"GST\", amt: \"0\", tag: { text: \"0%\", color: \"#0099A8\" } },\r\n    ]);\r\n\r\n    const removeReminder =(record) => {\r\n        let newRemindersData = remindersData.filter((elem) => elem.sr_no !== record.sr_no);\r\n        setRemindersData(newRemindersData);\r\n    }\r\n\r\n    const reminderColumns = [\r\n        {\r\n          title: 'Sr. No.',\r\n          dataIndex: 'sr_no',\r\n        },\r\n        {\r\n          title: 'Date',\r\n          dataIndex: 'date',\r\n          render: (_, record) => {\r\n            return (\r\n              <div>\r\n                <DatePicker value={record.date} className='w-100' onChange={(e) => {\r\n                  let data = remindersData\r\n                  let index = remindersData.findIndex((elem) => elem === record)\r\n                  data[index].date = e\r\n                  setRemindersData([...data])\r\n                }}/>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          title: 'Time',\r\n          dataIndex: 'time',\r\n          render: (_, record) => {\r\n            return (\r\n              <div>\r\n                <TimePicker value={record.time} className='w-100' format={'HH:mm A'} use12Hours={true} onChange={(e) => {\r\n                  let data = remindersData\r\n                  let index = remindersData.findIndex((elem) => elem === record)\r\n                  data[index].time = e;\r\n                  setRemindersData([...data])\r\n                }}/>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          title: 'Title',\r\n          dataIndex: 'title',\r\n          render: (_, record) => {\r\n            return (\r\n              <div>\r\n                <Input value={record.title} className='w-100' onChange={(e) => {\r\n                  let data = remindersData\r\n                  let index = remindersData.findIndex((elem) => elem === record)\r\n                  data[index].title = e.target.value\r\n                  setRemindersData([...data])\r\n                }}/>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          title: 'Content',\r\n          dataIndex: 'description',\r\n          render: (_, record) => {\r\n            return (\r\n              <div>\r\n                <Input value={record.description} className='w-100' onChange={(e) => {\r\n                  let data = remindersData\r\n                  let index = remindersData.findIndex((elem) => elem === record)\r\n                  data[index].description = e.target.value\r\n                  setRemindersData([...data])\r\n                }}/>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          title: 'Action',\r\n          dataIndex: '',\r\n          key: 'x',\r\n          render: (_,record) => <Button type='danger' onClick={() => {removeReminder(record)}} className='font-weight-bold'>remove</Button>,\r\n        },\r\n    ];\r\n\r\n    const handleContractOk = () => {\r\n        console.log(quoteData);\r\n        axios\r\n          .post(\r\n            \"/api/tc/new-contract\",\r\n            {\r\n              tc_quotation_id: quoteData.id,\r\n              tc_customer_id: quoteData.customer_id,\r\n              tc_customer_job_site_id: quoteData.customer_job_site_id || null,\r\n              start_date: moment(commencementDate),\r\n              end_date: moment(expiryDate),\r\n              reminders: remindersData,\r\n              type: contractType,\r\n              status: 'Active'\r\n            },\r\n          )\r\n          .then((response) => {\r\n            console.log(response);\r\n            setCommencementDate(null);\r\n            setExpiryDate(null);\r\n            setContractType(null);\r\n            setRemindersData([]);\r\n            setOpenContractModal(false);\r\n            message.success('Contract created successfully');\r\n            updateQuotationStatus();\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            setOpenContractModal(false);\r\n            message.error('Contract cannot be created, please try again later');\r\n          });\r\n      };\r\n\r\n      const updateQuotationStatus = () => {\r\n        console.log(quoteData);\r\n        axios\r\n        .post(\r\n          \"/api/tc/update-quotation\",\r\n          {\r\n            ...quoteData,\r\n            id: quoteData.id,\r\n            tc_customer_id: quoteData.customer_id,\r\n            status: 'Contract Generated'\r\n          },\r\n        )\r\n        .then((response) => {\r\n          let res = response.data;\r\n          console.log(res);\r\n          getQuotationData();\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        }); \r\n      };\r\n    \r\n      const handleContractCancel = () => {\r\n        setOpenContractModal(false);\r\n      };\r\n\r\n      const handleCancel = () => {\r\n        setOpenContractModal(false);\r\n      };\r\n    \r\n      const handleAddReminder = () => {\r\n        setRemindersData([...remindersData, {\r\n          sr_no: remindersData.length + 1,\r\n          date: null,\r\n          title: '',\r\n          description: '',\r\n        }]);\r\n      };\r\n\r\n      const generateInvoiceHandler = () => {\r\n        history.push(`/app/contract-management/quotations/generate-invoice/${+param.id}`)\r\n      }\r\n\r\n      const commencementDateChange = (date) => {\r\n        setCommencementDate(date);\r\n      }\r\n    \r\n      const expiryDateChange = (date) => {\r\n        setExpiryDate(date);\r\n      }\r\n    \r\n      const contractTypeChange = (event) => {\r\n        setContractType(event);\r\n      }\r\n    \r\n      const getQuotationData = () => {\r\n        axios\r\n        .post(\r\n            \"/api/tc/get-quotation\",\r\n            {\r\n            id: +param.id,\r\n            },\r\n        )\r\n        .then((response) => {\r\n            let res = response.data.data;\r\n\r\n            setQuoteData({\r\n                id: res?.id,\r\n                customer_id: res?.tc_customer_id,\r\n                jobsite_id: res?.tc_customer_job_site_id,\r\n                customerName: res?.customer_name,\r\n                jobsite: res?.jobsite_name,\r\n                inquiryDate: res?.inquiry_date ? moment(res?.inquiry_date).format('DD-MM-YYYY HH:mm A'):'',\r\n                quotationDate: moment(res?.task_period_from_date).format('DD-MM-YYYY'),\r\n                amount: res?.total,\r\n                status: res?.status || 'Quote Sent',\r\n                \r\n                tc_customer_id: res?.tc_customer_id,\r\n                task_period_from_date: moment(res?.task_period_from_date),\r\n                task_period_to_date: moment(res?.task_period_to_date),\r\n                due_date: moment(res?.due_date).format('DD-MM-YYYY'),\r\n                sub_total: res?.sub_total || 0,\r\n                tax: res?.gst || 8,\r\n                discount: res?.discount || 0,\r\n                total: res?.total,\r\n                tc_quotation_file: res?.tc_quotation_file,\r\n                quotation_remarks: res?.quotation_remarks || '',\r\n                line_items: res?.line_items || [],\r\n                payment_term: res?.payment_term || '',\r\n                validity: res?.validity || '',\r\n            })\r\n            console.log(quoteData);\r\n\r\n            if(res.tc_customer_id) getCustomerData(res.tc_customer_id);\r\n            // getAllGst(res.total);\r\n            let subtotal_amount = res.sub_total || res.total;\r\n            let total_amount = res.total;\r\n            let gst_percentage = res?.tax;\r\n            let gst_amount = ((gst_percentage/100)*subtotal_amount);\r\n\r\n\r\n            if(res.total) {\r\n                setDataGrandTotal([\r\n                    { text: \"Subtotal\", amt: `${subtotal_amount || 0}` },\r\n                    { text: \"GST\", amt: `${gst_amount.toFixed(2) || 0}`, tag: { text: `${gst_percentage || 0}%`, color: \"#0099A8\" } },\r\n                ]);\r\n                setGrandTotal([\r\n                    // { text: \"Grand Total\", amt: (res.total + (gst_percentage/100)*res.sub_total).toFixed(2) }\r\n                    { text: \"Grand Total\", amt: (total_amount).toFixed(2) }\r\n                ])\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n      }\r\n    \r\n      const getCustomerData = (cust_id) => {\r\n        axios\r\n        .post(\r\n            \"/api/tc/get-customer\",\r\n            {\r\n            id: cust_id,\r\n            },\r\n        )\r\n        .then((response) => {\r\n            let res = response.data.data;\r\n\r\n            if(res.other_details) {\r\n                let other_details = JSON.parse(res.other_details);\r\n                res = {...res, ...other_details}\r\n            }\r\n            setCustomerData({\r\n                customerId: res.id,\r\n                email: res.email,\r\n                name: res.name,\r\n                phone: res.phone,\r\n                status: res.status,\r\n                profile_pic: res?.profile_pic,\r\n                contact_name: res?.contact_name,\r\n                office_contact_number: res?.office_contact_number,\r\n                uen_number: res?.uen_number,\r\n                postal_code: res?.postal_code || '000000',\r\n                block_number: res?.block_number || '',\r\n                level_number: res?.level_number || '',\r\n                unit_number: res?.unit_number || '',\r\n                street_number: res?.street_number || '',\r\n                country: res?.country || 'Singapore',\r\n                created_by: res?.created_by || '',\r\n                other_details: res?.other_details\r\n            })\r\n            console.log(customerData)\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n      }\r\n\r\n      // const getAllGst = (total)=> {\r\n      //   axios({\r\n      //       method: 'post',\r\n      //       url: \"/api/tc/get-all-gsts\",\r\n      //       data: {},\r\n      //   }).then(function (response) {\r\n      //       if(response.data.success) {\r\n      //           console.log(response.data.data)\r\n      //           let res = response.data.data.data;\r\n      //           let fdata = res.map((elem, ind) => {\r\n      //             return {\r\n      //                 key: elem.id,\r\n      //                 id: elem.id,\r\n      //                 srNo: ind+1,\r\n      //                 percentage: elem.percentage,\r\n      //                 description: elem.description,\r\n      //                 created_at: moment(elem.created_at).format(\"DD-MM-YYYY\"),\r\n      //                 updated_at: moment(elem.updated_at).format(\"DD-MM-YYYY\"),\r\n      //             };\r\n      //           });\r\n      //           setGstData(fdata);\r\n      //           console.log(fdata)\r\n      //           let gst_percentage = fdata[fdata.length-1].percentage || 0;\r\n      //           let gst_amount = ((gst_percentage/100)*total).toFixed(2);\r\n\r\n      //           if(total) {\r\n      //             setDataGrandTotal([\r\n      //               { text: \"Subtotal\", amt: `${total || 0}` },\r\n      //               { text: \"GST\", amt: `${gst_amount || 0}`, tag: { text: `${gst_percentage || 9}%`, color: \"#0099A8\" } },\r\n      //             ]);\r\n      //             setGrandTotal([\r\n      //               { text: \"Grand Total\", amt: (total + (gst_percentage/100)*total).toFixed(2) }\r\n      //             ])\r\n      //           }\r\n      //       }\r\n      //   }).catch(function (error) {\r\n      //       console.log(error);\r\n      //   });\r\n      // };\r\n\r\n      const getContactDetails = () => {\r\n        axios({\r\n          method: 'post',\r\n          url: \"/api/tc/get-contact-details\",\r\n          data: {},\r\n        }).then(function (response) {\r\n          console.log(response.data);\r\n          let res = response.data.data;\r\n          setContactData({\r\n            email: res.email,\r\n            mobile: res.mobile,\r\n            tel: res.tel,\r\n            address: res.address,\r\n          })\r\n        }).catch(function (error) {\r\n            console.log(error);\r\n        });\r\n      }\r\n\r\n      useEffect(() => {\r\n          getQuotationData();\r\n          getContactDetails();\r\n      }, []);\r\n  \r\n    return (\r\n      <React.Fragment>\r\n  \r\n        {/* {showModal && <Modal onClose={showModalHandler}><SendQuotationModal/></Modal>} */}\r\n        <PageHeading\r\n          svg={ItemsAndServicesPageIcon}\r\n          title=\"Quotations / View Quotation\"\r\n        />\r\n        \r\n        <Card className=\"quotation-card\">\r\n            <div ref={targetRef}>\r\n                <Card className={classes.card}>\r\n                    <div className=\"mt-2 mb-2 w-100\">\r\n                    <img src={logo} alt=\"logo\" style={{width: '20%'}}/>\r\n                    <div className=\"d-flex justify-content-between mt-3\">\r\n                        <div>\r\n                        <Title strong level={3}>\r\n                            GRAND ENERGY TECHNOLOGIES PTE LTD\r\n                        </Title>\r\n                        <Text><b>Email:</b> {contactData.email || ''}</Text>\r\n                        </div>\r\n                        <div></div>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div>\r\n                        <Text><b>Phone:</b> {contactData.tel || ''}</Text>\r\n                        <br />\r\n                        <Text><b>UEN/GST No:</b> 201802457D</Text>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                        <Text>130 Jurong Gateway Road </Text>\r\n                        <br />\r\n                        <Text>#03-203 Singapore (600130) </Text>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </Card>\r\n                <Card className={classes.add_details}>\r\n                    <div>\r\n                    <h5>Billed To:</h5>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                    <div className=\"mr-5\">\r\n                        {/* <Title strong level={3}>\r\n                        Billed To\r\n                        </Title> */}\r\n                        <br />\r\n                        <Text strong>{customerData.name}</Text>\r\n                        <br />\r\n                        <Text>{`${customerData.block_number} ${customerData.street_number}, ${customerData.level_number}, ${customerData.unit_number}`}</Text>\r\n                        <br />\r\n                        <Text>{`${customerData.country}, ${customerData.postal_code}`}</Text>\r\n                        <br />\r\n                        <br />\r\n                        <Text>{customerData.email}</Text>\r\n                        <br />\r\n                        <Text><b>Phone:</b> {customerData.phone}</Text>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"mr-4\">\r\n                        <br />\r\n                        <Text strong>Quotation No</Text>\r\n                        <br />\r\n                        <Text>#{quoteData.id}</Text>\r\n                        <br />\r\n                        <br />\r\n                        <Text strong>Quotation Date</Text>\r\n                        <br />\r\n                        <Text>{quoteData.quotationDate}</Text>\r\n                        <br />\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                        <br />\r\n                        <Text strong>Payment Term</Text>\r\n                        <br />\r\n                        <Text>{quoteData.payment_term || '-'}</Text>\r\n                        <br />\r\n                        <br />\r\n                        <Text strong>Validity</Text>\r\n                        <br />\r\n                        <Text>{quoteData.validity || '0'} Days</Text>\r\n                        <br />\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </Card>\r\n        \r\n                <div>\r\n                    <Row>\r\n                    <Col span={3}>\r\n                        <Title level={4}>Sr. No.</Title>\r\n                        <List\r\n                        // dataSource={dataItems}\r\n                        dataSource={quoteData.line_items}\r\n                        renderItem={(item, index) => (\r\n                            <List.Item key={item.name} className=\" pl-0 border-0\">\r\n                            {index + 1}\r\n                            </List.Item>\r\n                        )}\r\n                        />\r\n                    </Col>\r\n                    <Col span={21}>\r\n                        <Row>\r\n                        <Col span={8}>\r\n                            <Title level={4}>Description</Title>\r\n                            <List\r\n                            // dataSource={dataServices}\r\n                            dataSource={quoteData.line_items}\r\n                            renderItem={(item) => (\r\n                                <List.Item key={item.name} className=\"pl-0 border-0\">\r\n                                <div\r\n                                    style={{ height: \"32px\" }}\r\n                                    className=\"d-flex align-items-center\"\r\n                                >\r\n                                    {item.name}\r\n                                </div>\r\n                                </List.Item>\r\n                            )}\r\n                            />\r\n                        </Col>\r\n                        <Col span={5}>\r\n                            <Title level={4}>Provisional Qty</Title>\r\n                            <List\r\n                            // dataSource={dataQty}\r\n                            dataSource={quoteData.line_items}\r\n                            renderItem={(item) => (\r\n                                <List.Item key={item.quantity} className=\"border-0\">\r\n                                <div\r\n                                    style={{ height: \"32px\" }}\r\n                                    className=\"d-flex align-items-center\"\r\n                                >\r\n                                    {item.quantity}\r\n                                </div>\r\n                                </List.Item>\r\n                            )}\r\n                            />\r\n                        </Col>\r\n                        <Col span={5}>\r\n                            <Title level={4}>Unit Price(S$)</Title>\r\n                            <List\r\n                            // dataSource={dataPrice}\r\n                            dataSource={quoteData.line_items}\r\n                            renderItem={(item) => (\r\n                                <List.Item key={item.price} className=\"pl-0 border-0\">\r\n                                <div\r\n                                    style={{ height: \"32px\" }}\r\n                                    className=\"d-flex align-items-center\"\r\n                                >\r\n                                    {item.price}\r\n                                </div>\r\n                                </List.Item>\r\n                            )}\r\n                            />\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Title level={4}>SUBTOTAL(S$)</Title>\r\n                            <List\r\n                            // dataSource={dataTotal}\r\n                            dataSource={quoteData.line_items}\r\n                            renderItem={(item) => (\r\n                                <List.Item key={item.total} className=\"pl-0 border-0\">\r\n                                <div\r\n                                    style={{ height: \"32px\" }}\r\n                                    className=\"d-flex align-items-center\"\r\n                                >\r\n                                    {item.total}\r\n                                </div>\r\n                                </List.Item>\r\n                            )}\r\n                            />\r\n                        </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    </Row>\r\n                </div>\r\n                <Divider />\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <Row\r\n                      style={{ width: \"40%\" }}\r\n                      className=\"d-flex justify-content-center\"\r\n                    >\r\n                      <Col span={12}>\r\n                          <List\r\n                          dataSource={dataGrandTotal}\r\n                          renderItem={(item) => (\r\n                              <List.Item\r\n                              key={item.text}\r\n                              className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                              >\r\n                              <div className=\"d-flex align-items-center \">\r\n                                  <Text strong>{item.text}</Text>\r\n                                  {item.tag && (\r\n                                  <div className={classes.total_amt}>\r\n                                      {/* <Tag\r\n                                      color={item.tag.color}\r\n                                      className={`h-100 w-100 ${classes.tag}`}\r\n                                      style={{borderRadius: '1.5px', paddingTop: '1px'}}\r\n                                      >\r\n                                      {item.tag.text}\r\n                                      </Tag> */}\r\n                                      <span style={{background: (item.tag.color), padding: '1.5px 4px'}}\r\n                                      className=\"ml-2 \"\r\n                                      >{item.tag.text}</span>\r\n                                  </div>\r\n                                  )}\r\n                              </div>\r\n                              </List.Item>\r\n                          )}\r\n                          />\r\n                      </Col>\r\n                      <Col span={12}>\r\n                          <List\r\n                          dataSource={dataGrandTotal}\r\n                          renderItem={(item) => (\r\n                              <List.Item\r\n                              key={item.amt}\r\n                              className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                              >\r\n                              <div className=\"d-flex align-items-center\">S$ {item.amt}</div>\r\n                              </List.Item>\r\n                          )}\r\n                          />\r\n                      </Col>\r\n                      <Divider />\r\n\r\n                      <Col span={12}>\r\n                          <List\r\n                          dataSource={grandTotal}\r\n                          renderItem={(item) => (\r\n                              <List.Item\r\n                              key={item.text}\r\n                              className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                              >\r\n                              <div className=\"d-flex align-items-center \">\r\n                                  <Text strong>{item.text}</Text>\r\n                              </div>\r\n                              </List.Item>\r\n                          )}\r\n                          />\r\n                      </Col>\r\n                      <Col span={12}>\r\n                          <List\r\n                          dataSource={grandTotal}\r\n                          renderItem={(item) => (\r\n                              <List.Item\r\n                              key={item.amt}\r\n                              className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                              >\r\n                              <div className=\"d-flex align-items-center\">S$ {item.amt}</div>\r\n                              </List.Item>\r\n                          )}\r\n                          />\r\n                      </Col>\r\n                    </Row>\r\n                </div>\r\n\r\n                <Divider />\r\n\r\n                <div className=\"text-left w-75 mt-2\" style={{fontSize: '14px'}}>\r\n                   <h5>Term and Conditions</h5>\r\n                   <ol>\r\n                      <li>{quoteData.customerName} shall obtained all approvals from relevant authorities/stakeholders and facilitate our site personnel for site safety procedures including working at night or weekend/public holidays.</li>\r\n                      <li>{quoteData.customerName} site supervisor shall be presented during the whole course of installation work and final joint measurement.</li>\r\n                      <li>50% downpayment upon confirmation, 50% upon completion of work.</li>\r\n                      <li>All price quote excludes GST.</li>\r\n                      <li>We shall not be liable for any loss, damage or injury or any consequential or indirect loss sustained by you or third parties pertaining to the works.</li>\r\n                      <li>Any other items which is not specifically indicated above. Any liability on this job is limited to half of the relevant sum awarded.</li>\r\n                   </ol>\r\n                   <p>We look forward to your confirmation</p>\r\n                </div>\r\n                <div className=\"mt-5 d-flex justify-content-between\" style={{fontSize: '14px'}}>\r\n                   <div style={{width: '40%'}}>\r\n                      <Divider />\r\n                      <h5><b>Grand Energy Technologies Pte Ltd</b></h5>\r\n                      <div style={{color: '#72849A'}}>GET Manager</div>\r\n                      <div style={{color: '#72849A'}}>{quoteData.quotationDate}</div>\r\n                   </div>\r\n                   <div style={{width: '20%'}}>\r\n                      <Divider />\r\n                      <h5><b>Customer Signature</b></h5>\r\n                      <div style={{color: '#72849A'}}>Name: </div>\r\n                      <div style={{color: '#72849A'}}>Designation: </div>\r\n                      <div style={{color: '#72849A'}}>Date: </div>\r\n                   </div>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n  \r\n        <div className={`d-flex justify-content-between ${classes.action}`}>\r\n            <div className=\"d-flex\">\r\n                <Button onClick={() => {history.goBack()}}>\r\n                    Back\r\n                </Button>\r\n                <Button style={{backgroundColor: '#5772FF', color: '#fff'}} onClick={() => {generateInvoiceHandler()}}>\r\n                    Generate Invoice\r\n                </Button>\r\n                {quoteData.status !=='Contract Generated' && <Button style={{backgroundColor: '#5772FF', color: '#fff'}} onClick={() => {setOpenContractModal(true)}}>\r\n                    Create Contract\r\n                </Button>}\r\n            </div>\r\n            <div className=\"d-flex justify-content-end\">\r\n            <Button onClick={() => {\r\n              console.log(\"Downloading Attachment...\");\r\n              window.open(quoteData.tc_quotation_file);\r\n            }}>\r\n              {/* <Icon component={PdfIcon} /> */}\r\n              View Attachment\r\n            </Button>\r\n\r\n            <Button onClick={() => {\r\n              console.log(\"Downloading Quotation...\");\r\n              generatePDF(targetRef, options, {filename: 'Quotation.pdf'});\r\n            }}>\r\n              <Icon component={PdfIcon} />\r\n              Download Quotation\r\n            </Button>\r\n            </div>\r\n        </div>\r\n\r\n        <Modal\r\n          visible={openContractModal}\r\n          centered\r\n          maskClosable\r\n          width={900}\r\n          onCancel={handleCancel}\r\n          title={'Create Contract'}\r\n          footer={[\r\n              <Button style={{ color: '#F5F5F5' }} type=\"primary\" className='font-weight-bold' onClick={handleContractOk}>Save</Button>,\r\n              <Button style={{ color: '#000B23' }} onClick={handleContractCancel} className='font-weight-bold'>Cancel</Button>,\r\n        ]}\r\n        >\r\n          <div className='w-50'>\r\n              <h4 className=\"mb-2 mt-4\">Date Of Commencement of Work</h4>\r\n              <DatePicker value={commencementDate} onChange={commencementDateChange}/>\r\n          </div>\r\n\r\n          <div className='w-50'>\r\n              <h4 className=\"mb-2 mt-4\">Date of Expiration of Work</h4>\r\n              <DatePicker value={expiryDate} onChange={expiryDateChange}/>\r\n          </div>\r\n\r\n          <div>\r\n              <h4 className=\"mb-2 mt-4\">Reminders</h4>\r\n              <Table columns={reminderColumns} dataSource={remindersData} />\r\n              <Button type='primary' className='font-weight-bold mt-2' onClick={handleAddReminder}>Add Reminder</Button>\r\n          </div>\r\n\r\n          <div className='w-50'>\r\n              <h4 className=\"mb-2 mt-4\">Contract Type</h4>\r\n              <Select\r\n                className='w-100'\r\n                showSearch\r\n                placeholder=\"Contract Type\"\r\n                value={contractType}\r\n                onChange={contractTypeChange}\r\n              >\r\n                <Select.Option title={'None'} key={0} value={'None'}>{'None'}</Select.Option>\r\n                <Select.Option title={'Ad Hoc'} key={1} value={'Ad Hoc'}>{'Ad Hoc'}</Select.Option>\r\n                <Select.Option title={'Routine'} key={2} value={'Routine'}>{'Routine'}</Select.Option>\r\n              </Select>\r\n          </div>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default ViewQuotation","import Icon from \"@ant-design/icons\";\r\nimport React from \"react\";\r\nimport { submitTick } from \"assets/svg/icon\";\r\n\r\nconst QuotationModal = (props) => {\r\n  return (\r\n    <div className=\"text-center\">\r\n      <Icon component={submitTick} />\r\n      <div>\r\n        <h1>New Invoice Created</h1>\r\n        <p>\r\n          Invoice is created successfully.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuotationModal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { formats, modules } from \"utils/textEditorModules\";\r\nimport ReactQuill from \"react-quill\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  Form,\r\n  Input,\r\n  DatePicker,\r\n  Select,\r\n  Button,\r\n  InputNumber,\r\n  Upload,\r\n  Row,\r\n  Col,\r\n  Card, \r\n  Modal,\r\n  message,\r\n  Table,\r\n  Typography,\r\n} from \"antd\";\r\nimport { InboxOutlined } from '@ant-design/icons';\r\n\r\nconst { Dragger } = Upload;\r\nconst { TextArea } = Input;\r\n// const { RangePicker } = DatePicker;\r\n// const {Title , Text} = Typography;\r\n\r\nconst FormInvoice = ({form, customers, customer_id, jobsData, setJobsData, setJobFile, jobFileUrl}) => {\r\n    const columns = [\r\n      {\r\n        title: 'SR NO',\r\n        dataIndex: 'sr_no',\r\n      },\r\n      {\r\n        title: 'DESCRIPTION',\r\n        dataIndex: 'name',\r\n      },\r\n      {\r\n        title: 'PROVISIONAL QTY',\r\n        dataIndex: 'quantity',\r\n      },\r\n      {\r\n        title: 'UNIT PRICE',\r\n        dataIndex: 'price',\r\n      },\r\n      {\r\n        title: 'SUBTOTAL',\r\n        dataIndex: 'total',\r\n      },\r\n    ];\r\n\r\n    const customerColumns = [\r\n      {\r\n        title: 'Customer ID',\r\n        dataIndex: 'id',\r\n      },\r\n      {\r\n        title: 'Customer Name',\r\n        dataIndex: 'name',\r\n      },\r\n      {\r\n        title: 'Mobile Number',\r\n        dataIndex: 'phone',\r\n      },\r\n      {\r\n        title: 'Email Address',\r\n        dataIndex: 'email',\r\n      },\r\n      {\r\n        title: 'Customer Since',\r\n        dataIndex: 'created_at',\r\n      },\r\n      {\r\n        title: 'Status',\r\n        dataIndex: '',\r\n        render: (_,record) => {\r\n          return <Button style={{backgroundColor: ''}} className='mt-2 p-1 px-2' >{record.status}</Button>\r\n        },\r\n      },\r\n    ];\r\n    const removeJob = (record) => {\r\n      let jobs = jobsData.filter((e) => e != record);\r\n      setJobsData(jobs)\r\n    }\r\n    \r\n    \r\n    const [customerData, setCustomerData] = useState('');\r\n    const [value, setValue] = useState('');\r\n    const [paymentTerm, setPaymentTerm] = useState('');\r\n    const [selectedJobsite, setSelectedJobsite] = useState(0);\r\n    const [uploadedFile, setUploadedFile] = useState({\r\n      name: '',\r\n      url: ''\r\n    });\r\n    const [allJobsites, setAllJobsites] = useState([]);\r\n    const [allContracts, setAllContracts] = useState([]);\r\n    const tok = localStorage.getItem('token');\r\n    // const [jobDetailsTemp, setJobDetailsTemp] = useState({\r\n    //     sr_no: 0, \r\n    //     id: 0, \r\n    //     description: '', \r\n    //     provisionalQty: 0, \r\n    //     unitPrice: 0\r\n    //   });\r\n    // const [description, setDescription] = useState('');\r\n    // const [quoteDescription, setQuoteDescription] = useState('');\r\n    // const [quantity, setQuantity] = useState(0);\r\n    // const [unitPrice, setUnitPrice] = useState(0);\r\n    // const [openUploadPdfModal, setOpenUploadPdfModal] = useState(false);\r\n    // const [openJobModal, setOpenJobModal] = useState(false);\r\n  \r\n    const getAllJobSites = () => {\r\n      axios({\r\n          method: 'post',\r\n          url: \"/api/tc/get-customer-job-sites\",\r\n          headers: {\r\n              // 'content-type': `multipart/form-data`,\r\n              Authorization: `Bearer ${tok}`\r\n          },\r\n          data: {\r\n              customer_id: form.getFieldValue(\"customer_id\") || 0,\r\n              page_index: 1,\r\n              page_size: 100000,\r\n              search : ''\r\n          }\r\n      }).then((response) => {\r\n          console.log(response.data)\r\n          if (response.data.success) {\r\n            setAllJobsites(response.data.data.data)\r\n          }\r\n          // form.setFieldsValue(\r\n          //   {\r\n          //     ...form.getFieldsValue(),\r\n          //     jobsite_id: res.id,\r\n          //   }\r\n          // )\r\n      }).catch((err) => {\r\n          console.log(err)\r\n      });\r\n    }\r\n  \r\n    const getAllContracts = () => {\r\n      axios({\r\n          method: 'post',\r\n          url: \"/api/tc/get-contracts\",\r\n          headers: {\r\n              // 'content-type': `multipart/form-data`,\r\n              Authorization: `Bearer ${tok}`\r\n          },\r\n          data: {\r\n              customer_id: customer_id || null,\r\n              page_index: 1,\r\n              page_size: 100000,\r\n              search : ''\r\n          }\r\n      }).then((response) => {\r\n          console.log(response.data)\r\n          let res = response.data.data.data[0];\r\n          if (response.data.success) {\r\n            setAllContracts(response.data.data.data);\r\n          }\r\n          form.setFieldsValue(\r\n            {\r\n              ...form.getFieldsValue(),\r\n              contract_id: res.id,\r\n            }\r\n          )\r\n      }).catch((err) => {\r\n          console.log(err)\r\n      });\r\n    }\r\n  \r\n    useEffect(() => {\r\n      getAllJobSites();\r\n      getAllContracts();\r\n\r\n      // setCustomerData([{\r\n      //   id: form.getFieldValue().customer_id,\r\n      //   customer_id: form.getFieldValue().customer_id,\r\n      //   customer_name: form.getFieldValue().customer_name,\r\n      //   phone: form.getFieldValue().phone,\r\n      //   email: form.getFieldValue().email,\r\n      //   status: form.getFieldValue().status,\r\n      // }])\r\n\r\n      setCustomerData([form.getFieldsValue()]);\r\n    }, [])\r\n    \r\n    return (\r\n      <>\r\n        <Card className=\"mt-3\">\r\n            \r\n        <Row align=\"top\">\r\n          <Col span={12}>\r\n            <Form.Item name=\"customer_id\" label=\"Customer Name\" rules={[{ required: true, message: 'Please select Customer!' }]}>\r\n              <Select onChange={getAllJobSites} disabled>\r\n                {customers.map((elem, index) => {\r\n                  return (\r\n                    <Select.Option key={index} value={elem.id}>\r\n                      {elem.company}\r\n                    </Select.Option>\r\n                  );\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          {/* <Col span={24}>\r\n            <Table className=\"my-3\" columns={customerColumns} dataSource={customerData} pagination={false}/>\r\n          </Col> */}\r\n        </Row>\r\n\r\n        <Row >\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label=\"Jobsite\"\r\n              name=\"jobsite_id\"\r\n              rules={[{ required: true, message: \"Required\" }]}\r\n            >\r\n              <Select\r\n                  showSearch\r\n                  placeholder=\"Jobsite\"\r\n                  optionFilterProp=\"children\"\r\n                  filterOption={(input, option) => (option?.title ?? '').toString().toLowerCase()?.includes(input?.toLowerCase())}\r\n                  filterSort={(optionA, optionB) =>\r\n                      (optionA?.label ?? '').toString().toLowerCase().localeCompare((optionB?.label ?? '').toString().toLowerCase())\r\n                  }\r\n                  value={selectedJobsite}\r\n                  onChange={setSelectedJobsite}\r\n                  disabled\r\n              >\r\n                  {allJobsites.map((val, id) => (\r\n                      <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n                  ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label=\"Contract\"\r\n              name=\"contract_id\"\r\n              rules={[{ required: true, message: \"Required\" }]}\r\n            >\r\n              <Select\r\n                  showSearch\r\n                  placeholder=\"contract\"\r\n                  optionFilterProp=\"children\"\r\n                  filterOption={(input, option) => (option?.title ?? '').toString().toLowerCase()?.includes(input?.toLowerCase())}\r\n                  filterSort={(optionA, optionB) =>\r\n                      (optionA?.label ?? '').toString().toLowerCase().localeCompare((optionB?.label ?? '').toString().toLowerCase())\r\n                  }\r\n                  value={selectedJobsite}\r\n                  onChange={setSelectedJobsite}\r\n                  disabled\r\n              >\r\n                  {allContracts.map((val, id) => (\r\n                      <Select.Option title={val.id} key={id} value={val?.id}>#{val.id}</Select.Option>\r\n                  ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n  \r\n        <div className=\"d-flex justify-content-between heading-container my-4\">\r\n            <div className=\"heading\">Job Details</div>\r\n            <div className=\"heading d-flex justify-content-end align-items-center\">\r\n              {jobFileUrl && <div className=\"mr-3\" style={{color: 'blue'}}>\r\n                              <a href={jobFileUrl} target=\"_blank\">Quotation_File</a>\r\n                          </div>\r\n              }\r\n            </div>\r\n        </div>\r\n  \r\n        <div className=\"mb-3\">\r\n          <Table columns={columns} dataSource={jobsData} />\r\n        </div>\r\n  \r\n        <Row>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label=\"Discount (%)\"\r\n              name=\"discount\"\r\n              rules={[{ required: true, message: \"Required\" }]}\r\n            >\r\n              <Input type=\"number\"/>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label=\"Due Date\"\r\n              name=\"invoice_due_date\"\r\n              rules={[{ required: true, message: \"Required\" }]}\r\n            >\r\n              <DatePicker />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        </Card>\r\n      </>\r\n    );\r\n  };\r\n\r\nexport default FormInvoice","import React , {useState,useEffect} from \"react\";\r\nimport { Form, Button, Col, Row, message } from \"antd\";\r\nimport PageHeading from \"components/shared-components/PageHeading/PageHeading\";\r\nimport Modal from \"components/UI/Modal\";\r\nimport QuotationModal from \"./QuotationModal\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { useLocation, useHistory, useParams } from 'react-router-dom';\r\nimport FormInvoice from \"./FormInvoice\";\r\n\r\nconst GenerateInvoice = () => {\r\n    const [form] = Form.useForm();\r\n    const param = useParams();\r\n    const [jobsData , setJobsData] = useState([]);\r\n    const [jobFile , setJobFile] = useState({\r\n      name: '',\r\n      url: ''\r\n    });\r\n    const [customerAccountData, setCustomerAccountData] = useState([]);\r\n    const [invoiceData, setInvoiceData] = useState({});\r\n    const [quotationData, setQuotationData] = useState({});\r\n    const [contractData, setContractData] = useState({});\r\n    const [isEdit, setIsEdit] = useState(false);\r\n    const history = useHistory();\r\n     \r\n    const [showModal , setShowModal] = useState(false);\r\n  \r\n    const saveQuotationHandler = () => {\r\n      setShowModal(prev => !prev);\r\n    }\r\n  \r\n    const saveQuotaionModal = (\r\n      <Modal onClose = {saveQuotationHandler}>\r\n        <QuotationModal/>\r\n      </Modal>\r\n    )\r\n  \r\n    const finishHandler = (e) => {\r\n        console.log(e)\r\n        if(param.id) {\r\n          axios\r\n        .post(\r\n            \"/api/tc/update-invoice\",\r\n            {\r\n                id: param.id,\r\n                tc_customer_id: e.customer_id,\r\n                tc_contract_id: e.contract_id,\r\n                tc_quotation_id: e.quotation_id,\r\n                tc_customer_job_site_id: e.jobsite_id,\r\n                task_period_from_date: moment(e.quotationDate),\r\n                task_period_to_date: moment(e.quotationDate).add(+e.expiryDate, 'days'),\r\n                due_date: moment(e.quotationDate).add(+e.expiryDate, 'days'),\r\n                sub_total: 0,\r\n                status: e.status || 'Pending',\r\n                tax: e.gst || 8,\r\n                total: quotationData.total,\r\n                tc_quotation_file: quotationData.tc_quotation_file,\r\n                quotation_remarks: e.remarks || '',\r\n                line_items: quotationData.line_items,\r\n\r\n                tc_invoice_file: quotationData.tc_quotation_file,\r\n                invoice_remarks: \"None\",\r\n                discount: e.discount || 0,\r\n            },\r\n            {\r\n                headers: {\r\n                    \"content-type\": \"application/json\"\r\n                },\r\n            }\r\n        )\r\n        .then((response) => {\r\n            if(!response.data.success){\r\n            message.warn(response.data.msg)\r\n            return;\r\n            }\r\n            message.success(\"Invoice generated successfully\")\r\n            history.goBack()\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n        } else {\r\n          axios\r\n        .post(\r\n            \"/api/tc/new-invoice\",\r\n            {\r\n                tc_customer_id: e.customer_id,\r\n                tc_contract_id: e.contract_id,\r\n                tc_quotation_id: e.quotation_id,\r\n                tc_customer_job_site_id: e.jobsite_id,\r\n                task_period_from_date: moment(e.quotationDate),\r\n                task_period_to_date: moment(e.quotationDate).add(+e.expiryDate, 'days'),\r\n                due_date: moment(e.quotationDate).add(+e.expiryDate, 'days'),\r\n                sub_total: 0,\r\n                status: e.status || 'Pending',\r\n                tax: e.gst || 8,\r\n                total: quotationData.total,\r\n                tc_quotation_file: quotationData.tc_quotation_file,\r\n                quotation_remarks: e.remarks || '',\r\n                line_items: quotationData.line_items,\r\n\r\n                tc_invoice_file: quotationData.tc_quotation_file,\r\n                invoice_remarks: \"None\",\r\n                discount: e.discount || 0,\r\n            },\r\n            {\r\n                headers: {\r\n                    \"content-type\": \"application/json\"\r\n                },\r\n            }\r\n        )\r\n        .then((response) => {\r\n            if(!response.data.success){\r\n            message.warn(response.data.msg)\r\n            return;\r\n            }\r\n            message.success(\"Invoice generated successfully\")\r\n            history.goBack()\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n        }\r\n        \r\n    };\r\n\r\n    const getInvoiceDetails = () => {\r\n      axios\r\n        .post(\r\n          \"/api/tc/get-invoice\",\r\n          {\r\n            id: +param.id,\r\n          }\r\n        )\r\n        .then((response) => {\r\n          let res = response.data.data;\r\n          console.log(res);\r\n  \r\n          setInvoiceData(\r\n            {\r\n              ...res,\r\n            }\r\n          );\r\n          form.setFieldsValue(\r\n            {\r\n              // ...res,\r\n              quotation_id: res.id,\r\n              customer_id: res?.tc_customer_id,\r\n              jobsite_id: res?.tc_customer_job_site_id,\r\n              quotation_file: res?.tc_quotation_file,\r\n              discount: res.discount,\r\n              // invoice_due_date: res.due_date,\r\n            }\r\n          )\r\n          console.log(form.getFieldsValue())\r\n          if(res.tc_contract_id) getContractDetails(res.tc_contract_id);\r\n          console.log(invoiceData)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n\r\n    const getContractDetails = (contract_id) => {\r\n      axios\r\n        .post(\r\n          \"/api/tc/get-contracts\",\r\n          {\r\n            id: +contract_id,\r\n          }\r\n        )\r\n        .then((response) => {\r\n          let res = response.data.data.data[0];\r\n          console.log(res);\r\n          \r\n          if(res.length) {\r\n            setContractData(\r\n              {\r\n                ...res,\r\n              }\r\n            );\r\n            form.setFieldsValue(\r\n              {\r\n                ...form.getFieldsValue(),\r\n                contract_id: res.id,\r\n                discount: 0,\r\n                invoice_due_date: null,\r\n              }\r\n            )\r\n          }\r\n          console.log(contractData);\r\n          if(res.tc_quotation_id) getQuotationDetails(res.tc_quotation_id)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n\r\n    const getQuotationDetails = (quotation_id) => {\r\n      axios\r\n        .post(\r\n          \"/api/tc/get-quotation\",\r\n          {\r\n            id: +quotation_id,\r\n          }\r\n        )\r\n        .then((response) => {\r\n          let res = response.data.data;\r\n          console.log(res);\r\n  \r\n          setQuotationData(\r\n            {\r\n              ...res,\r\n            }\r\n          );\r\n          form.setFieldsValue(\r\n            {\r\n              // ...res,\r\n              quotation_id: res.id,\r\n              customer_id: res?.tc_customer_id,\r\n              jobsite_id: res?.tc_customer_job_site_id,\r\n              quotation_file: res?.tc_quotation_file,\r\n            }\r\n          )\r\n          // console.log(form.getFieldsValue())\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n\r\n    const getAllCustomers = () => {\r\n      axios\r\n        .post(\r\n          \"/api/tc/get-customers\",\r\n          {\r\n            page_index: 1,\r\n            page_size: 100000,\r\n            statuses: [\"ACTIVE\", \"INACTIVE\", \"PENDING APPROVAL\"],\r\n            searchText : null,\r\n          }\r\n        )\r\n        .then((response) => {\r\n          let res = response.data.data.data;\r\n          console.log(res);\r\n  \r\n          let fdata = res.map((elem, ind) => {\r\n            return {\r\n              key: ind,\r\n              id: elem.id,\r\n              company: elem.name,\r\n              phoneNumber: elem.phone,\r\n              emailId: elem.email\r\n            };\r\n          });\r\n  \r\n          setCustomerAccountData(customerAccountData.concat(fdata));\r\n          console.log(customerAccountData)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  \r\n    useEffect(() => {\r\n      if(param.id) {\r\n        setIsEdit(true)\r\n        getInvoiceDetails();\r\n      } else {\r\n        getQuotationDetails();\r\n      }\r\n      getAllCustomers();\r\n    }, []);\r\n  \r\n    const clearForm = () => {\r\n      form.resetFields();\r\n      setJobsData([]);\r\n      setJobFile(({\r\n        name: '',\r\n        url: ''\r\n      }));\r\n    }\r\n  \r\n    return (\r\n      <React.Fragment>\r\n        {showModal && saveQuotaionModal}\r\n        <PageHeading\r\n          title={isEdit ? \"Edit Invoice\" : \"Create New Invoice\"}\r\n        />\r\n  \r\n        <Form\r\n          form={form}\r\n          labelCol={{\r\n            span: 10,\r\n          }}\r\n          wrapperCol={{\r\n              span: 18,\r\n          }}\r\n          layout=\"vertical\"\r\n          onFinish={finishHandler}\r\n        >\r\n          {invoiceData ? <FormInvoice form={form} customer_id={invoiceData.tc_customer_id} \r\n          customers={customerAccountData} jobsData={jobsData} setJobsData={setJobsData} \r\n          jobFile={jobFile} setJobFile={setJobFile} jobFileUrl={invoiceData.tc_quotation_file}/> \r\n          : <FormInvoice form={form} customer_id={quotationData.tc_customer_id} \r\n          customers={customerAccountData} jobsData={jobsData} setJobsData={setJobsData} \r\n          jobFile={jobFile} setJobFile={setJobFile} jobFileUrl={quotationData.tc_quotation_file}/>}\r\n  \r\n          <Form.Item>\r\n            <div className=\"w-100 d-flex justify-content-start actions\">\r\n              <Button onClick={() => { history.goBack() }}>Cancel</Button>\r\n              <Button onClick={() => { clearForm() }}>Clear All</Button>\r\n              <Button type=\"primary\" htmlType=\"submit\" style={{width: 'fit-content'}}>Generate Invoice</Button>\r\n            </div>\r\n          </Form.Item>\r\n        </Form>\r\n  \r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\nexport default GenerateInvoice","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"ViewInvoice_card__q3Mux\",\"quotation-card\":\"ViewInvoice_quotation-card__u1r8n\",\"ant-card-body\":\"ViewInvoice_ant-card-body__vvvoL\",\"add_details\":\"ViewInvoice_add_details__6bhL7\",\"total_amt\":\"ViewInvoice_total_amt__a2LFw\",\"tag\":\"ViewInvoice_tag__eeOT+\",\"send_btn\":\"ViewInvoice_send_btn__Yuj0r\",\"action\":\"ViewInvoice_action__lPnlj\"};","import React , { useState, useEffect, useRef } from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport {\r\n  Card,\r\n  Typography,\r\n  Col,\r\n  Row,\r\n  List,\r\n  Divider,\r\n  Tag,\r\n  Button,\r\n  Select,\r\n  Table,\r\n  DatePicker,\r\n  Modal,\r\n  Input,\r\n  message\r\n  // Avatar,\r\n} from \"antd\";\r\nimport Icon from \"@ant-design/icons\"\r\nimport PageHeading from \"components/shared-components/PageHeading/PageHeading\";\r\nimport logo from \"assets/grand-energy-logo-small.png\";\r\nimport { ItemsAndServicesPageIcon } from \"assets/svg/icon\";\r\nimport HandBagImg from \"assets/HandBag.png\";\r\nimport SneakersImg from \"assets/Sneakers.png\";\r\nimport { PdfIcon } from \"../../../../ItemsAndServices/svgIcons\";\r\nimport classes from \"./ViewInvoice.module.css\";\r\nimport generatePDF, { Margin } from 'react-to-pdf';\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n\r\nconst { Title, Text } = Typography;\r\nconst options = {\r\n    page: {\r\n       margin: Margin.SMALL,\r\n    }\r\n};\r\n\r\nconst ViewInvoice = () => {\r\n    const targetRef = useRef();\r\n    const history = useHistory();\r\n    const param = useParams();\r\n\r\n    const [customerData , setCustomerData] = useState({\r\n        customerId: 0,\r\n        email: '',\r\n        name: '',\r\n        phone: '',\r\n        status: '',\r\n        profile_pic: '',\r\n        contact_name: '',\r\n        office_contact_number: '',\r\n        uen_number: '',\r\n        postal_code: '',\r\n        block_number: '',\r\n        level_number: '',\r\n        unit_number: '',\r\n        street_number: '',\r\n        country: '',\r\n        created_by: '',\r\n        other_details: {}\r\n    });\r\n    const [quoteData , setQuoteData] = useState({\r\n        id: 0,\r\n        customer_id: '',\r\n        jobsite_id: '',\r\n        customerName: '',\r\n        jobsite: '',\r\n        inquiryDate: '',\r\n        quotationDate: '',\r\n        amount: '',\r\n        status: '',\r\n        \r\n        tc_customer_id: '',\r\n        task_period_from_date: '',\r\n        task_period_to_date: '',\r\n        due_date: '',\r\n        sub_total: 0,\r\n        tax: 8,\r\n        discount: 0,\r\n        total: 0,\r\n        tc_quotation_file: '',\r\n        quotation_remarks: '',\r\n        line_items: [],\r\n    });\r\n    const [invoiceData , setInvoiceData] = useState({\r\n        id: 0,\r\n        customer_id: '',\r\n        jobsite_id: '',\r\n        customerName: '',\r\n        jobsite: '',\r\n        inquiryDate: '',\r\n        quotationDate: '',\r\n        amount: '',\r\n        status: '',\r\n        \r\n        tc_customer_id: '',\r\n        task_period_from_date: '',\r\n        task_period_to_date: '',\r\n        due_date: '',\r\n        sub_total: 0,\r\n        tax: 8,\r\n        discount: 0,\r\n        total: 0,\r\n        tc_quotation_file: '',\r\n        quotation_remarks: '',\r\n        line_items: [],\r\n    });\r\n    const [gstData, setGstData] = useState([]);\r\n    const [openContractModal , setOpenContractModal] = useState(false);\r\n    const [commencementDate , setCommencementDate] = useState(false);\r\n    const [expiryDate , setExpiryDate] = useState(false);\r\n    const [remindersData , setRemindersData] = useState([]);\r\n    const [contractType , setContractType] = useState(false);\r\n    const [contactData, setContactData] = useState([]);\r\n    const [grandTotal , setGrandTotal] = useState([\r\n      // { text: \"Grand Total\", amt: \"0\" }\r\n    ]);\r\n    const [dataGrandTotal , setDataGrandTotal] = useState([\r\n      // { text: \"Subtotal\", amt: \"0\" },\r\n      // { text: \"Discount\", amt: \"0\", tag: { text: \"0%\", color: \"#E82E2E\" } },\r\n      // { text: \"GST\", amt: \"0\", tag: { text: \"0%\", color: \"#0099A8\" } },\r\n    ]);\r\n    \r\n      const getInvoiceData = () => {\r\n        axios\r\n        .post(\r\n            \"/api/tc/get-invoice\",\r\n            {\r\n            id: +param.id,\r\n            },\r\n        )\r\n        .then((response) => {\r\n            let res = response.data.data;\r\n\r\n            setInvoiceData({\r\n                id: res?.id,\r\n                customer_id: res?.tc_customer_id,\r\n                jobsite_id: res?.tc_customer_job_site_id,\r\n                quotation_id: res?.tc_quotation_id,\r\n                customerName: res?.customer_name,\r\n                jobsite: res?.jobsite_name,\r\n                inquiryDate: res?.inquiry_date ? moment(res?.inquiry_date).format('DD-MM-YYYY HH:mm A'):'',\r\n                quotationDate: moment(res?.task_period_from_date).format('DD-MM-YYYY'),\r\n                amount: res?.total,\r\n                discount: res?.discount,\r\n                status: res?.status || 'Quote Sent',\r\n                \r\n                tc_customer_id: res?.tc_customer_id,\r\n                task_period_from_date: moment(res?.task_period_from_date),\r\n                task_period_to_date: moment(res?.task_period_to_date),\r\n                due_date: moment(res?.due_date).format('DD-MM-YYYY'),\r\n                sub_total: res?.sub_total || 0,\r\n                tax: res?.gst || 8,\r\n                discount: res?.discount || 0,\r\n                total: res?.total,\r\n                tc_quotation_file: res?.tc_quotation_file,\r\n                quotation_remarks: res?.quotation_remarks || '',\r\n                line_items: res?.line_items || [],\r\n                invoice_date: moment(res.created_at).format('DD-MM-YYYY')\r\n            })\r\n            console.log(invoiceData);\r\n\r\n            // if(res.tc_quotation_id) getQuotationData(res.tc_quotation_id);\r\n            if(res.tc_contract_id) getContractData(res.tc_contract_id);\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n      }\r\n\r\n      const getContractData = (contract_id) => {\r\n        axios\r\n        .post(\r\n            \"/api/tc/get-contract\",\r\n            {\r\n            id: +contract_id,\r\n            },\r\n        )\r\n        .then((response) => {\r\n            let res = response.data.data;\r\n\r\n            // setContractData({\r\n            //     id: res?.id,\r\n            //     customer_id: res?.tc_customer_id,\r\n            //     jobsite_id: res?.tc_customer_job_site_id,\r\n            //     quotation_id: res?.tc_quotation_id,\r\n            //     customerName: res?.customer_name,\r\n            //     jobsite: res?.job_site_name,\r\n            //     start_date: res?.start_date,\r\n            //     end_date: res?.end_date,\r\n            //     // status: res?.status || 'Quote Sent',\r\n            //     created_at: moment(res.created_at).format('DD-MM-YYYY hh:mm A')\r\n            // })\r\n            getQuotationData(res.tc_quotation_id, )\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n      }\r\n    \r\n      const getQuotationData = (q_id) => {\r\n        axios\r\n        .post(\r\n            \"/api/tc/get-quotation\",\r\n            {\r\n            id: q_id,\r\n            },\r\n        )\r\n        .then((response) => {\r\n            let res = response.data.data;\r\n\r\n            setQuoteData({\r\n                id: res?.id,\r\n                customer_id: res?.tc_customer_id,\r\n                jobsite_id: res?.tc_customer_job_site_id,\r\n                customerName: res?.customer_name,\r\n                jobsite: res?.jobsite_name,\r\n                inquiryDate: res?.inquiry_date ? moment(res?.inquiry_date).format('DD-MM-YYYY HH:mm A'):'',\r\n                quotationDate: moment(res?.task_period_from_date).format('DD-MM-YYYY'),\r\n                amount: res?.total,\r\n                status: res?.status || 'Quote Sent',\r\n                \r\n                tc_customer_id: res?.tc_customer_id,\r\n                task_period_from_date: moment(res?.task_period_from_date),\r\n                task_period_to_date: moment(res?.task_period_to_date),\r\n                due_date: moment(res?.due_date).format('DD-MM-YYYY'),\r\n                sub_total: res?.sub_total || 0,\r\n                tax: res?.gst || 8,\r\n                discount: res?.discount || 0,\r\n                total: res?.total,\r\n                tc_quotation_file: res?.tc_quotation_file,\r\n                quotation_remarks: res?.quotation_remarks || '',\r\n                line_items: res?.line_items || [],\r\n                payment_term: res?.payment_term || '',\r\n            })\r\n            console.log(quoteData);\r\n            if(res.tc_customer_id) getCustomerData(res.tc_customer_id);\r\n\r\n            let subtotal_amount = res.sub_total || res.total;\r\n            let total_amount = res.total;\r\n\r\n            let gst_percentage = res?.tax;\r\n            let gst_amount = (gst_percentage/100)*subtotal_amount;\r\n            let discount_percentage = invoiceData?.discount;\r\n            let discount_amount = 0;\r\n            if(discount_percentage) {\r\n              discount_amount = (discount_percentage/100)*res.total;\r\n              total_amount = total_amount - discount_amount;\r\n            }\r\n\r\n            if(res.total) {\r\n                setDataGrandTotal([\r\n                    { text: \"Subtotal\", amt: `${subtotal_amount || 0}` },\r\n                    { text: \"Discount\", amt: discount_amount, tag: { text: `${discount_percentage ||0}%`, color: \"#E82E2E\" } },\r\n                    { text: \"GST\", amt: `${gst_amount.toFixed(2) || 0}`, tag: { text: `${gst_percentage || 0}%`, color: \"#0099A8\" } },\r\n                ]);\r\n                setGrandTotal([\r\n                    { text: \"Grand Total\", amt: (total_amount).toFixed(2) }\r\n                ])\r\n            }\r\n            // getAllGst(res.total);\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n      }\r\n    \r\n      const getCustomerData = (cust_id) => {\r\n        axios\r\n        .post(\r\n            \"/api/tc/get-customer\",\r\n            {\r\n            id: cust_id,\r\n            },\r\n        )\r\n        .then((response) => {\r\n            let res = response.data.data;\r\n\r\n            if(res.other_details) {\r\n                let other_details = JSON.parse(res.other_details);\r\n                res = {...res, ...other_details}\r\n            }\r\n            setCustomerData({\r\n                customerId: res.id,\r\n                email: res.email,\r\n                name: res.name,\r\n                phone: res.phone,\r\n                status: res.status,\r\n                profile_pic: res?.profile_pic,\r\n                contact_name: res?.contact_name,\r\n                office_contact_number: res?.office_contact_number,\r\n                uen_number: res?.uen_number,\r\n                postal_code: res?.postal_code || '000000',\r\n                block_number: res?.block_number || '',\r\n                level_number: res?.level_number || '',\r\n                unit_number: res?.unit_number || '',\r\n                street_number: res?.street_number || '',\r\n                country: res?.country || 'Singapore',\r\n                created_by: res?.created_by || '',\r\n                other_details: res?.other_details\r\n            })\r\n            console.log(customerData)\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n      }\r\n\r\n      const getContactDetails = () => {\r\n        axios({\r\n          method: 'post',\r\n          url: \"/api/tc/get-contact-details\",\r\n          data: {},\r\n        }).then(function (response) {\r\n          console.log(response.data);\r\n          let res = response.data.data;\r\n          setContactData({\r\n            email: res.email,\r\n            mobile: res.mobile,\r\n            tel: res.tel,\r\n            address: res.address,\r\n          })\r\n        }).catch(function (error) {\r\n            console.log(error);\r\n        });\r\n      }\r\n\r\n      useEffect(() => {\r\n        getInvoiceData();\r\n        getContactDetails();\r\n      }, []);\r\n  \r\n    return (\r\n      <React.Fragment>\r\n  \r\n        {/* {showModal && <Modal onClose={showModalHandler}><SendQuotationModal/></Modal>} */}\r\n        <PageHeading\r\n          svg={ItemsAndServicesPageIcon}\r\n          title=\"Invoices / View Invoice\"\r\n        />\r\n        \r\n        <Card className=\"quotation-card\">\r\n            <div ref={targetRef}>\r\n                <Card className={classes.card}>\r\n                    <div className=\"mt-2 mb-2 w-100\">\r\n                    <img src={logo} alt=\"logo\" style={{width: '20%'}}/>\r\n                    <div className=\"d-flex justify-content-between mt-3\">\r\n                        <div>\r\n                        <Title strong level={3}>\r\n                            GRAND ENERGY TECHNOLOGIES PTE LTD\r\n                        </Title>\r\n                        <Text><b>Email:</b> {contactData.email || ''}</Text>\r\n                        </div>\r\n                        <div></div>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div>\r\n                        <Text><b>Phone:</b> {contactData.tel || ''}</Text>\r\n                        <br />\r\n                        <Text><b>UEN/GST No:</b> 201802457D</Text>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                        <Text>Bik 130 Jurong Gateway Road </Text>\r\n                        <br />\r\n                        <Text>#03-203 Singapore 600130 </Text>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </Card>\r\n                <Card className={classes.add_details}>\r\n                    <div>\r\n                    <h5>Billed To:</h5>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                    <div className=\"mr-5\">\r\n                        {/* <Title strong level={3}>\r\n                        Billed To\r\n                        </Title> */}\r\n                        <br />\r\n                        <Text strong>{customerData.name}</Text>\r\n                        <br />\r\n                        <Text>{`${customerData.block_number} ${customerData.street_number}, ${customerData.level_number}, ${customerData.unit_number}`}</Text>\r\n                        <br />\r\n                        <Text>{`${customerData.country}, ${customerData.postal_code}`}</Text>\r\n                        <br />\r\n                        <br />\r\n                        <Text>{customerData.email}</Text>\r\n                        <br />\r\n                        <Text><b>Phone:</b> {customerData.phone}</Text>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"mr-4\">\r\n                        <br />\r\n                        <Text strong>Invoice No</Text>\r\n                        <br />\r\n                        <Text>#{invoiceData.id}</Text>\r\n                        <br />\r\n                        <br />\r\n                        <Text strong>Invoice Date</Text>\r\n                        <br />\r\n                        <Text>{invoiceData.created_at}</Text>\r\n                        <br />\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                        <br />\r\n                        <Text strong>Payment Term</Text>\r\n                        <br />\r\n                        <Text>{quoteData.payment_term}</Text>\r\n                        <br />\r\n                        <br />\r\n                        <Text strong>Validity</Text>\r\n                        <br />\r\n                        <Text>{quoteData.validity}</Text>\r\n                        <br />\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </Card>\r\n        \r\n                <div>\r\n                    <Row>\r\n                    <Col span={3}>\r\n                        <Title level={4}>Sr. No.</Title>\r\n                        <List\r\n                        // dataSource={dataItems}\r\n                        dataSource={quoteData.line_items}\r\n                        renderItem={(item, index) => (\r\n                            <List.Item key={item.name} className=\" pl-0 border-0\">\r\n                            {index + 1}\r\n                            </List.Item>\r\n                        )}\r\n                        />\r\n                    </Col>\r\n                    <Col span={21}>\r\n                        <Row>\r\n                        <Col span={8}>\r\n                            <Title level={4}>Description</Title>\r\n                            <List\r\n                            // dataSource={dataServices}\r\n                            dataSource={quoteData.line_items}\r\n                            renderItem={(item) => (\r\n                                <List.Item key={item.name} className=\"pl-0 border-0\">\r\n                                <div\r\n                                    style={{ height: \"32px\" }}\r\n                                    className=\"d-flex align-items-center\"\r\n                                >\r\n                                    {item.name}\r\n                                </div>\r\n                                </List.Item>\r\n                            )}\r\n                            />\r\n                        </Col>\r\n                        <Col span={5}>\r\n                            <Title level={4}>Provisional Qty</Title>\r\n                            <List\r\n                            // dataSource={dataQty}\r\n                            dataSource={quoteData.line_items}\r\n                            renderItem={(item) => (\r\n                                <List.Item key={item.quantity} className=\"border-0\">\r\n                                <div\r\n                                    style={{ height: \"32px\" }}\r\n                                    className=\"d-flex align-items-center\"\r\n                                >\r\n                                    {item.quantity}\r\n                                </div>\r\n                                </List.Item>\r\n                            )}\r\n                            />\r\n                        </Col>\r\n                        <Col span={5}>\r\n                            <Title level={4}>Unit Price(S$)</Title>\r\n                            <List\r\n                            // dataSource={dataPrice}\r\n                            dataSource={quoteData.line_items}\r\n                            renderItem={(item) => (\r\n                                <List.Item key={item.price} className=\"pl-0 border-0\">\r\n                                <div\r\n                                    style={{ height: \"32px\" }}\r\n                                    className=\"d-flex align-items-center\"\r\n                                >\r\n                                    {item.price}\r\n                                </div>\r\n                                </List.Item>\r\n                            )}\r\n                            />\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Title level={4}>SUBTOTAL(S$)</Title>\r\n                            <List\r\n                            // dataSource={dataTotal}\r\n                            dataSource={quoteData.line_items}\r\n                            renderItem={(item) => (\r\n                                <List.Item key={item.total} className=\"pl-0 border-0\">\r\n                                <div\r\n                                    style={{ height: \"32px\" }}\r\n                                    className=\"d-flex align-items-center\"\r\n                                >\r\n                                    {item.total}\r\n                                </div>\r\n                                </List.Item>\r\n                            )}\r\n                            />\r\n                        </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    </Row>\r\n                </div>\r\n                <Divider />\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <Row\r\n                      style={{ width: \"40%\" }}\r\n                      className=\"d-flex justify-content-center\"\r\n                    >\r\n                      <Col span={12}>\r\n                          <List\r\n                          dataSource={dataGrandTotal}\r\n                          renderItem={(item) => (\r\n                              <List.Item\r\n                              key={item.text}\r\n                              className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                              >\r\n                              <div className=\"d-flex align-items-center \">\r\n                                  <Text strong>{item.text}</Text>\r\n                                  {item.tag && (\r\n                                  <div className={classes.total_amt}>\r\n                                      {/* <Tag\r\n                                      color={item.tag.color}\r\n                                      className={`h-100 w-100 ${classes.tag}`}\r\n                                      style={{borderRadius: '1.5px', paddingTop: '1px'}}\r\n                                      >\r\n                                      {item.tag.text}\r\n                                      </Tag> */}\r\n                                      <span style={{background: (item.tag.color), padding: '1.5px 4px'}}\r\n                                      className=\"ml-2 \"\r\n                                      >{item.tag.text}</span>\r\n                                  </div>\r\n                                  )}\r\n                              </div>\r\n                              </List.Item>\r\n                          )}\r\n                          />\r\n                      </Col>\r\n                      <Col span={12}>\r\n                          <List\r\n                          dataSource={dataGrandTotal}\r\n                          renderItem={(item) => (\r\n                              <List.Item\r\n                              key={item.amt}\r\n                              className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                              >\r\n                              <div className=\"d-flex align-items-center\">S$ {item.amt}</div>\r\n                              </List.Item>\r\n                          )}\r\n                          />\r\n                      </Col>\r\n                      <Divider />\r\n\r\n                      <Col span={12}>\r\n                          <List\r\n                          dataSource={grandTotal}\r\n                          renderItem={(item) => (\r\n                              <List.Item\r\n                              key={item.text}\r\n                              className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                              >\r\n                              <div className=\"d-flex align-items-center \">\r\n                                  <Text strong>{item.text}</Text>\r\n                              </div>\r\n                              </List.Item>\r\n                          )}\r\n                          />\r\n                      </Col>\r\n                      <Col span={12}>\r\n                          <List\r\n                          dataSource={grandTotal}\r\n                          renderItem={(item) => (\r\n                              <List.Item\r\n                              key={item.amt}\r\n                              className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                              >\r\n                              <div className=\"d-flex align-items-center\">S$ {item.amt}</div>\r\n                              </List.Item>\r\n                          )}\r\n                          />\r\n                      </Col>\r\n                    </Row>\r\n                </div>\r\n\r\n                <Divider />\r\n\r\n                <div className=\"text-left w-75 mt-2\" style={{fontSize: '14px'}}>\r\n                   <h5>Term and Conditions</h5>\r\n                   <ol>\r\n                      <li>{quoteData.customerName} shall obtained all approvals from relevant authorities/stakeholders and facilitate our site personnel for site safety procedures including working at night or weekend/public holidays.</li>\r\n                      <li>{quoteData.customerName} site supervisor shall be presented during the whole course of installation work and final joint measurement.</li>\r\n                      <li>50% downpayment upon confirmation, 50% upon completion of work.</li>\r\n                      <li>All price quote excludes GST.</li>\r\n                      <li>We shall not be liable for any loss, damage or injury or any consequential or indirect loss sustained by you or third parties pertaining to the works.</li>\r\n                      <li>Any other items which is not specifically indicated above. Any liability on this job is limited to half of the relevant sum awarded.</li>\r\n                   </ol>\r\n                   <p>We look forward to your confirmation</p>\r\n                </div>\r\n                <div className=\"mt-5 d-flex justify-content-between\" style={{fontSize: '14px'}}>\r\n                   <div style={{width: '40%'}}>\r\n                      <Divider />\r\n                      <h5><b>Grand Energy Technologies Pte Ltd</b></h5>\r\n                      <div style={{color: '#72849A'}}>GET Manager</div>\r\n                      <div style={{color: '#72849A'}}>{quoteData.quotationDate}</div>\r\n                   </div>\r\n                   <div style={{width: '20%'}}>\r\n                      {/* <Divider />\r\n                      <h5><b>Customer Signature</b></h5>\r\n                      <div style={{color: '#72849A'}}>Name: </div>\r\n                      <div style={{color: '#72849A'}}>Designation: </div>\r\n                      <div style={{color: '#72849A'}}>Date: </div> */}\r\n                   </div>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n  \r\n        <div className={`d-flex justify-content-between ${classes.action}`}>\r\n            <div className=\"d-flex\">\r\n                <Button className=\"mr-1\" onClick={() => {history.goBack()}}>\r\n                    Back\r\n                </Button>\r\n                <Button className=\"mr-1\" style={{backgroundColor: '#5772FF', color: '#fff'}} onClick={() => {}} disabled>\r\n                    Record Payment\r\n                </Button>\r\n            </div>\r\n            <Button onClick={() => {\r\n              console.log(\"Downloading Quotation...\");\r\n              generatePDF(targetRef, options, {filename: 'Quotation.pdf'});\r\n            }}>\r\n              <Icon component={PdfIcon} />\r\n              Download PDF\r\n            </Button>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default ViewInvoice","\r\nexport const ViewDetailsIcon = () =>(\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14787)\">\r\n<path d=\"M10.1667 5.66667C13.325 5.66667 16.1417 7.44167 17.5167 10.25C16.1417 13.0583 13.325 14.8333 10.1667 14.8333C7.00833 14.8333 4.19167 13.0583 2.81667 10.25C4.19167 7.44167 7.00833 5.66667 10.1667 5.66667ZM10.1667 4C6 4 2.44167 6.59167 1 10.25C2.44167 13.9083 6 16.5 10.1667 16.5C14.3333 16.5 17.8917 13.9083 19.3333 10.25C17.8917 6.59167 14.3333 4 10.1667 4ZM10.1667 8.16667C11.3167 8.16667 12.25 9.1 12.25 10.25C12.25 11.4 11.3167 12.3333 10.1667 12.3333C9.01667 12.3333 8.08333 11.4 8.08333 10.25C8.08333 9.1 9.01667 8.16667 10.1667 8.16667ZM10.1667 6.5C8.1 6.5 6.41667 8.18333 6.41667 10.25C6.41667 12.3167 8.1 14 10.1667 14C12.2333 14 13.9167 12.3167 13.9167 10.25C13.9167 8.18333 12.2333 6.5 10.1667 6.5Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14787\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const DeleteIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14792)\">\r\n<path d=\"M13.1667 8V16.3333H6.5V8H13.1667ZM11.9167 3H7.75L6.91667 3.83333H4V5.5H15.6667V3.83333H12.75L11.9167 3ZM14.8333 6.33333H4.83333V16.3333C4.83333 17.25 5.58333 18 6.5 18H13.1667C14.0833 18 14.8333 17.25 14.8333 16.3333V6.33333Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14792\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const SendQuotationIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14797)\">\r\n<path d=\"M11.2167 8.01667L11.9833 8.78333L4.43333 16.3333H3.66667V15.5667L11.2167 8.01667ZM14.2167 3C14.0083 3 13.7917 3.08333 13.6333 3.24167L12.1083 4.76667L15.2333 7.89167L16.7583 6.36667C17.0833 6.04167 17.0833 5.51667 16.7583 5.19167L14.8083 3.24167C14.6417 3.075 14.4333 3 14.2167 3ZM11.2167 5.65833L2 14.875V18H5.125L14.3417 8.78333L11.2167 5.65833Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14797\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const RecordPaymentsIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_3143_14802)\">\r\n<path d=\"M15.8334 11.6668V5.00016C15.8334 4.0835 15.0834 3.3335 14.1667 3.3335H2.50004C1.58337 3.3335 0.833374 4.0835 0.833374 5.00016V11.6668C0.833374 12.5835 1.58337 13.3335 2.50004 13.3335H14.1667C15.0834 13.3335 15.8334 12.5835 15.8334 11.6668ZM14.1667 11.6668H2.50004V5.00016H14.1667V11.6668ZM8.33337 5.8335C6.95004 5.8335 5.83337 6.95016 5.83337 8.3335C5.83337 9.71683 6.95004 10.8335 8.33337 10.8335C9.71671 10.8335 10.8334 9.71683 10.8334 8.3335C10.8334 6.95016 9.71671 5.8335 8.33337 5.8335ZM19.1667 5.8335V15.0002C19.1667 15.9168 18.4167 16.6668 17.5 16.6668H3.33337V15.0002H17.5V5.8335H19.1667Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_3143_14802\">\r\n<rect width=\"20\" height=\"20\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const CreateContractIcon = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_886_17351)\">\r\n<path d=\"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V8H18V20H6ZM11 19H13V18H14C14.55 18 15 17.55 15 17V14C15 13.45 14.55 13 14 13H11V12H15V10H13V9H11V10H10C9.45 10 9 10.45 9 11V14C9 14.55 9.45 15 10 15H13V16H9V18H11V19Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_886_17351\">\r\n<rect width=\"24\" height=\"24\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)","import React from \"react\";\r\nimport { useHistory , useRouteMatch} from \"react-router-dom\";\r\n// import EllipsisDropdown from 'components/shared-components/EllipsisDropdown'\r\nimport Icon from \"@ant-design/icons\";\r\nimport EllipsisDropdown from \"components/shared-components/EllipsisDropdown/index\";\r\nimport { Menu, message } from \"antd\";\r\nimport { ViewDetailsIcon , CreateContractIcon, SendQuotationIcon } from \"./ActionIcons\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n\r\nconst Actions = ({contract_id,setOpenContractModal,record,getData,setQuoteData,setJobsData}) => {\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst viewContractHandler = () => {\r\n    history.push(`/app/contract-management/work-orders/view-work-order/${contract_id}`);\r\n\t}\r\n  \r\n\tconst viewContractDetailsHandler = () => {\r\n    history.push(`${match.path}/view-contract-details/${contract_id}`);\r\n\t}\r\n  \r\n\tconst editContractHandler = () => {\r\n    // history.push(`${match.path}/edit-contract/${contract_id}`);\r\n    history.push(`${match.path}/view-contract-details/${contract_id}`);\r\n\t}\r\n  const createContractHandler = () => {\r\n    setOpenContractModal(true)\r\n    setQuoteData(record)\r\n    setJobsData(record.line_items ? JSON.parse(record.line_items) : [])\r\n\t}\r\n\r\n\r\n  return (\r\n    <EllipsisDropdown\r\n      menu={\r\n        <Menu>\r\n           {/* <Menu.Item onClick={createContractHandler} disabled={record.status==='Completed'}>\r\n              <span className=\"d-flex align-items-center\">\r\n                <Icon className=\"mr-2\" component={CreateContractIcon} /> Create Work Order\r\n              </span>\r\n            </Menu.Item> */}\r\n            {/* <Menu.Item  onClick={updateStatus} disabled={record.status==='Completed'}>\r\n              <span className=\"d-flex align-items-center\">\r\n                <Icon className=\"mr-2\" component={SendQuotationIcon} /> Mark as Complete \r\n              </span>\r\n            </Menu.Item> */}\r\n          {/* <Menu.Item onClick={editContractHandler}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={CreateContractIcon} />Edit Contract</span>\r\n          </Menu.Item> */}\r\n\r\n          {/* <Menu.Item onClick={viewContractDetailsHandler}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={CreateContractIcon} />View Contract Details</span>\r\n          </Menu.Item> */}\r\n            <Menu.Item onClick={createContractHandler} disabled={record.status === 'Completed'}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={CreateContractIcon} /> Create Service Entry Sheet\r\n            </span>\r\n          </Menu.Item>\r\n          <Menu.Item onClick={viewContractHandler}>\r\n            <span className=\"d-flex align-items-center\">\r\n              <Icon className=\"mr-2\" component={ViewDetailsIcon} />\r\n              View Service Order\r\n            </span>\r\n          </Menu.Item>\r\n        </Menu>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default Actions;\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport { Table, Button, Tag, Input, Modal, DatePicker, TimePicker, message, Select, InputNumber } from 'antd';\r\nimport Avatar from 'assets/Avatar2.png'\r\nimport Actions from './Actions';\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\n\r\n\r\nconst ContractTable = ({ setsetPage, searchText, statuses, selectedFilter, selectedCustomerFilter, id, selectedJobsiteFilter, selectedTypeFilter, selectedStatusFilter }) => {\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const [contractsData, setContractsData] = useState([]);\r\n  const [openContractModal, setOpenContractModal] = useState(false);\r\n  const [commencementDate, setCommencementDate] = useState(null);\r\n  const [contractType, setContractType] = useState(null);\r\n  const [quoteData, setQuoteData] = useState({});\r\n  const [expiryDate, setExpiryDate] = useState(null);\r\n  const customer_id = localStorage.getItem(\"customer_id\");\r\n\r\n  const [jobsData, setJobsData] = useState([]);\r\n  const [description, setDescription] = useState('');\r\n  const [quantity, setQuantity] = useState(null);\r\n  const [unitPrice, setUnitPrice] = useState(null);\r\n  const [co_regn_no, setCo_regn_no] = useState('');\r\n  const [gl_number, setGl_number] = useState('');\r\n  const [project_number, setProject_number] = useState('');\r\n\r\n  const [openJobModal, setOpenJobModal] = useState(false);\r\n  const [remindersData, setRemindersData] = useState([]);\r\n  const removeReminder = (record) => {\r\n    let newRemindersData = remindersData.filter((elem) => elem.sr_no !== record.sr_no);\r\n    setRemindersData(newRemindersData);\r\n  }\r\n\r\n\r\n  const selectChangeHandler = (newSelectedRowKeys) => {\r\n    setSelectedRowKeys(newSelectedRowKeys);\r\n  };\r\n\r\n  const handleContractCancel = () => {\r\n    setOpenContractModal(false);\r\n  };\r\n\r\n\r\n  const columns = [\r\n    {\r\n      title: ' Id',\r\n      dataIndex: 'id',\r\n    },\r\n    {\r\n      title: 'Customer Name',\r\n      dataIndex: 'customer_name',\r\n      // defaultSortOrder: 'descend',\r\n      // sorter: (a, b) => a.customerName - b.customerName,\r\n    },\r\n    {\r\n      title: 'Jobsite',\r\n      dataIndex: 'job_site_name',\r\n\r\n    },\r\n    // {\r\n    //   title: 'Contract Type',\r\n    //   dataIndex: 'contract_type',\r\n\r\n    // },\r\n    {\r\n      title: 'Commence On',\r\n      dataIndex: 'commence_on',\r\n\r\n    },\r\n    {\r\n      title: 'Expired On',\r\n      dataIndex: 'expire_on',\r\n\r\n    },\r\n    {\r\n      title: 'Status',\r\n      dataIndex: 'status',\r\n      render: (_, record) => {\r\n        const statusStyles = {\r\n          color: \"#00AB6F\",\r\n          backgroundColor: \"#EDFFF9\",\r\n          padding: \"4px 8px\",\r\n          borderRadius: \"6px\",\r\n          fontWeight: \"600\",\r\n          fontSize: \"14px\",\r\n        };\r\n\r\n       \r\n        return (\r\n          <span style={statusStyles} key={record.status}>\r\n            {record.status}\r\n          </span>\r\n        );\r\n        // if(record.status.toUpperCase()==='EXPIRED') return <span style={{color: '#F53434', backgroundColor: '#FFF2F2', padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Expired</span>\r\n        // else if(record.status.toUpperCase()==='INACTIVE') return <span style={{color: '#F53434', backgroundColor: '#FFF2F2', padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Inactive</span>\r\n        // else return <span style={{color: \"#00AB6F\", backgroundColor: \"#EDFFF9\", padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Active</span>\r\n      }\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '',\r\n      key: 'x',\r\n      render: (_, record) => <Actions setJobsData={setJobsData} setQuoteData={setQuoteData} contract_id={record.id} record={record} setOpenContractModal={setOpenContractModal} getData={getData} />,\r\n    },\r\n  ];\r\n\r\n  const removeJob = (record) => {\r\n    let jobs = jobsData.filter((e) => e != record);\r\n    setJobsData(jobs)\r\n  }\r\n  const onChangeDesc = (event) => {\r\n    setDescription(event.target.value)\r\n  }\r\n\r\n  const onChangeProvisional = (value) => {\r\n    setQuantity(value)\r\n  }\r\n\r\n  const onChangeUnit = (value) => {\r\n    setUnitPrice(value)\r\n  }\r\n  const columns2 = [\r\n    {\r\n      title: 'SR NO',\r\n      dataIndex: 'sr_no',\r\n    },\r\n    {\r\n      title: 'DESCRIPTION',\r\n      dataIndex: 'name',\r\n    },\r\n    {\r\n      title: 'QTY',\r\n      dataIndex: 'quantity',\r\n    },\r\n    {\r\n      title: 'UNIT PRICE',\r\n      dataIndex: 'price',\r\n    },\r\n    {\r\n      title: 'SUBTOTAL',\r\n      dataIndex: 'total',\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '',\r\n      render: (_, record) => {\r\n        return <Button type=\"danger\" className='mt-2' onClick={() => { removeJob(record) }}>Remove</Button>\r\n      },\r\n    },\r\n  ];\r\n\r\n  const handleJobOk = () => {\r\n    if (!description) message.error(\"Please fill Description\");\r\n    if (!quantity) message.error(\"Please fill Quantity\");\r\n    if (!unitPrice) message.error(\"Please fill Unit Price\");\r\n\r\n    setJobsData([...jobsData, {\r\n      sr_no: jobsData.length + 1,\r\n      name: description,\r\n      quantity: quantity,\r\n      price: unitPrice,\r\n      total: (+quantity * +unitPrice) || 0\r\n      // total: (+jobDetailsTemp.provisionalQty * +jobDetailsTemp.unitPrice) || 0\r\n    }]);\r\n    setDescription('');\r\n    setQuantity(null);\r\n    setUnitPrice(null);\r\n    setOpenJobModal(false);\r\n  }\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: selectChangeHandler\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-work-orders\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 10,\r\n          ...id && { contract_id: +id },\r\n          // statuses: [\"ACTIVE\", \"INACTIVE\"],\r\n          statuses: null,\r\n          search: searchText ? searchText : null,\r\n          customer_id: selectedCustomerFilter || null,\r\n          job_site_id: selectedJobsiteFilter || null,\r\n          status: selectedStatusFilter || null,\r\n          contract_type: selectedTypeFilter || null,\r\n          customer_id: customer_id,\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            ...elem,\r\n            key: elem.id,\r\n            id: elem.id,\r\n            customer_name: elem.customer_name || elem.tc_customer_id,\r\n            jobsite_name: elem.jobsite_name || (elem.tc_customer_job_site_id || '-'),\r\n            contract_type: elem.type,\r\n            commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n            expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n            contract_type: elem.type,\r\n            status: elem.status,\r\n            start_date: elem.start_date,\r\n          };\r\n        });\r\n        setContractsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [searchText]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-work-orders\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 10,\r\n          ...id && { contract_id: +id },\r\n          statuses: null,\r\n          search: searchText ? searchText : null,\r\n          customer_id: selectedCustomerFilter || null,\r\n          job_site_id: selectedJobsiteFilter || null,\r\n          status: selectedStatusFilter || null,\r\n          contract_type: selectedTypeFilter || null,\r\n          customer_id: customer_id,\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            ...elem,\r\n            key: elem.id,\r\n            id: elem.id,\r\n            customer_name: elem.customer_name || elem.tc_customer_id,\r\n            jobsite_name: elem.jobsite_name || (elem.tc_customer_job_site_id || '-'),\r\n            contract_type: elem.type,\r\n            commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n            expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n            contract_type: elem.type,\r\n            status: elem.status,\r\n            start_date: elem.start_date,\r\n          };\r\n        });\r\n        setContractsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [selectedFilter]);\r\n\r\n  const getData = () => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-work-orders\",\r\n        {\r\n          page_index: 1,\r\n          page_size: 10,\r\n          statuses: null,\r\n          ...id && { contract_id: +id },\r\n          search: searchText ? searchText : null,\r\n          customer_id: selectedCustomerFilter || null,\r\n          job_site_id: selectedJobsiteFilter || null,\r\n          status: selectedStatusFilter || null,\r\n          contract_type: selectedTypeFilter || null,\r\n          customer_id: customer_id,\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data.data;\r\n        console.log(res);\r\n\r\n        let fdata = res.map((elem, ind) => {\r\n          return {\r\n            ...elem,\r\n            key: elem.id,\r\n            id: elem.id,\r\n            customer_name: elem.customer_name || elem.tc_customer_id,\r\n            jobsite_name: elem.jobsite_name || (elem.tc_customer_job_site_id || '-'),\r\n            contract_type: elem.type,\r\n            commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n            expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n            contract_type: elem.type,\r\n            status: elem.status,\r\n            start_date: elem.start_date,\r\n          };\r\n        });\r\n        setContractsData(fdata);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  const commencementDateChange = (date) => {\r\n    // contractData.date_of_commencement = date;\r\n    // let newContractData = contractData;\r\n    // newContractData.date_of_commencement = date;\r\n    // console.log(newContractData);\r\n\r\n    setCommencementDate(date);\r\n  }\r\n\r\n  const expiryDateChange = (date) => {\r\n    setExpiryDate(date);\r\n  }\r\n\r\n  const handleAddReminder = () => {\r\n    setRemindersData([...remindersData, {\r\n      sr_no: remindersData.length + 1,\r\n      date: null,\r\n      title: '',\r\n      description: '',\r\n    }]);\r\n  };\r\n  const reminderColumns = [\r\n    {\r\n      title: 'Sr. No.',\r\n      dataIndex: 'sr_no',\r\n    },\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'date',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <DatePicker value={record.date} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].date = e\r\n              setRemindersData([...data])\r\n            }} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Time',\r\n      dataIndex: 'time',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <TimePicker value={record.time} className='w-100' format={'HH:mm A'} use12Hours={true} onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].time = e;\r\n              setRemindersData([...data])\r\n            }} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Title',\r\n      dataIndex: 'title',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <Input value={record.title} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].title = e.target.value\r\n              setRemindersData([...data])\r\n            }} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Content',\r\n      dataIndex: 'description',\r\n      render: (_, record) => {\r\n        return (\r\n          <div>\r\n            <Input value={record.description} className='w-100' onChange={(e) => {\r\n              let data = remindersData\r\n              let index = remindersData.findIndex((elem) => elem === record)\r\n              data[index].description = e.target.value\r\n              setRemindersData([...data])\r\n            }} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '',\r\n      key: 'x',\r\n      render: (_, record) => <Button type='danger' onClick={() => { removeReminder(record) }} className='font-weight-bold'>remove</Button>,\r\n    },\r\n  ];\r\n\r\n\r\n  const handleCancel = () => {\r\n    setOpenContractModal(false);\r\n    setOpenJobModal(false);\r\n    setCommencementDate(null);\r\n    setExpiryDate(null);\r\n    setRemindersData([]);\r\n\r\n    setCo_regn_no('');\r\n    setGl_number('');\r\n    setProject_number('');\r\n    setDescription('');\r\n    setQuantity(null);\r\n    setUnitPrice(null);\r\n    setJobsData([]);\r\n  };\r\n\r\n  const handleContractOk = () => {\r\n    console.log(quoteData);\r\n    // if (!commencementDate || !expiryDate || !direct_to_pc || !co_regn_no || !contract_number || !wbs_element || !network_activity || !officer_in_charge) {\r\n    //   message.error('Please fill all the fields');\r\n    //   return;\r\n    // }\r\n    if (!commencementDate || !expiryDate || !contractType || !gl_number || !project_number || !co_regn_no) {\r\n      message.error('Please fill all the fields');\r\n      return;\r\n    }\r\n\r\n\r\n    axios\r\n      .post(\r\n        \"/api/tc/new-service_entry_sheet\",\r\n        {\r\n          tc_quotation_id: quoteData.quotation_id,\r\n          date: moment(),\r\n          tc_contract_id: quoteData.tc_contract_id,\r\n          tc_customer_id: quoteData.tc_customer_id,\r\n          tc_customer_job_site_id: quoteData.tc_customer_job_site_id || null,\r\n          tc_quotation_id: quoteData.tc_quotation_id,\r\n          tc_work_order_id: quoteData.id,\r\n          target_completion_date: moment(commencementDate),\r\n          actual_completion_date: moment(expiryDate),\r\n          order_type: contractType,\r\n          gl_number: gl_number,\r\n          project_number: project_number,\r\n          co_regn_no: co_regn_no,\r\n          line_items: (jobsData),\r\n\r\n          status: 'Active'\r\n        },\r\n      )\r\n      .then((response) => {\r\n        console.log(response);\r\n        setCommencementDate(null);\r\n        setExpiryDate(null);\r\n        setContractType(null);\r\n        setRemindersData([]);\r\n        setOpenContractModal(false);\r\n        setGl_number('');\r\n        setProject_number('');\r\n        setCo_regn_no('');\r\n\r\n        getData();\r\n        window.location.reload();\r\n\r\n\r\n        // updateStatus();\r\n        message.success('Service TimeSheet created successfully');\r\n        // updateQuotationStatus();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setOpenContractModal(false);\r\n        message.error('Work Order creation failed');\r\n      });\r\n  };\r\n\r\n\r\n  const funOpenJobModal = () => {\r\n    setOpenJobModal(true)\r\n  }\r\n  return (\r\n    <div>\r\n      <Table columns={columns} dataSource={contractsData} />\r\n      <Modal\r\n        visible={openContractModal}\r\n        centered\r\n        maskClosable\r\n        width={900}\r\n        onCancel={handleCancel}\r\n        title={'Create Service Entry Sheet'}\r\n        footer={[\r\n          <Button style={{ color: '#F5F5F5' }} type='primary' className='font-weight-bold' onClick={handleContractOk}>Save</Button>,\r\n          <Button style={{ color: '#000B23' }} onClick={handleContractCancel} className='font-weight-bold'>Cancel</Button>,\r\n        ]}\r\n      >\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">Target Completion Date</h4>\r\n          <DatePicker value={commencementDate} onChange={commencementDateChange} />\r\n        </div>\r\n\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">Actual Completion Date</h4>\r\n          <DatePicker value={expiryDate} onChange={expiryDateChange} />\r\n        </div>\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">GL Number</h4>\r\n          <Input value={gl_number} onChange={(e) => {\r\n            setGl_number(e.target.value)\r\n          }}\r\n          />\r\n\r\n        </div>\r\n\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">Project Number</h4>\r\n          <Input value={project_number} onChange={(e) => {\r\n            setProject_number(e.target.value)\r\n          }}\r\n          />\r\n        </div>\r\n\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">CO Regn No</h4>\r\n          <Input value={co_regn_no} onChange={(e) => {\r\n            setCo_regn_no(e.target.value)\r\n          }}\r\n          />\r\n        </div>\r\n\r\n\r\n\r\n\r\n        <div className='w-100'>\r\n          <h4 className=\"mb-2 mt-4\">Contract Type</h4>\r\n          <Select\r\n            className='w-100'\r\n            showSearch\r\n            placeholder=\"Contract Type\"\r\n            value={contractType}\r\n            onChange={(e) => {\r\n              setContractType(e)\r\n            }}\r\n          >\r\n            <Select.Option title={'None'} key={0} value={'None'}>{'None'}</Select.Option>\r\n            <Select.Option title={'Ad Hoc'} key={1} value={'Ad Hoc'}>{'Ad Hoc'}</Select.Option>\r\n            <Select.Option title={'Routine'} key={2} value={'Routine'}>{'Routine'}</Select.Option>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <Table columns={columns2} dataSource={jobsData} />\r\n          <div className=\"d-flex justify-content-end\">\r\n            <Button type=\"primary\" onClick={funOpenJobModal} className='mt-2'>Add Job</Button>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </Modal>\r\n      <Modal\r\n        visible={openJobModal}\r\n        centered\r\n        maskClosable\r\n        onCancel={handleCancel}\r\n        title={'Job Details'}\r\n        footer={[\r\n          <Button type=\"primary\" className='font-weight-bold' onClick={handleJobOk}>Save</Button>,\r\n          <Button style={{ color: '#000B23' }} onClick={() => {\r\n            setDescription('');\r\n            setQuantity(null);\r\n            setUnitPrice(null);\r\n            setOpenJobModal(false);\r\n          }} className='font-weight-bold'>Cancel</Button>,\r\n        ]}\r\n      >\r\n        <div>\r\n          <h4 className=\"mb-2\">Description</h4>\r\n          <TextArea rows={4} onChange={onChangeDesc} value={description} />\r\n        </div>\r\n\r\n        <div>\r\n          <h4 className=\"mb-2 mt-2\"> Quantity</h4>\r\n          <InputNumber min={0} onChange={onChangeProvisional} value={quantity} />\r\n        </div>\r\n\r\n        <div>\r\n          <h4 className=\"mb-2 mt-2\">Unit Price</h4>\r\n          <InputNumber min={0} onChange={onChangeUnit} value={unitPrice} />\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ContractTable","import { Button, Dropdown, Menu, Space, Select, Drawer } from 'antd'\r\nimport React, { useState, useEffect } from 'react'\r\nimport SearchBox from 'components/shared-components/SearchBox';\r\nimport axios from 'axios';\r\nimport exportIcon from \"assets/svg/exportIcon.svg\";\r\nimport PageHeading from 'components/shared-components/PageHeading/PageHeading';\r\nimport Icon from \"@ant-design/icons\"\r\nimport { FilterIcon, ItemsAndServicesIcon } from \"assets/svg/icon\";\r\nimport ContractTable from './ContractTable';\r\nimport { CSVLink } from \"react-csv\";\r\nimport moment from \"moment\";\r\n\r\n// import { Link } from 'react-router-dom';\r\n// import plusIcon from \"assets/svg/plus.svg\";\r\n// import UserManagementIcon from \"assets/svg/usermManagementPage.svg\";\r\n// import filterIcon from \"assets/svg/filterIcon.svg\";\r\n// import Filter from 'views/app-views/UserManagement/UserList/Filter';\r\n\r\n\r\nfunction WorkOrder({id}) {\r\n\r\n  const [searchText, setSearchText] = useState('')\r\n  const [setPage, setsetPage] = useState(1)\r\n  const [statusFilter, setStatusFilter] = useState([])\r\n  const [allContractsData, setAllContractsData] = useState([])\r\n  const [current, setCurrent] = useState(['All'])\r\n  const customer_id = localStorage.getItem(\"customer_id\");\r\n\r\n  const [allJobsites , setAllJobsites] = useState(false);\r\n  const [allCustomers , setAllCustomers] = useState(false);\r\n  const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n  const [selectedCustomerFilter , setSelectedCustomerFilter] = useState(false);\r\n  const [selectedJobsiteFilter , setSelectedJobsiteFilter] = useState(false);\r\n  const [selectedTypeFilter , setSelectedTypeFilter] = useState(false);\r\n  const [selectedStatusFilter , setSelectedStatusFilter] = useState(false);\r\n  const [selectedFilter , setSelectedFilter] = useState(false);\r\n  const tok = localStorage.getItem('token')\r\n\r\n  const headers = [\r\n    { label: \"Sr. No\", key: \"sr_no\" },\r\n    { label: \"ID\", key: \"id\" },\r\n    { label: \"Customer Name\", key: \"customer_name\" },\r\n    { label: \"Jobsite\", key: \"jobsite_name\" },\r\n    { label: \"Commence On\", key: \"commence_on\" },\r\n    { label: \"Expired On\", key: \"expire_on\" },\r\n    { label: \"Status\", key: \"status\" }\r\n  ];\r\n\r\n  // const getPdf = async () => {\r\n  //   try {\r\n  //     const response = await axios.post(\r\n  //       \"/api/tc/get-customers\",\r\n  //       {\r\n  //         page_index: setPage,\r\n  //         search: searchText ? searchText : null,\r\n  //         statuses: statusFilter || [\"ACTIVE\", \"INACTIVE\"],\r\n  //         export_type: \"pdf\"\r\n  //       },\r\n  //       {\r\n  //         headers: {\r\n  //           \"content-type\": \"application/json\",\r\n  //           Authorization: `Bearer ${tok}`\r\n  //         },\r\n  //       }\r\n  //     );\r\n  //     console.log(response.data.url); // add this line to log the PDF URL\r\n  //     if (response.data.status) {\r\n  //       return response.data.url;\r\n  //     }\r\n  //   } catch (error) {\r\n  //     console.log(error);\r\n  //   }\r\n  // };\r\n  \r\n\r\n  // async function downloadPDF() {\r\n  //   try {\r\n  //     const pdfUrl = await getPdf();\r\n  //     if (pdfUrl) {\r\n  //       window.open(pdfUrl);\r\n  //     }\r\n  //   } catch (error) {\r\n  //     console.error(\"Error downloading PDF:\", error);\r\n  //   }\r\n  // }\r\n  // const handleClick = () => {}\r\n\r\n  const handleFilterClick = (e) => {\r\n    setCurrent([e.key])\r\n    if(e.key === 'ACTIVE') {\r\n      setStatusFilter(['ACTIVE'])\r\n    }else if(e.key === 'INACTIVE') {\r\n      setStatusFilter(['INACTIVE'])\r\n    } else {\r\n      setStatusFilter([])\r\n    }\r\n  }\r\n\r\n  const getAllJobsites = () => {\r\n    axios({\r\n      method: 'post',\r\n      url: \"/api/tc/get-customer-job-sites\",\r\n      data: {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        customer_id: null,\r\n        search : null\r\n      }\r\n    }).then((response) => {\r\n        if (response.data.success) {\r\n          setAllJobsites(response.data.data.data)\r\n        }\r\n        console.log(\"Job sites data fetched\")\r\n        console.log(response.data.data.data)\r\n    }).catch((err) => {\r\n        console.log(err)\r\n    });\r\n  };\r\n  \r\n  const getAllCustomers = () => {\r\n    axios({\r\n      method: 'post',\r\n      url: \"/api/tc/get-customers\",\r\n      data: {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        customer_id: null,\r\n        search : null\r\n      }\r\n    }).then((response) => {\r\n        if (response.data.success) {\r\n          setAllCustomers(response.data.data.data)\r\n        }\r\n        console.log(\"Customers data fetched\")\r\n        console.log(response.data.data.data)\r\n    }).catch((err) => {\r\n        console.log(err)\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n    .post(\r\n      \"/api/tc/get-work-orders\",\r\n      {\r\n        page_index: 1,\r\n        page_size: 100000,\r\n        search : null,\r\n        customer_id: customer_id,\r\n        ...id && {contract_id: +id}\r\n      },\r\n    )\r\n    .then((response) => {\r\n      let res = response.data.data.data;\r\n\r\n      let fdata = res.map((elem, index) => {\r\n        return {\r\n          sr_no: index+1,\r\n          key: elem.id,\r\n          id: elem.id,\r\n          customer_name: elem.customer_name || elem.tc_customer_id,\r\n          jobsite_name: elem.job_site_name || (elem.tc_customer_job_site_id || '-'),\r\n          contract_type: elem.type,\r\n          commence_on: moment(elem.start_date).format(\"DD-MM-YYYY\"),\r\n          expire_on: moment(elem.end_date).format(\"DD-MM-YYYY\"),\r\n          contract_type: elem.type,\r\n          status: elem.status,\r\n        };\r\n      });\r\n\r\n      setAllContractsData(fdata);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n\r\n    getAllCustomers();\r\n    getAllJobsites();\r\n  }, []);\r\n\r\n  const menuFilter = (\r\n    <Menu onClick={handleFilterClick} selectedKeys={current}>\r\n      <Menu.Item key={'All'}>All</Menu.Item>\r\n      <Menu.SubMenu title=\"Status\">\r\n        <Menu.Item key={'AllStatus'}>All</Menu.Item>\r\n        <Menu.Item key={'ACTIVE'}>ACTIVE</Menu.Item>\r\n        <Menu.Item key={'INACTIVE'}>INACTIVE</Menu.Item>\r\n      </Menu.SubMenu>\r\n    </Menu>\r\n  );\r\n\r\n  const drawerHandler = () => {\r\n    setDrawerIsOpen((prevState) => {\r\n      console.log(\"Drawer \" + (!prevState ? 'Open':'Closed'));\r\n\r\n      return !prevState\r\n    });\r\n  };\r\n\r\n  const handleDrawerOk = () => {\r\n    setSelectedFilter((previousState) => !previousState)\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  const handleDrawerReset = () => {\r\n    setSelectedFilter((previousState) => !previousState)\r\n    setSelectedCustomerFilter(false)\r\n    setSelectedJobsiteFilter(false)\r\n    setSelectedTypeFilter(false)\r\n    setSelectedStatusFilter(false)\r\n\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  const onDrawerClose = () => {\r\n    console.log(\"Closed\")\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='d-flex justify-content-between'>\r\n        <PageHeading\r\n          // icon={UserManagementIcon}\r\n          title=\"Work Order\"\r\n        />\r\n        <div className=\"d-flex justify-content-between mb-3\">\r\n          <div className=\" d-flex align-items-center justify-content-between mr-2\">\r\n            <SearchBox setSearchText={setSearchText} />\r\n\r\n            {\r\n              !id &&  <Button className=\"d-flex align-items-center ml-2\" onClick={drawerHandler}>\r\n              <Icon className=\"mr-2\" component={FilterIcon} />\r\n              Filters\r\n            </Button>\r\n            }\r\n\r\n            <CSVLink data={allContractsData} \r\n              headers={headers} \r\n              filename={\"All-Work-Orders.csv\"}\r\n            >\r\n              <Button className=\"d-flex align-items-center ml-2\" >\r\n                <img className=\"mr-2\" src={exportIcon} alt=\"exportIcon\"></img>Export\r\n              </Button>\r\n            </CSVLink>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <ContractTable setsetPage={setsetPage} searchText={searchText} statuses={statusFilter} \r\n        selectedCustomerFilter={selectedCustomerFilter} selectedJobsiteFilter={selectedJobsiteFilter} \r\n        selectedStatusFilter={selectedStatusFilter} \r\n        selectedFilter={selectedFilter} selectedTypeFilter={selectedTypeFilter} id={id}/>\r\n      </div>\r\n      <div>\r\n      <Drawer title=\"Filter\"\r\n          placement=\"right\"\r\n          onClose={onDrawerClose} \r\n          open={drawerIsOpen}\r\n          closable={true}\r\n          // getContainer={false}\r\n          visible={drawerIsOpen}\r\n          footer={[\r\n            <Button key={'submit'} style={{ color: '#F5F5F5' }} type=\"primary\" className='font-weight-bold mr-2' onClick={handleDrawerOk}>Apply</Button>,\r\n            <Button key={'cancel'} style={{ color: '#000B23' }} onClick={() => {handleDrawerReset()}} className='font-weight-bold'>Reset</Button>,\r\n          ]}\r\n        >\r\n          <div className=\"mb-2\">\r\n            <h4>Customer</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Jobsite\"\r\n                // optionFilterProp=\"children\"\r\n                // filterOption={(input, option) => (option?.title ?? '').toString().toLowerCase()?.includes(input?.toLowerCase())}\r\n                // filterSort={(optionA, optionB) =>\r\n                //     (optionA?.label ?? '').toString().toLowerCase().localeCompare((optionB?.label ?? '').toString().toLowerCase())\r\n                // }\r\n                value={selectedCustomerFilter}\r\n                onChange={(e) => {setSelectedCustomerFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                {allCustomers && allCustomers.map((val, id) => (\r\n                    <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n                ))}\r\n            </Select>\r\n          </div>\r\n          <div className=\"mb-2\">\r\n            <h4>Jobsite</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Jobsite\"\r\n                value={selectedJobsiteFilter}\r\n                onChange={(e) => {setSelectedJobsiteFilter(e)}}\r\n                className=\"w-100\"\r\n            >    \r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                {allJobsites && allJobsites.map((val, id) => (\r\n                    <Select.Option title={val.name} key={id} value={val?.id}>{val.name}</Select.Option>\r\n                ))}\r\n            </Select>\r\n          </div>\r\n          {/* <div className='mb-2'>\r\n            <h4>Contract Type</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Status\"\r\n                value={selectedTypeFilter}\r\n                onChange={(e) => {setSelectedTypeFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                <Select.Option title={'Ad Hoc'} key={'Ad Hoc'} value={'Ad Hoc'}>{'Ad Hoc'}</Select.Option>\r\n                <Select.Option title={'Routine'} key={'Routine'} value={'Routine'}>{'Routine'}</Select.Option>\r\n            </Select>\r\n          </div> */}\r\n          {/* <div>\r\n            <h4>Status</h4>\r\n            <Select\r\n                showSearch\r\n                placeholder=\"Status\"\r\n                value={selectedStatusFilter}\r\n                onChange={(e) => {setSelectedStatusFilter(e)}}\r\n                className=\"w-100\"\r\n            >\r\n                <Select.Option title={'None'} key={'None'} value={null}>{'None'}</Select.Option>\r\n                <Select.Option title={'Active'} key={'Active'} value={'Active'}>{'Active'}</Select.Option>\r\n                <Select.Option title={'Expired'} key={'Expired'} value={'Expired'}>{'Expired'}</Select.Option>\r\n            </Select>\r\n          </div> */}\r\n        </Drawer>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default WorkOrder","import { Card } from 'antd'\r\nimport moment from 'moment'\r\nimport React, { useState } from 'react'\r\n\r\nfunction BasicDetails({customerData}) {\r\n\r\n  return (\r\n    <div>\r\n      <Card style={{ background: \"#FAFAFB\", textAlign: 'start' }} >\r\n        <div className='d-flex justify-content-between'>\r\n          <div className='w-25'>\r\n            <div className='d-flex justify-content-start my-1'>\r\n               <h5>Customer Name: &emsp;</h5>\r\n            </div>\r\n            <div className='d-flex justify-content-start my-1'>\r\n              <h5>Job Site Name: &emsp;</h5>\r\n            </div>\r\n            <div className='d-flex justify-content-start my-1'>\r\n              <h5>Commence Date: &emsp;</h5>\r\n            </div>\r\n            <div className='d-flex justify-content-start my-1'>\r\n              <h5>Type: &emsp;</h5>\r\n            </div>\r\n          </div>\r\n          <div className='w-75'>\r\n            <div className='d-flex justify-content-start my-1'>\r\n              <h5>{ customerData.customer_name }</h5>\r\n            </div>\r\n            <div className='d-flex justify-content-start my-1'>\r\n              <h5>{ customerData.job_site_name }</h5>\r\n            </div>\r\n            <div className='d-flex justify-content-start my-1'>\r\n              <h5>{ moment(customerData.start_date).format(\"DD-MM-YYYY\") }</h5>\r\n             </div> \r\n            <div className='d-flex justify-content-start my-1'>\r\n              <h5>{ customerData.type }</h5>\r\n              </div>\r\n\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BasicDetails\r\n\r\n// \"tc_customer_id\": 18,\r\n// \"tc_customer_job_site_id\": 19,\r\n// \"tc_quotation_id\": 14,\r\n// \"start_date\": \"2025-02-20\",\r\n// \"end_date\": null,\r\n// \"reminder_date\": null,\r\n// \"type\": \"None\",\r\n// \"created_at\": \"2025-02-19 06:17:07\",\r\n// \"updated_at\": \"2025-02-19 06:17:07\",\r\n// \"reminders\": \"[]\",\r\n// \"status\": \"Upcoming\",\r\n// \"customer_name\": \"Tony Test Co\",\r\n// \"job_site_name\": \"Test Location KS\",\r\n// \"customer_image\": \"https://grand-energy.s3.ap-southeast-1.amazonaws.com/task_document/1736995329359-sMN7.jpeg\",\r\n// \"tasks\": []","import PageHeading from \"components/shared-components/PageHeading/PageHeading\";\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\nimport {\r\n  AddressDetailsActiveIcon,\r\n  AddressDetailsIcon,\r\n  AttendanceManagementActiveIcon,\r\n  AttendanceManagementIcon,\r\n  BasicDetailsActiveIcon,\r\n  BasicDetailsIcon,\r\n} from \"views/app-views/UserManagement/SvgIcons\";\r\n// import AttendanceManagementIcons from 'assets/svg/AttendanceManagement.svg'\r\nimport { Button, Tabs } from \"antd\";\r\nimport Icon from \"@ant-design/icons\";\r\nimport BasicDetails from \"./BasicDetails\";\r\n\r\nimport { UserManagementIcon } from \"configs/svgIcons\";\r\nimport plusIcon from \"assets/svg/plus.svg\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Reminder from \"./Reminder\";\r\nimport WorkOrder from \"../../WorkdOrder/WorkOrder\";\r\nimport Service from \"../../ServiceTimeSheet/WorkOrder\";\r\n\r\nconst tabs = [\r\n  {\r\n    title: \"Basic Details\",\r\n\r\n\r\n  },\r\n  {\r\n    title: \"Work Orders\",\r\n  },\r\n  {\r\n    title: \"Service Entry Sheets\",\r\n  }\r\n\r\n\r\n];\r\n\r\nfunction ContractView() {\r\n  const param = useParams()\r\n\r\n  const [customerData, setCustomerData] = useState({\r\n    reminders: []\r\n  });\r\n\r\n  const [currActiveKey, setCurrActiveKey] = useState(\"1\");\r\n  const tabChangeHandler = (key) => {\r\n    setCurrActiveKey(key);\r\n  };\r\n\r\n  const nextHandler = () => {\r\n    if (+currActiveKey < 3) {\r\n      const newKey = +currActiveKey + 1;\r\n\r\n      setCurrActiveKey(newKey.toString());\r\n    }\r\n  };\r\n  const preHandler = () => {\r\n    if (+currActiveKey <= 3) {\r\n      const newKey = +currActiveKey - 1;\r\n\r\n      setCurrActiveKey(newKey.toString());\r\n    }\r\n  };\r\n\r\n  const content = [\r\n    <BasicDetails customerData={customerData} />,\r\n    <WorkOrder id={param.id}/>,\r\n    <Service id={param.id}/>,\r\n    // <Reminder customerData={customerData} />,\r\n  ];\r\n\r\n  const extraBottons = (\r\n    <Link to={`/app/customer-management/customer-accounts/add-new-customer-user/${param.id}`}>\r\n      <Button className=\"d-flex align-items-center\" type=\"primary\" size=\"large\">\r\n        <img className=\"mr-2\" src={plusIcon} alt=\"plusIcon\"></img>\r\n        Add New\r\n      </Button>\r\n    </Link>\r\n  );\r\n\r\n  const [hideBasicDetail, setHideBasicDetail] = useState(false)\r\n  const location = useLocation()\r\n\r\n\r\n  const getContractData = () => {\r\n    axios\r\n      .post(\r\n        \"/api/tc/get-contract\",\r\n        {\r\n          id: +param.id,\r\n        },\r\n      )\r\n      .then((response) => {\r\n        let res = response.data.data;\r\n\r\n        setCustomerData(res);\r\n\r\n\r\n\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n  useEffect(() => {\r\n    getContractData();\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title={\"Contract Management / Contract List / View Contract\"}\r\n        svg={UserManagementIcon}\r\n      />\r\n\r\n      <Tabs\r\n        activeKey={currActiveKey}\r\n        size=\"large\"\r\n        onChange={tabChangeHandler}\r\n\r\n      >\r\n        {/* <Tabs.TabPane\r\n          tab={\r\n            <span className=\"d-flex align-items-center hover-color\">\r\n\r\n              {tabs[0].title}\r\n            </span>\r\n          }\r\n          key=\"1\"\r\n\r\n        >\r\n          {content[0]}\r\n        </Tabs.TabPane> */}\r\n\r\n        {\r\n          content.map((item, index) => {\r\n            return (\r\n              <Tabs.TabPane\r\n                tab={\r\n                  <span className=\"d-flex align-items-center hover-color\">\r\n\r\n                    {tabs[index].title}\r\n                  </span>\r\n                }\r\n                key={(index + 1).toString()}\r\n\r\n              >\r\n                {item}\r\n              </Tabs.TabPane>\r\n            )\r\n          })\r\n        }\r\n\r\n\r\n      </Tabs>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ContractView;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"Service_card__y5GL6\",\"add_details\":\"Service_add_details__8-hRl\",\"total_amt\":\"Service_total_amt__ygPxt\",\"tag\":\"Service_tag__HCSQT\",\"send_btn\":\"Service_send_btn__XVBom\",\"action\":\"Service_action__MNCvp\"};","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport {\r\n    Card,\r\n    Typography,\r\n    Col,\r\n    Row,\r\n    List,\r\n    Divider,\r\n    Tag,\r\n    Button,\r\n    Select,\r\n    Table,\r\n    DatePicker,\r\n    Modal,\r\n    Input,\r\n    message,\r\n    Tabs\r\n} from \"antd\";\r\nimport Icon from \"@ant-design/icons\";\r\nimport PageHeading from \"components/shared-components/PageHeading/PageHeading\";\r\n\r\nimport logo from \"assets/grand-energy-logo-small.png\";\r\nimport { ItemsAndServicesPageIcon } from \"assets/svg/icon\";\r\nimport HandBagImg from \"assets/HandBag.png\";\r\nimport SneakersImg from \"assets/Sneakers.png\";\r\n// import { PdfIcon } from \"../../../ItemsAndServices/svgIcons\";\r\nimport generatePDF, { Margin } from 'react-to-pdf';\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n// import Modal from \"components/UI/Modal\";\r\n// import { Link } from \"react-router-dom\";\r\n// import logo from \"assets/grand-energy-logo.png\";\r\n// import { SendIcon } from \"assets/svg/icon\";\r\n\r\nimport classes from \"./Service.module.css\";\r\nimport { PdfIcon } from \"views/app-views/ItemsAndServices/svgIcons\";\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst options = {\r\n    page: {\r\n        margin: Margin.SMALL,\r\n    }\r\n};\r\n\r\nconst ViewContract = () => {\r\n    const targetRef = useRef();\r\n    const history = useHistory();\r\n    const param = useParams();\r\n    const [reminder, setReminder] = useState([]);\r\n    const [customerData, setCustomerData] = useState({\r\n        customerId: 0,\r\n        email: '',\r\n        name: '',\r\n        phone: '',\r\n        status: '',\r\n        profile_pic: '',\r\n        contact_name: '',\r\n        office_contact_number: '',\r\n        uen_number: '',\r\n        postal_code: '',\r\n        block_number: '',\r\n        level_number: '',\r\n        unit_number: '',\r\n        street_number: '',\r\n        country: '',\r\n        created_by: '',\r\n        other_details: {}\r\n    });\r\n    const [quoteData, setQuoteData] = useState({\r\n        id: 0,\r\n        customer_id: '',\r\n        jobsite_id: '',\r\n        customerName: '',\r\n        jobsite: '',\r\n        inquiryDate: '',\r\n        quotationDate: '',\r\n        amount: '',\r\n        status: '',\r\n\r\n        tc_customer_id: '',\r\n        task_period_from_date: '',\r\n        task_period_to_date: '',\r\n        due_date: '',\r\n        sub_total: 0,\r\n        tax: 8,\r\n        discount: 0,\r\n        total: 0,\r\n        tc_quotation_file: '',\r\n        quotation_remarks: '',\r\n        line_items: [],\r\n    });\r\n    const [lineItem, setLineItem] = useState([]);\r\n    const [rawContractData, setRawContractData] = useState({});\r\n    const [contractData, setContractData] = useState({\r\n        id: 0,\r\n        customer_id: '',\r\n        jobsite_id: '',\r\n        customerName: '',\r\n        jobsite: '',\r\n        start_date: '',\r\n        end_date: '',\r\n    });\r\n    const [gstData, setGstData] = useState([]);\r\n    // const [openContractModal , setOpenContractModal] = useState(false);\r\n    // const [commencementDate , setCommencementDate] = useState(false);\r\n    // const [expiryDate , setExpiryDate] = useState(false);\r\n    // const [remindersData , setRemindersData] = useState([]);\r\n    // const [contractType , setContractType] = useState(false);\r\n    const [grandTotal, setGrandTotal] = useState([\r\n        //   { text: \"Grand Total\", amt: \"0\" }\r\n    ]);\r\n    const [dataGrandTotal, setDataGrandTotal] = useState([\r\n        //   { text: \"Subtotal\", amt: \"0\" },\r\n        //   { text: \"GST\", amt: \"0\", tag: { text: \"0%\", color: \"#0099A8\" } },\r\n    ]);\r\n\r\n    const getContractData = () => {\r\n        axios\r\n            .post(\r\n                \"/api/tc/get-service_entry_sheet\",\r\n                {\r\n                    id: +param.id,\r\n                },\r\n            )\r\n            .then((response) => {\r\n                let res = response.data.data;\r\n                setRawContractData(res);\r\n                // setContractData({\r\n                //     id: res?.id,\r\n                //     customer_id: res?.tc_customer_id,\r\n                //     jobsite_id: res?.tc_customer_job_site_id,\r\n                //     quotation_id: res?.tc_quotation_id,\r\n                //     customerName: res?.customer_name,\r\n                //     jobsite: res?.job_site_name,\r\n                //     start_date: res?.start_date,\r\n                //     end_date: res?.end_date,\r\n                //     direct_to_pc: res?.direct_to_pc,\r\n                //     co_regn_no: res?.co_regn_no,\r\n                //     contract_number: res?.contract_number,\r\n                //     wbs_element: res?.wbs_element,\r\n                //     network_activity: res?.network_activity,\r\n                //     officer_in_charge: res?.officer_in_charge_name,\r\n                //     // status: res?.status || 'Quote Sent',\r\n                //     created_at: moment(res.created_at).format('DD-MM-YYYY hh:mm A')\r\n                // })\r\n                setContractData(res);\r\n\r\n                setLineItem(res?.line_items ? JSON.parse(res?.line_items) : [])\r\n                let gst_percentage = 9;\r\n                const sub_total = res.line_items ? JSON.parse(res?.line_items).reduce((acc, item) => acc + item.total, 0) : 0;\r\n                const gst_amount = (gst_percentage / 100) * sub_total || 0;\r\n                // const total_amount = sub_total + gst_amount;\r\n                let total_amount = 0;\r\n                // let subtotal_amount = res.sub_total || res.total;\r\n                // let total_amount = res.total;\r\n                // let gst_amount = (+gst_percentage/100)*subtotal_amount || 0;\r\n                if (gst_amount) {\r\n                    total_amount = sub_total + gst_amount;\r\n                }\r\n\r\n\r\n                setDataGrandTotal([\r\n                    { text: \"Subtotal\", amt: `${sub_total || 0}` },\r\n                    { text: \"GST\", amt: `${gst_amount.toFixed(2) || 0}`, tag: { text: (gst_percentage || 0) + `%`, color: \"#0099A8\" } },\r\n                ]);\r\n                setGrandTotal([\r\n                    { text: \"Grand Total\", amt: (total_amount).toFixed(2) }\r\n                ])\r\n\r\n\r\n                // if(res.total) {\r\n                //     setDataGrandTotal([\r\n                //         { text: \"Subtotal\", amt: `${subtotal_amount || 0}` },\r\n                //         { text: \"GST\", amt: `${gst_amount.toFixed(2) || 0}`, tag: { text: (gst_percentage || 0)+`%`, color: \"#0099A8\" } },\r\n                //     ]);\r\n                //     setGrandTotal([\r\n                //         { text: \"Grand Total\", amt: (total_amount).toFixed(2) }\r\n                //     ])\r\n                // }\r\n                console.log(contractData);\r\n                getQuotationData(res.tc_quotation_id)\r\n\r\n                if (res.tc_customer_id) getCustomerData(res.tc_customer_id);\r\n                // getAllGst(res.total);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const getQuotationData = (q_id) => {\r\n        axios\r\n            .post(\r\n                \"/api/tc/get-quotation\",\r\n                {\r\n                    id: +q_id,\r\n                },\r\n            )\r\n            .then((response) => {\r\n                let res = response.data.data;\r\n\r\n                setQuoteData({\r\n                    id: res?.id,\r\n                    customer_id: res?.tc_customer_id,\r\n                    jobsite_id: res?.tc_customer_job_site_id,\r\n                    customerName: res?.customer_name,\r\n                    jobsite: res?.jobsite_name,\r\n                    inquiryDate: res?.inquiry_date ? moment(res?.inquiry_date).format('DD-MM-YYYY HH:mm A') : '',\r\n                    quotationDate: moment(res?.task_period_from_date).format('DD-MM-YYYY'),\r\n                    amount: res?.total,\r\n                    status: res?.status || 'Quote Sent',\r\n\r\n                    tc_customer_id: res?.tc_customer_id,\r\n                    task_period_from_date: moment(res?.task_period_from_date),\r\n                    task_period_to_date: moment(res?.task_period_to_date),\r\n                    due_date: moment(res?.due_date).format('DD-MM-YYYY'),\r\n                    sub_total: res?.sub_total || 0,\r\n                    tax: res?.gst || 8,\r\n                    discount: res?.discount || 0,\r\n                    total: res?.total,\r\n                    tc_quotation_file: res?.tc_quotation_file,\r\n                    quotation_remarks: res?.quotation_remarks || '',\r\n                    line_items: res?.line_items || [],\r\n                })\r\n                console.log(quoteData);\r\n\r\n                if (res.tc_customer_id) getCustomerData(res.tc_customer_id);\r\n\r\n                // getAllGst(res.total);\r\n                // let subtotal_amount = res.sub_total || res.total;\r\n                // let total_amount = res.total;\r\n                // let gst_percentage = res?.tax;\r\n                // let gst_amount = (+gst_percentage/100)*subtotal_amount || 0;\r\n                // if(gst_amount) {\r\n                //     total_amount = subtotal_amount + gst_amount;\r\n                // }\r\n\r\n                // if(res.total) {\r\n                //     setDataGrandTotal([\r\n                //         { text: \"Subtotal\", amt: `${subtotal_amount || 0}` },\r\n                //         { text: \"GST\", amt: `${gst_amount.toFixed(2) || 0}`, tag: { text: (gst_percentage || 0)+`%`, color: \"#0099A8\" } },\r\n                //     ]);\r\n                //     setGrandTotal([\r\n                //         { text: \"Grand Total\", amt: (total_amount).toFixed(2) }\r\n                //     ])\r\n                // }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const getCustomerData = (cust_id) => {\r\n        axios\r\n            .post(\r\n                \"/api/tc/get-customer\",\r\n                {\r\n                    id: cust_id,\r\n                },\r\n            )\r\n            .then((response) => {\r\n                let res = response.data.data;\r\n\r\n                if (res.other_details) {\r\n                    let other_details = JSON.parse(res.other_details);\r\n                    res = { ...res, ...other_details }\r\n                }\r\n                setCustomerData({\r\n                    customerId: res.id,\r\n                    email: res.email,\r\n                    name: res.name,\r\n                    phone: res.phone,\r\n                    status: res.status,\r\n                    profile_pic: res?.profile_pic,\r\n                    contact_name: res?.contact_name,\r\n                    office_contact_number: res?.office_contact_number,\r\n                    uen_number: res?.uen_number,\r\n                    postal_code: res?.postal_code || '000000',\r\n                    block_number: res?.block_number || '',\r\n                    level_number: res?.level_number || '',\r\n                    unit_number: res?.unit_number || '',\r\n                    street_number: res?.street_number || '',\r\n                    country: res?.country || 'Singapore',\r\n                    created_by: res?.created_by || '',\r\n                    other_details: res?.other_details,\r\n                })\r\n                console.log(customerData)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    // const getAllGst = (total)=> {\r\n    //     axios({\r\n    //         method: 'post',\r\n    //         url: \"/api/tc/get-all-gsts\",\r\n    //         data: {},\r\n    //     }).then(function (response) {\r\n    //         if(response.data.success) {\r\n    //             console.log(response.data.data)\r\n    //             let res = response.data.data.data;\r\n    //             let fdata = res.map((elem, ind) => {\r\n    //               return {\r\n    //                   key: elem.id,\r\n    //                   id: elem.id,\r\n    //                   srNo: ind+1,\r\n    //                   percentage: elem.percentage,\r\n    //                   description: elem.description,\r\n    //                   created_at: moment(elem.created_at).format(\"DD-MM-YYYY\"),\r\n    //                   updated_at: moment(elem.updated_at).format(\"DD-MM-YYYY\"),\r\n    //               };\r\n    //             });\r\n    //             setGstData(fdata);\r\n    //             console.log(fdata)\r\n    //             let gst_percentage = fdata[fdata.length-1].percentage || 0;\r\n    //             let gst_amount = ((gst_percentage/100)*total);\r\n    //             let total_amount = total + (gst_amount || 0)\r\n\r\n    //             if(total) {\r\n    //               setDataGrandTotal([\r\n    //                 { text: \"Subtotal\", amt: `${total || 0}` },\r\n    //                 { text: \"GST\", amt: `${gst_amount.toFixed(2) || 0}`, tag: { text: `${gst_percentage || 9}%`, color: \"#0099A8\" } },\r\n    //               ]);\r\n    //               setGrandTotal([\r\n    //                 { text: \"Grand Total\", amt: (total_amount || 0).toFixed(2) }\r\n    //               ])\r\n    //             }\r\n    //         }\r\n    //     }).catch(function (error) {\r\n    //         console.log(error);\r\n    //     });\r\n    // };\r\n\r\n    useEffect(() => {\r\n        getContractData();\r\n    }, []);\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <PageHeading\r\n                svg={ItemsAndServicesPageIcon}\r\n                title=\"Contracts / View Work Order\"\r\n            />\r\n          \r\n                    <>\r\n                        <Card className=\"quotation-card\">\r\n                            <div ref={targetRef}>\r\n                                <Card className={classes.add_details}>\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <div>\r\n                                            <Text strong>{customerData.name}</Text>\r\n                                            <br />\r\n                                            <Text>{`${customerData.block_number} ${customerData.street_number}, ${customerData.level_number}, ${customerData.unit_number}`}</Text>\r\n                                            <br />\r\n                                            <Text>{`${customerData.country}, ${customerData.postal_code}`}</Text>\r\n                                            <br />\r\n                                            <Text strong>Customer ID: </Text><Text>{customerData.customerId}</Text>\r\n                                            <br />\r\n                                            <Text strong>Tel Number: </Text><Text>{customerData.phone}</Text>\r\n                                            <br />\r\n                                            <Text strong>Jobsite: </Text><Text>{contractData.job_site_name}</Text>\r\n                                        </div>\r\n                                        <div className=\"text-left pr-4\">\r\n                                            <div style={{ fontSize: '1.5rem', fontWeight: '700' }} >\r\n                                                Service Entry Sheet\r\n                                            </div>\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <div className=\"mr-5\">\r\n                                                    <Text strong>Service Entry No: </Text>\r\n                                                    <br />\r\n                                                    <Text strong>Target Completion Date: </Text>\r\n                                                    <br />\r\n                                                    <Text strong>Actual Completion Date: </Text>\r\n                                                    <br />\r\n                                                    <Text strong>GL Number</Text>\r\n                                                    <br />\r\n                                                    <Text strong>Co Regn No</Text>\r\n                                                    <br />\r\n                                                    <Text strong>project_number</Text>\r\n                                              \r\n                                                    \r\n\r\n\r\n                                                </div>\r\n                                                <div>\r\n                                                    <Text>#{contractData.id}</Text>\r\n                                                    <br />\r\n                                                    <Text>{ moment(contractData.target_completion_date).format(\"DD-MM-YYYY\")}</Text>\r\n                                                    <br />\r\n                                                    <Text>{ moment(contractData.actual_completion_date).format(\"DD-MM-YYYY\")}</Text>\r\n                                                    <br />\r\n                                                    <Text>{\r\n                                                        contractData.gl_number\r\n                                                        }</Text>\r\n                                                    <br />\r\n                                                    <Text>{contractData.co_regn_no}</Text>\r\n                                                    <br />\r\n                                                    <Text>{contractData.project_number}</Text>\r\n                                                    <br />\r\n                                                   \r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </Card>\r\n\r\n                                <div>\r\n                                    <Row>\r\n                                        <Col span={3}>\r\n                                            <Title level={4}>Sr. No.</Title>\r\n                                            <List\r\n                                                // dataSource={dataItems}\r\n                                                dataSource={lineItem}\r\n                                                renderItem={(item, index) => (\r\n                                                    <List.Item key={item.name} className=\" pl-0 border-0\">\r\n                                                        {index + 1}\r\n                                                    </List.Item>\r\n                                                )}\r\n                                            />\r\n                                        </Col>\r\n                                        <Col span={21}>\r\n                                            <Row>\r\n                                                <Col span={8}>\r\n                                                    <Title level={4}>Description</Title>\r\n                                                    <List\r\n                                                        // dataSource={dataServices}\r\n                                                        dataSource={lineItem}\r\n                                                        renderItem={(item) => (\r\n                                                            <List.Item key={item.name} className=\"pl-0 border-0\">\r\n                                                                <div\r\n                                                                    style={{ height: \"32px\" }}\r\n                                                                    className=\"d-flex align-items-center\"\r\n                                                                >\r\n                                                                    {item.name}\r\n                                                                </div>\r\n                                                            </List.Item>\r\n                                                        )}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col span={5}>\r\n                                                    <Title level={4}> Qty</Title>\r\n                                                    <List\r\n                                                        // dataSource={dataQty}\r\n                                                        dataSource={lineItem}\r\n                                                        renderItem={(item) => (\r\n                                                            <List.Item key={item.quantity} className=\"border-0\">\r\n                                                                <div\r\n                                                                    style={{ height: \"32px\" }}\r\n                                                                    className=\"d-flex align-items-center\"\r\n                                                                >\r\n                                                                    {item.quantity}\r\n                                                                </div>\r\n                                                            </List.Item>\r\n                                                        )}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col span={5}>\r\n                                                    <Title level={4}>Unit </Title>\r\n                                                    <List\r\n                                                        // dataSource={dataPrice}\r\n                                                        dataSource={lineItem}\r\n                                                        renderItem={(item) => (\r\n                                                            <List.Item key={item.price} className=\"pl-0 border-0\">\r\n                                                                <div\r\n                                                                    style={{ height: \"32px\" }}\r\n                                                                    className=\"d-flex align-items-center\"\r\n                                                                >\r\n                                                                    {item.price}\r\n                                                                </div>\r\n                                                            </List.Item>\r\n                                                        )}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col span={6}>\r\n                                                    <Title level={4}>SUBTOTAL(S$)</Title>\r\n                                                    <List\r\n                                                        // dataSource={dataTotal}\r\n                                                        dataSource={lineItem}\r\n                                                        renderItem={(item) => (\r\n                                                            <List.Item key={item.total} className=\"pl-0 border-0\">\r\n                                                                <div\r\n                                                                    style={{ height: \"32px\" }}\r\n                                                                    className=\"d-flex align-items-center\"\r\n                                                                >\r\n                                                                    {item.total}\r\n                                                                </div>\r\n                                                            </List.Item>\r\n                                                        )}\r\n                                                    />\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </div>\r\n                                <Divider />\r\n                                <div className=\"d-flex justify-content-end\">\r\n                                    <Row\r\n                                        style={{ width: \"40%\" }}\r\n                                        className=\"d-flex justify-content-center\"\r\n                                    >\r\n                                        <Col span={12}>\r\n                                            <List\r\n                                                dataSource={dataGrandTotal}\r\n                                                renderItem={(item) => (\r\n                                                    <List.Item\r\n                                                        key={item.text}\r\n                                                        className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                                                    >\r\n                                                        <div className=\"d-flex align-items-center \">\r\n                                                            <Text strong>{item.text}</Text>\r\n                                                            {item.tag && (\r\n                                                                <div className={`${classes.total_amt} align-items-center`}>\r\n                                                                    {/* <Tag\r\n                                      color={item.tag.color}\r\n                                      className={`h-100 w-100 ${classes.tag}`}\r\n                                      style={{borderRadius: '1.5px', paddingTop: '1px'}}\r\n                                      >\r\n                                      {item.tag.text}\r\n                                      </Tag> */}\r\n                                                                    <span style={{ background: (item.tag.color), padding: '1.5px 4px' }}\r\n                                                                        className=\"ml-2 \"\r\n                                                                    >{item.tag.text}</span>\r\n                                                                </div>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    </List.Item>\r\n                                                )}\r\n                                            />\r\n                                        </Col>\r\n                                        <Col span={12}>\r\n                                            <List\r\n                                                dataSource={dataGrandTotal}\r\n                                                renderItem={(item) => (\r\n                                                    <List.Item\r\n                                                        key={item.amt}\r\n                                                        className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                                                    >\r\n                                                        <div className=\"d-flex align-items-center\">S$ {item.amt}</div>\r\n                                                    </List.Item>\r\n                                                )}\r\n                                            />\r\n                                        </Col>\r\n                                        <Divider />\r\n\r\n                                        <Col span={12}>\r\n                                            <List\r\n                                                dataSource={grandTotal}\r\n                                                renderItem={(item) => (\r\n                                                    <List.Item\r\n                                                        key={item.text}\r\n                                                        className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                                                    >\r\n                                                        <div className=\"d-flex align-items-center \">\r\n                                                            <Text strong>{item.text}</Text>\r\n                                                        </div>\r\n                                                    </List.Item>\r\n                                                )}\r\n                                            />\r\n                                        </Col>\r\n                                        <Col span={12}>\r\n                                            <List\r\n                                                dataSource={grandTotal}\r\n                                                renderItem={(item) => (\r\n                                                    <List.Item\r\n                                                        key={item.amt}\r\n                                                        className=\"pl-0 border-0 d-flex justify-content-center\"\r\n                                                    >\r\n                                                        <div className=\"d-flex align-items-center\">S$ {item.amt}</div>\r\n                                                    </List.Item>\r\n                                                )}\r\n                                            />\r\n                                        </Col>\r\n                                    </Row>\r\n                                </div>\r\n\r\n                                <Divider />\r\n                                <div className=\"mt-5 d-flex justify-content-start\" style={{ fontSize: '14px' }}>\r\n                                    <div style={{ width: '40%' }}>\r\n                                        <Divider />\r\n                                        <h5><b>Grand Energy Technologies Pte Ltd</b></h5>\r\n                                        <div style={{ color: '#72849A' }}>Officer Incharge</div>\r\n                                        <div style={{ color: '#72849A' }}>{quoteData.quotationDate}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Card>\r\n\r\n                        <div className={`d-flex justify-content-between ${classes.action}`}>\r\n                            <div>\r\n                                <Button onClick={() => { history.goBack() }}>\r\n                                    Back\r\n                                </Button>\r\n                            </div>\r\n                            <Button onClick={() => {\r\n                                console.log(\"Downloading Contract...\");\r\n                                generatePDF(targetRef, options, { filename: 'Contract.pdf' });\r\n                            }}>\r\n                                <Icon component={PdfIcon} />\r\n                                Download PDF\r\n                            </Button>\r\n                        </div></>\r\n \r\n              \r\n  \r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default ViewContract;\r\n","import React from \"react\";\r\nimport { Route , Redirect , useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { APP_PREFIX_PATH, AUTH_PREFIX_PATH } from 'configs/AppConfig'\r\n\r\n\r\nimport Quotations from \"./Quotations/Quotations\";\r\nimport AddNewQuotation from \"./Quotations/AddNewQuotation\";\r\nimport SendQuotation from \"./Quotations/SendQuotation/SendQuotation\";\r\nimport RecordPayments from \"./Quotations/RecordPayments/RecordPayments\";\r\nimport Contracts from \"./Contracts/Contracts\";\r\nimport ViewContract from \"./Contracts/ViewContract/ViewContract\";\r\nimport ViewQuotation from \"./Quotations/ViewQuotation/ViewQuotation\";\r\nimport GenerateInvoice from \"./Quotations/Invoice/GenerateInvoice\";\r\nimport ViewInvoice from \"./Quotations/Invoice/ViewInvoice/ViewInvoice\";\r\nimport ContractDetails from \"./Contracts/ContractDetails/ContractDetails\";\r\nimport WorkOrder from \"./WorkdOrder/WorkOrder\";\r\nimport ContractView from \"./Contracts/ContractView\";\r\nimport ServiceInvoice from \"./ServiceTimeSheet/ServiceInvoice\";\r\n// import Invoices from \"./Invoices/Invoices\";\r\n// import SendQuotation from \"./Quotations/SendQuotation/SendQuotation\";\r\n// import SendInvoice from \"./Invoices/SendInvoice/SendInvoice\";\r\n// import CreateItemId from \"./Invoices/CreateItemId/CreateItemId\";\r\n// import ViewItems from \"./Invoices/ViewItems/ViewItems\";\r\n// import ItemDetails from \"./Invoices/ViewItems/ItemDetails/ItemDetails\";\r\n// import PhysicalAssessment from \"./Invoices/ViewItems/PhysicalAssessment/PhysicalAssessment\";\r\n\r\nconst ContractManagement = () => {\r\n\r\n  const match = useRouteMatch();\r\n  return (\r\n    <div>\r\n      <Route path={`${APP_PREFIX_PATH}/contract-management`} exact>\r\n        <Redirect to={`${match.path}/quotations`} />\r\n      </Route>\r\n      <Route path={`${match.path}/quotations`} exact>\r\n        <Quotations/>\r\n      </Route>\r\n      <Route path={`${match.path}/quotations/add-new-quotation`} exact>\r\n        <AddNewQuotation/>\r\n      </Route>\r\n      <Route path={`${match.path}/quotations/add-new-quotation/:inquiry_id`} exact>\r\n        <AddNewQuotation/>\r\n      </Route>\r\n      <Route path={`${match.path}/quotations/view-quotation/:id`} exact>\r\n        <ViewQuotation/>\r\n      </Route>\r\n\r\n      {/* <Route path={`${match.path}/quotations/record-payments`} exact> */}\r\n      <Route path={`${match.path}/quotations/record-new-payment/:quotation_id`} exact>\r\n        <RecordPayments/>\r\n      </Route>\r\n\r\n      <Route path={`${match.path}/quotations/generate-invoice/:quotation_id`} exact>\r\n        <GenerateInvoice/>\r\n      </Route>\r\n      <Route path={`${match.path}/quotations/view-invoice/:id`} exact>\r\n        <ViewInvoice/>\r\n      </Route>\r\n      <Route path={`${match.path}/quotations/edit-invoice/:id`} exact>\r\n        <GenerateInvoice/>\r\n      </Route>\r\n      {/* <Route path={`${match.path}/invoices`} exact>\r\n        <Invoices/>\r\n      </Route>\r\n      <Route path={`${match.path}/invoices/send-invoice`} exact>\r\n        <SendInvoice/>\r\n      </Route>\r\n      <Route path={`${match.path}/invoices/create-item-id`} exact>\r\n        <CreateItemId/>\r\n      </Route> */}\r\n\r\n      <Route path={`${match.path}/contracts`} exact>\r\n        <Contracts />\r\n      </Route>\r\n      <Route path={`${match.path}/work-orders/view-work-order/:id`} exact>\r\n        <ViewContract/>\r\n      </Route>\r\n      <Route path={`${match.path}/work-orders/view-service/:id`} exact>\r\n        <ServiceInvoice/>\r\n      </Route>\r\n      <Route path={`${match.path}/contracts/view-contract-details/:id`} exact>\r\n        <ContractView/>\r\n      </Route>\r\n      {/* <Route path={`${match.path}/contracts/view-contract-details/:id`} exact>\r\n        <ContractDetails/>\r\n      </Route> */}\r\n      <Route path={`${match.path}/contracts/send-invoice`} exact>\r\n        <SendQuotation/>\r\n      </Route>\r\n      <Route path={`${match.path}/work-orders`} exact>\r\n        <WorkOrder/>\r\n      </Route>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContractManagement;","import { Table } from \"antd\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Icon from \"@ant-design/icons\";\r\nimport { InvoiceIcon } from \"views/app-views/UserManagement/SvgIcons\";\r\nimport { VisibilityIcon, DeleteIcon, EditIcon } from \"assets/svg/ActionsSvg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport EllipsisDropdown from \"components/shared-components/EllipsisDropdown/index\";\r\nimport { Menu } from \"antd\";\r\nimport { Button, Modal } from \"antd\";\r\nimport moment from \"moment\";\r\n\r\nfunction InvoiceTable({ searchText, custId }) {\r\n  const [invoiceData, setInvoiceData] = useState([]);\r\n  const [openDeleteModal, setOpenDeleteModal] = useState(false);\r\n\r\n  const tok = localStorage.getItem(\"token\");\r\n\r\n  const columns = [\r\n    {\r\n      title: \"ID\",\r\n      dataIndex: \"id\",\r\n    },\r\n    {\r\n      title: \"Contract ID\",\r\n      dataIndex: \"tc_contract_id\",\r\n    },\r\n    {\r\n      title: \"Jobsite Name\",\r\n      dataIndex: \"jobsite_name\",\r\n    },\r\n    {\r\n      title: \"Total Tasks\",\r\n      dataIndex: \"total_tasks\",\r\n    },\r\n    {\r\n      title: \"Net Amount (S$)\",\r\n      dataIndex: \"total\",\r\n    },\r\n    {\r\n      title: \"Paid amount (S$)\",\r\n      dataIndex: \"amount_paid\",\r\n      render: (_, record) =>{\r\n        return <div>{record.amount_paid || 0}</div>\r\n      }\r\n    },\r\n    {\r\n      title: \"Invoice Date\",\r\n      dataIndex: \"created_at\",\r\n      render: (_, record) =>{\r\n        return <div>{moment(record.created_at).format(\"DD-MM-YYYY\")}</div>\r\n      }\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      render: (_,record) => {\r\n        if(record.status==='Paid' || record.status==='PAID') return <span style={{color: \"#00AB6F\", backgroundColor: \"#EDFFF9\", padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Paid</span>\r\n        else if(record.status==='Overdue' || record.status==='OVERDUE') return <span style={{color: '#F53434', backgroundColor: '#FFF2F2', padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Overdue</span>\r\n        else return <span style={{color: '#FFC700', backgroundColor: '#FFC7001A', padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Pending</span>\r\n      }\r\n    },\r\n    {\r\n      title: \"Action\",\r\n      // dataIndex:'Action',\r\n      render: (_, record) => {\r\n        return (\r\n          <>\r\n            <EllipsisDropdown\r\n              menu={\r\n                <Menu>\r\n                  <Menu.Item>\r\n                    <Link\r\n                      to={`/app/contract-management/quotations/view-invoice/${record.id}`}\r\n                      className=\"d-flex align-items-center\"\r\n                    >\r\n                      <Icon component={InvoiceIcon} />\r\n                      View Invoice\r\n                    </Link>\r\n                  </Menu.Item>\r\n                  <Menu.Item>\r\n                    <Link\r\n                      to={`/app/contract-management/quotations/edit-invoice/${record.id}`}\r\n                      className=\"d-flex align-items-center\"\r\n                    >\r\n                      <Icon className=\"mr-2\" component={EditIcon} />\r\n                      Edit\r\n                    </Link>\r\n                  </Menu.Item>\r\n                  <Menu.Item\r\n                    onClick={() => {\r\n                      ShowDeleteModal();\r\n                    }}\r\n                  >\r\n                    <span className=\"d-flex align-items-center\">\r\n                      <Icon className=\"mr-2\" component={DeleteIcon} />\r\n                      Delete\r\n                    </span>\r\n                  </Menu.Item>\r\n\r\n                  <Modal\r\n                    visible={openDeleteModal}\r\n                    // onOk={handleOk}\r\n                    // onCancel={handleCancel}\r\n                    centered\r\n                    footer={[\r\n                      <Button\r\n                        style={{ color: \"#000B23\" }}\r\n                        onClick={handleCancel}\r\n                        className=\"font-weight-bold\"\r\n                      >\r\n                        No, Cancel\r\n                      </Button>,\r\n                      <Button\r\n                        type=\"primary\"\r\n                        className=\"font-weight-bold\"\r\n                        onClick={()=>handleOk(record.id)}\r\n                      >\r\n                        Yes, Confirm\r\n                      </Button>,\r\n                    ]}\r\n                  >\r\n                    <div\r\n                      style={{ color: \"#000B23\" }}\r\n                      className=\"font-weight-bolder font-size-md\"\r\n                    >\r\n                      Are Sure you want to delete this invoice?\r\n                    </div>\r\n                  </Modal>\r\n                </Menu>\r\n              }\r\n            />\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const handleCancel = () => {\r\n    setOpenDeleteModal(false);\r\n  };\r\n\r\n  const handleOk = (id) => {\r\n    deleteInvoice(id);\r\n    setOpenDeleteModal(false);\r\n  };\r\n\r\n  const ShowDeleteModal = () => {\r\n    setOpenDeleteModal(true);\r\n  };\r\n\r\n  const deleteInvoice = (id) => {\r\n    console.log(\"Invoice deleted\", id);\r\n    axios({\r\n      method: \"post\",\r\n      url: \"/api/tc/delete-invoice\",\r\n      data: { id: id },\r\n      headers: {\r\n        // \"Content-Type\": \"multipart/form-data; boundary=-- --WebKitFormBoundary7MA4YWxkTrZu0gW\",\r\n        Authorization: `Bearer ${tok}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setInvoiceData(\r\n          invoiceData.filter((elem) => {\r\n            return elem.id !== id;\r\n          })\r\n        );\r\n      })\r\n      .then((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const data = { customer_id: custId };\r\n    axios({\r\n      method: \"post\",\r\n      url: \"/api/tc/get-invoices\",\r\n      data: data\r\n    })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        if (response.data.success) {\r\n          setInvoiceData(\r\n            response.data.data.data.map((elem, ind) => {\r\n              return {\r\n                ...elem,\r\n                index: ind + 1,\r\n              };\r\n            })\r\n          );\r\n        } else {\r\n          console.log(response);\r\n        }\r\n      })\r\n      .then((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const data = { \r\n      customer_id: custId,\r\n      search: searchText\r\n     };\r\n    axios({\r\n      method: \"post\",\r\n      url: \"/api/tc/get-invoices\",\r\n      data: data\r\n    })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        if (response.data.success) {\r\n          setInvoiceData(\r\n            response.data.data.data.map((elem, ind) => {\r\n              return {\r\n                ...elem,\r\n                index: ind + 1,\r\n              };\r\n            })\r\n          );\r\n        } else {\r\n          console.log(response);\r\n        }\r\n      })\r\n      .then((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [searchText]);\r\n\r\n  return (\r\n    <div>\r\n      <Table\r\n        // scroll={{ x: 1300 }}\r\n        columns={columns}\r\n        dataSource={invoiceData}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InvoiceTable;\r\n","import { Table } from 'antd'\r\nimport React, { useState, useEffect } from 'react'\r\nimport Icon from \"@ant-design/icons\";\r\nimport { InvoiceIcon } from 'views/app-views/UserManagement/SvgIcons';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\n\r\n\r\nlet data = []\r\n\r\nfunction Payments({searchText, custId}) {\r\n\r\n    const [paymentsData, setPaymentsData] = useState(data)\r\n\r\n    const columns=[\r\n        {\r\n            title:'ID',\r\n            dataIndex:'id',\r\n        },\r\n        {\r\n            title:'Contract ID',\r\n            dataIndex:'id',\r\n        },\r\n        {\r\n            title:'Jobsite Name',\r\n            dataIndex:'jobSite',\r\n        },\r\n        {\r\n            title:'Total Tasks',\r\n            dataIndex:'tasks',\r\n        },\r\n        {\r\n            title:'Net Amount(S$)',\r\n            dataIndex:'netAmount',\r\n        },\r\n        {\r\n            title:'Paid Amount(S$)',\r\n            dataIndex:'paid',\r\n            render: (_, record) =>{\r\n                return <div>{record.amount_paid || 0}</div>\r\n              }\r\n        },\r\n        {\r\n            title:'Payment Date',\r\n            dataIndex:'created_at',\r\n            render: (_, record) =>{\r\n                return <div>{moment(record.created_at).format(\"DD-MM-YYYY\")}</div>\r\n            }\r\n        },\r\n        {\r\n            title:'Status',\r\n            dataIndex:'status',\r\n            render: (_,record) => {\r\n                if(record.status==='Paid' || record.status==='PAID') return <span style={{color: \"#00AB6F\", backgroundColor: \"#EDFFF9\", padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Paid</span>\r\n                else if(record.status==='Overdue' || record.status==='OVERDUE') return <span style={{color: '#F53434', backgroundColor: '#FFF2F2', padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Overdue</span>\r\n                else return <span style={{color: '#FFC700', backgroundColor: '#FFC7001A', padding: '4px 8px', borderRadius:'6px', fontWeight:'600', fontSize: '14px'}}>Pending</span>\r\n              }\r\n        },\r\n        // {\r\n        //     title:'Action',\r\n        //     render : (_,record) =>{\r\n        //         return <Link to='/app/customer-management/customer-accounts/customer-details/123/invoice'>\r\n        //                     <Icon component={InvoiceIcon}/>\r\n        //                 </Link>\r\n        //     } \r\n        // },\r\n    ]\r\n\r\n    useEffect(() => {\r\n        const data = { customer_id: custId };\r\n        axios({\r\n          method: \"post\",\r\n          url: \"/api/tc/get-payment\",\r\n          data: data\r\n        })\r\n          .then((response) => {\r\n            console.log(response.data);\r\n            if (response.data.success) {\r\n              setPaymentsData(\r\n                response.data.data.data.map((elem, ind) => {\r\n                  return {\r\n                    ...elem,\r\n                    index: ind + 1,\r\n                  };\r\n                })\r\n              );\r\n            } else {\r\n              console.log(response);\r\n            }\r\n          })\r\n          .then((err) => {\r\n            console.log(err);\r\n          });\r\n      }, []);\r\n\r\n    useEffect(() => {\r\n        const data = { \r\n            customer_id: custId,\r\n            search: searchText\r\n         };\r\n        axios({\r\n          method: \"post\",\r\n          url: \"/api/tc/get-payment\",\r\n          data: data\r\n        })\r\n          .then((response) => {\r\n            console.log(response.data);\r\n            if (response.data.success) {\r\n              setPaymentsData(\r\n                response.data.data.data.map((elem, ind) => {\r\n                  return {\r\n                    ...elem,\r\n                    index: ind + 1,\r\n                  };\r\n                })\r\n              );\r\n            } else {\r\n              console.log(response);\r\n            }\r\n          })\r\n          .then((err) => {\r\n            console.log(err);\r\n          });\r\n      }, [searchText]);\r\n\r\n    return (\r\n    <div>\r\n        <Table\r\n        // scroll={\r\n        //     {x:1300}\r\n        // }\r\n        columns={columns} dataSource={paymentsData} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Payments","export const CrossIcon = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_215_9541)\">\r\n<path d=\"M18.2995 5.70948C17.9095 5.31948 17.2795 5.31948 16.8895 5.70948L11.9995 10.5895L7.10948 5.69948C6.71948 5.30948 6.08948 5.30948 5.69948 5.69948C5.30948 6.08948 5.30948 6.71948 5.69948 7.10948L10.5895 11.9995L5.69948 16.8895C5.30948 17.2795 5.30948 17.9095 5.69948 18.2995C6.08948 18.6895 6.71948 18.6895 7.10948 18.2995L11.9995 13.4095L16.8895 18.2995C17.2795 18.6895 17.9095 18.6895 18.2995 18.2995C18.6895 17.9095 18.6895 17.2795 18.2995 16.8895L13.4095 11.9995L18.2995 7.10948C18.6795 6.72948 18.6795 6.08948 18.2995 5.70948Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_215_9541\">\r\n<rect width=\"24\" height=\"24\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\n\r\nexport const ChangeAssigneeIcon = () => (\r\n  <svg width=\"20\" height=\"18\" viewBox=\"0 0 20 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M8 8C10.21 8 12 6.21 12 4C12 1.79 10.21 0 8 0C5.79 0 4 1.79 4 4C4 6.21 5.79 8 8 8ZM8 2C9.1 2 10 2.9 10 4C10 5.1 9.1 6 8 6C6.9 6 6 5.1 6 4C6 2.9 6.9 2 8 2Z\" fill=\"#455560\"/>\r\n<path d=\"M2 14C2.22 13.28 5.31 12 8 12C8 11.3 8.13 10.63 8.35 10.01C5.62 9.91002 0 11.27 0 14V16H9.54C9.02 15.42 8.61 14.75 8.35 14H2Z\" fill=\"#455560\"/>\r\n<path d=\"M17.43 14.02C17.79 13.43 18 12.74 18 12C18 9.79 16.21 8 14 8C11.79 8 10 9.79 10 12C10 14.21 11.79 16 14 16C14.74 16 15.43 15.78 16.02 15.43C16.95 16.36 17.64 17.05 18.59 18L20 16.59C18.5 15.09 19.21 15.79 17.43 14.02ZM14 14C12.9 14 12 13.1 12 12C12 10.9 12.9 10 14 10C15.1 10 16 10.9 16 12C16 13.1 15.1 14 14 14Z\" fill=\"#455560\"/>\r\n</svg>\r\n\r\n)\r\n\r\nexport const ReportEnquiryIcon = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g clip-path=\"url(#clip0_215_9556)\">\r\n<path d=\"M12.36 6L12.76 8H18V14H14.64L14.24 12H7V6H12.36ZM14 4H5V21H7V14H12.6L13 16H20V6H14.4L14 4Z\" fill=\"#455560\"/>\r\n</g>\r\n<defs>\r\n<clipPath id=\"clip0_215_9556\">\r\n<rect width=\"24\" height=\"24\" fill=\"white\"/>\r\n</clipPath>\r\n</defs>\r\n</svg>\r\n\r\n)\r\nexport const CreateQuotationIcon = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n  <g clip-path=\"url(#clip0_886_13832)\">\r\n  <path d=\"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V8H18V20H6ZM11 19H13V18H14C14.55 18 15 17.55 15 17V14C15 13.45 14.55 13 14 13H11V12H15V10H13V9H11V10H10C9.45 10 9 10.45 9 11V14C9 14.55 9.45 15 10 15H13V16H9V18H11V19Z\" fill=\"#475569\"/>\r\n  </g>\r\n  <defs>\r\n  <clipPath id=\"clip0_886_13832\">\r\n  <rect width=\"24\" height=\"24\" fill=\"white\"/>\r\n  </clipPath>\r\n  </defs>\r\n  </svg>\r\n)\r\nexport const InquiryStatusIcon = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n  <g clip-path=\"url(#clip0_886_13838)\">\r\n  <path d=\"M11 12C13.21 12 15 10.21 15 8C15 5.79 13.21 4 11 4C8.79 4 7 5.79 7 8C7 10.21 8.79 12 11 12ZM11 6C12.1 6 13 6.9 13 8C13 9.1 12.1 10 11 10C9.9 10 9 9.1 9 8C9 6.9 9.9 6 11 6ZM5 18C5.2 17.37 7.57 16.32 9.96 16.06L12 14.06C11.61 14.02 11.32 14 11 14C8.33 14 3 15.34 3 18V20H12L10 18H5ZM20.6 12.5L15.47 17.67L13.4 15.59L12 17L15.47 20.5L22 13.91L20.6 12.5Z\" fill=\"#475569\"/>\r\n  </g>\r\n  <defs>\r\n  <clipPath id=\"clip0_886_13838\">\r\n  <rect width=\"24\" height=\"24\" fill=\"white\"/>\r\n  </clipPath>\r\n  </defs>\r\n  </svg>\r\n)"],"names":["formats","modules","toolbar","font","header","color","background","script","list","indent","content","Menu","Typography","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","InternalTimePicker","DatePicker","InternalRangePicker","RangePicker","React","props","ref","_extends","dropdownClassName","popupClassName","picker","mode","undefined","TimePicker","_a","addon","renderExtraFooter","restProps","internalRenderExtraFooter","devWarning","displayName","ViewDetailsIcon","_jsxs","width","height","viewBox","fill","xmlns","children","_jsx","clipPath","d","id","SendQuotationIcon","RecordPaymentsIcon","CreateContractIcon","Input","_ref","setOpenContractModal","quotationData","setQuoteData","quoteData","setOpenStatusModal","getQuotations","history","useHistory","match","useRouteMatch","_Fragment","EllipsisDropdown","menu","onClick","quotation_id","customer_id","customer_job_site_id","jobsite_id","disabled","status","className","Icon","component","push","concat","path","_objectSpread","TextArea","setsetPage","statuses","searchText","selectedFilter","selectedCustomerFilter","selectedJobsiteFilter","selectedStatusFilter","_useState","useState","_useState2","_slicedToArray","quotationsData","setQuotationsData","_useState3","_useState4","setJobSiteData","localStorage","getItem","_useState5","_useState6","openContractModal","_useState7","_useState8","_useState9","_useState10","commencementDate","setCommencementDate","_useState11","_useState12","setExpiryDate","_useState13","_useState14","remindersData","setRemindersData","_useState15","_useState16","contractType","setContractType","_useState17","_useState18","openStatusModal","_useState19","_useState20","setStatus","_useState21","_useState22","remark","setRemark","columns","title","dataIndex","render","_","record","jobsite","style","backgroundColor","padding","borderRadius","fontWeight","fontSize","key","Actions","updateQuotationStatus","console","log","axios","tc_customer_id","then","response","res","data","catch","error","page_index","page_size","search","fdata","map","elem","ind","tc_customer_job_site_id","customerName","customer_name","jobsite_name","inquiryDate","inquiry_date","moment","format","quotationDate","task_period_from_date","amount","total","task_period_to_date","due_date","sub_total","tax","gst","discount","tc_quotation_file","quotation_remarks","line_items","useEffect","_defineProperty","job_site_id","job_site_name","method","url","success","err","Table","dataSource","scroll","x","Modal","visible","centered","maskClosable","onCancel","footer","Button","type","Radio","size","onChange","target","value","defaultValue","defaultChecked","rows","tc_quotation_id","start_date","reminders","message","date","Select","showSearch","placeholder","event","setShowExportOption","setSelectedCustomerFilter","setSelectedJobsiteFilter","setSelectedStatusFilter","setSelectedFilter","setSearchText","allJobsites","setAllJobsites","allCustomers","setAllCustomers","drawerIsOpen","setDrawerIsOpen","allQuotationsData","setAllQuotationsData","exportHandler","prev","index","sr_no","PageHeading","SearchBox","prevState","FilterIcon","CSVLink","headers","label","filename","src","exportIcon","alt","Link","to","QuotationTable","Drawer","placement","onClose","open","closable","previousState","val","name","Dragger","Upload","form","customers","jobsData","setJobsData","setJobFile","jobFile","removeJob","jobs","filter","setValue","paymentTerm","selectedJobsite","setSelectedJobsite","uploadedFile","setUploadedFile","tok","description","provisionalQty","unitPrice","setDescription","quantity","setQuantity","setUnitPrice","openUploadPdfModal","setOpenUploadPdfModal","openJobModal","setOpenJobModal","handleCancel","filelist","image_props","multiple","action","Authorization","info","file","fileList","onDrop","dataTransfer","files","getJobSites","currPage","getFieldValue","Card","Row","align","Col","span","Form","rules","required","company","gutter","optionFilterProp","filterOption","input","option","_toString$toLowerCase","_option$title","toString","toLowerCase","includes","filterSort","optionA","optionB","_optionA$label","_optionB$label","localeCompare","margin","ReactQuill","paddingBottom","theme","InboxOutlined","_toConsumableArray","price","InputNumber","min","submitTick","_Form$useForm","useParams","inquiry_id","gstData","setGstData","customerAccountData","setCustomerAccountData","showModal","setShowModal","saveQuotaionModal","QuotationModal","getSubTotalAmount","getTotalAmount","gst_percentage","phoneNumber","phone","emailId","email","srNo","percentage","created_at","updated_at","labelCol","wrapperCol","layout","onFinish","add","validity","payment_term","remarks","goBack","msg","Form1","resetFields","htmlType","Title","Text","dataItems","image","HandBagImg","SneakersImg","dataServices","dataQty","dataPrice","dataTotal","dataGrandTotal","text","amt","tag","SendQuotationModal","svg","ItemsAndServicesPageIcon","classes","logo","strong","level","List","renderItem","item","Divider","Tag","PdfIcon","invoice_id","param","savePaymentModal","SaveRecordPaymentsModal","payment_method","PaymentRecordForm","contract_id","getData","updateStatus","InquiryStatusIcon","setPage","selectedTypeFilter","contractsData","setContractsData","expiryDate","direct_to_pc","setDirect_to_pc","co_regn_no","setCo_regn_no","contract_number","setContract_number","useLocation","wbs_element","setWbs_element","network_activity","setNetwork_activity","_useState23","_useState24","officer_in_charge","setOfficer_in_charge","_useState25","_useState26","_useState27","_useState28","_useState29","_useState30","_useState31","_useState32","_useState33","_useState34","_useState35","_useState36","allUsers","setAllUsers","columns2","_useState37","_useState38","statusStyles","isBeforeToday","isBefore","startOf","contract_type","_objectSpread2","commence_on","expire_on","end_date","_objectSpread3","_objectSpread4","reminderColumns","findIndex","time","use12Hours","newRemindersData","removeReminder","JSON","parse","_axios$post4","tc_contract_id","statusFilter","allContractsData","setAllContractsData","setSelectedTypeFilter","getStatus","ContractTable","reminder","contractData","display","justifyContent","alignItems","marginTop","workOrderId","target_completion_date","actual_completion_date","work_order_id","allServiceEntryData","setAllServiceEntryData","Date","options","page","Margin","targetRef","useRef","setReminder","customerId","profile_pic","contact_name","office_contact_number","uen_number","postal_code","block_number","level_number","unit_number","street_number","country","created_by","other_details","customerData","setCustomerData","lineItem","setLineItem","rawContractData","setRawContractData","setContractData","grandTotal","setGrandTotal","setDataGrandTotal","getQuotationData","q_id","getCustomerData","cust_id","_res","_res2","_res3","_res4","_res5","_res6","_res7","_res8","_res9","_res10","_res11","_res12","officer_in_charge_name","reduce","acc","gst_amount","total_amount","toFixed","Tabs","tab","generatePDF","Reminder","Service","contactData","setContactData","subtotal_amount","mobile","tel","address","window","jobFileUrl","allContracts","setAllContracts","getAllJobSites","setFieldsValue","getFieldsValue","_toString$toLowerCase2","_option$title2","_optionA$label2","_optionB$label2","href","invoiceData","setInvoiceData","setQuotationData","isEdit","setIsEdit","getContractDetails","invoice_due_date","getQuotationDetails","quotation_file","tc_invoice_file","invoice_remarks","FormInvoice","getContractData","discount_percentage","discount_amount","_setInvoiceData","gl_number","setGl_number","project_number","setProject_number","_objectSpread5","_objectSpread7","_axios$post","location","reload","_ref2","textAlign","tabs","currActiveKey","setCurrActiveKey","BasicDetails","WorkOrder","plusIcon","UserManagementIcon","activeKey","Route","APP_PREFIX_PATH","exact","Redirect","Quotations","AddNewQuotation","ViewQuotation","RecordPayments","GenerateInvoice","ViewInvoice","Contracts","ViewContract","ServiceInvoice","ContractView","SendQuotation","custId","openDeleteModal","setOpenDeleteModal","amount_paid","InvoiceIcon","EditIcon","ShowDeleteModal","DeleteIcon","handleOk","deleteInvoice","paymentsData","setPaymentsData","CreateQuotationIcon"],"sourceRoot":""}