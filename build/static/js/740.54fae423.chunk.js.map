{"version":3,"file":"static/js/740.54fae423.chunk.js","mappings":"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","sources":["history.js","auth/FetchInterceptor.js","services/JwtAuthService.js","views/auth-views/authentication/login-2/index.js","views/auth-views/components/LoginForm.js"],"sourcesContent":["import * as history from 'history';\r\n\r\nexport default history.createBrowserHistory();","import axios from 'axios'\r\nimport { API_BASE_URL } from 'configs/AppConfig'\r\nimport history from '../history'\r\nimport { AUTH_TOKEN } from 'redux/constants/Auth'\r\nimport { notification } from 'antd';\r\n\r\nconst service = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 60000\r\n})\r\n\r\n// Config\r\nconst ENTRY_ROUTE = '/auth/login'\r\nconst TOKEN_PAYLOAD_KEY = 'authorization'\r\nconst PUBLIC_REQUEST_KEY = 'public-request'\r\n\r\n// API Request interceptor\r\nservice.interceptors.request.use(config => {\r\n\tconst jwtToken = localStorage.getItem(AUTH_TOKEN)\r\n\t\r\n  if (jwtToken) {\r\n    config.headers[TOKEN_PAYLOAD_KEY] = jwtToken\r\n  }\r\n\r\n  if (!jwtToken && !config.headers[PUBLIC_REQUEST_KEY]) {\r\n\t\thistory.push(ENTRY_ROUTE)\r\n\t\twindow.location.reload();\r\n  }\r\n\r\n  return config\r\n}, error => {\r\n\t// Do something with request error here\r\n\tnotification.error({\r\n\t\tmessage: 'Error'\r\n\t})\r\n  Promise.reject(error)\r\n})\r\n\r\n// API respone interceptor\r\nservice.interceptors.response.use( (response) => {\r\n\treturn response.data\r\n}, (error) => {\r\n\r\n\tlet notificationParam = {\r\n\t\tmessage: ''\r\n\t}\r\n\t\r\n\t// Remove token and redirect \r\n\tif (error.response.status === 400 || error.response.status === 403) {\r\n\t\tnotificationParam.message = 'Authentication Fail'\r\n\t\tnotificationParam.description = 'Please login again'\r\n\t\tlocalStorage.removeItem(AUTH_TOKEN)\r\n\t\thistory.push(ENTRY_ROUTE)\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\tif (error.response.status === 404) {\r\n\t\tnotificationParam.message = 'Not Found'\r\n\t}\r\n\r\n\tif (error.response.status === 500) {\r\n\t\tnotificationParam.message = 'Internal Server Error'\r\n\t}\r\n\t\r\n\tif (error.response.status === 508) {\r\n\t\tnotificationParam.message = 'Time Out'\r\n\t}\r\n\r\n\tnotification.error(notificationParam)\r\n\r\n\treturn Promise.reject(error);\r\n});\r\n\r\nexport default service","import fetch from 'auth/FetchInterceptor'\r\n\r\nconst JwtAuthService = {}\r\n\r\nJwtAuthService.login = function (data) {\r\n\treturn fetch({\r\n\t\turl: '/posts',\r\n\t\tmethod: 'post',\r\n\t\theaders: {\r\n      'public-request': 'true'\r\n    },\r\n\t\tdata: data\r\n\t})\r\n}\r\n\r\nJwtAuthService.signUp = function (data) {\r\n\treturn fetch({\r\n\t\turl: '/auth/signup',\r\n\t\tmethod: 'post',\r\n\t\theaders: {\r\n      'public-request': 'true'\r\n    },\r\n\t\tdata: data\r\n\t})\r\n}\r\n\r\nexport default JwtAuthService","import React from 'react'\r\nimport LoginForm from '../../components/LoginForm'\r\nimport { Row, Col } from \"antd\";\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\n\r\n// const backgroundURL = '/img/others/img-17.jpg'\r\nconst backgroundURL = '/img/others/img-login.jpg'\r\nconst backgroundStyle = {\r\n\tbackgroundImage: `url(${backgroundURL})`,\r\n\tbackgroundRepeat: 'no-repeat',\r\n\tbackgroundSize: 'cover',\r\n\tboxShadow: 'inset 0 0 0 1000px rgba(87, 114, 255, 0.8)',\r\n}\r\n\r\nconst LoginTwo = props => {\r\n\tconst theme = useSelector(state => state.theme.currentTheme);\r\n\tlet history = useHistory();\r\n\tconst match = useRouteMatch();\r\n\r\n\treturn (\r\n\t\t<div className={`h-100 ${theme === 'light' ? 'bg-white' : ''}`}>\r\n\t\t\t<Row justify=\"center\" className=\"align-items-stretch h-100\">\r\n\t\t\t\t<Col xs={0} sm={0} md={0} lg={8}>\r\n\t\t\t\t\t<div className=\"d-flex flex-column justify-content-between h-100 px-4 pt-2\" style={backgroundStyle}>\r\n\t\t\t\t\t\t<div className=\"text-left\">\r\n\t\t\t\t\t\t\t<img src=\"/img/grand-energy-logo-white.png\" alt=\"logo\" style={{height: '60px'}}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Row justify=\"center\">\r\n\t\t\t\t\t\t\t{/* <Col xs={0} sm={0} md={0} lg={20}>\r\n\t\t\t\t\t\t\t\t<img className=\"img-fluid mb-5\" src=\"/img/others/img-login.png\" alt=\"\"/>\r\n\t\t\t\t\t\t\t\t<h1 className=\"text-white\">Welcome to emilus</h1>\r\n\t\t\t\t\t\t\t\t<p className=\"text-white\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus ullamcorper nisl erat, vel convallis elit fermentum pellentesque.</p>\r\n\t\t\t\t\t\t\t</Col> */}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-end pb-4\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{/* <span className=\"text-white\" style={{cursor: 'pointer'}} onClick={e => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\thistory.push(`/auth/terms-and-conditions-web`);\r\n\t\t\t\t\t\t\t\t}}>Terms & Conditions</span> */}\r\n\t\t\t\t\t\t\t\t{/* <span className=\"mx-2 text-white\"> | </span>\r\n\t\t\t\t\t\t\t\t<a className=\"text-white\" href=\"/#\" onClick={e => e.preventDefault()}>Privacy & Policy</a> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={20} sm={20} md={24} lg={16}>\r\n\t\t\t\t\t<div className=\"container d-flex flex-column justify-content-center h-100\">\r\n\t\t\t\t\t\t<Row justify=\"center\">\r\n\t\t\t\t\t\t\t<Col xs={24} sm={24} md={20} lg={12} xl={8}>\r\n\t\t\t\t\t\t\t\t{/* <h1>Sign In</h1> */}\r\n\t\t\t\t\t\t\t\t<h1>Login</h1>\r\n\t\t\t\t\t\t\t\t{/* <p>Don't have an account yet? <a href=\"/auth/register-2\">Sign Up</a></p> */}\r\n\t\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t<LoginForm {...props}/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default LoginTwo\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Form, Input, Divider, Alert, Checkbox } from \"antd\";\r\nimport { MailOutlined, LockOutlined } from '@ant-design/icons';\r\nimport PropTypes from 'prop-types';\r\nimport { GoogleSVG, FacebookSVG } from 'assets/svg/icon';\r\nimport CustomIcon from 'components/util-components/CustomIcon'\r\nimport {  \r\n\tshowLoading, \r\n\tshowAuthMessage, \r\n\thideAuthMessage,\r\n\tauthenticated\r\n} from 'redux/actions/Auth';\r\nimport JwtAuthService from 'services/JwtAuthService'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\"\r\nimport axios from 'axios';\r\n\r\nexport const LoginForm = (props) => {\r\n\tlet history = useHistory();\r\n\tconst [agreeToTc, setAgreeToTc] = useState(false)\r\n\tconst token = localStorage.getItem(\"token\");\r\n\r\n\tconst { \r\n\t\totherSignIn, \r\n\t\tshowForgetPassword, \r\n\t\thideAuthMessage,\r\n\t\tonForgetPasswordClick,\r\n\t\tshowLoading,\r\n\t\textra,\r\n\t\tloading,\r\n\t\tshowMessage,\r\n\t\tmessage,\r\n\t\tauthenticated,\r\n\t\tshowAuthMessage,\r\n\t\t// token,\r\n\t\tredirect,\r\n\t\tallowRedirect\r\n\t} = props\r\n\r\n\tconst onLogin = values => {\r\n\t\t// showLoading()\r\n\t\taxios({\r\n\t\t\tmethod: \"post\",\r\n\t\t\turl: \"/api/mobile-app/login\",\r\n\t\t\tdata: {\r\n\t\t\t\temail: values.email,\r\n\t\t\t\tpassword: values.password,\r\n\t\t\t\t// cristophori: true,\r\n\t\t\t\tgrandEneryCustomer: true\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then((response) => {\r\n\t\t\tshowLoading(false)\r\n\t\t\tconst res = response.data;\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res.token.token) {\r\n\t\t\t\tconst user = res.user;\r\n\t\t\t\tconst customer = res.customer;\r\n\t\t\t\tconst associate_user = res.customer_user;\r\n\t\t\t\tconsole.log(user)\r\n\t\t\t\t// console.log(localStorage.getItem(\"token\"))\r\n\t\t\t\tlocalStorage.clear();\r\n\t\t\t\taxios.defaults.headers.common['Authorization'] = 'Bearer '+ response.data.token.token;\r\n\t\t\t\tlocalStorage.setItem(\"token\", res.token.token);\r\n\t\t\t\tlocalStorage.setItem(\"user_id\", user.id);\r\n\r\n\t\t\t\tlocalStorage.setItem(\"customer_id\", customer.id);\r\n\t\t\t\tlocalStorage.setItem(\"customer_name\", customer.name);\r\n\r\n\t\t\t\tlocalStorage.setItem(\"associate_user_id\", associate_user.id);\r\n\t\t\t\tlocalStorage.setItem(\"name\", associate_user.name);\r\n\t\t\t\tlocalStorage.setItem(\"email\", associate_user.email);\r\n\t\t\t\tlocalStorage.setItem(\"profile_pic\", associate_user.profile_pic);\r\n\t\t\t\thistory.push(redirect)\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tif (res.errors) {\r\n\t\t\t\t\tconsole.log(res.errors.message);\r\n\t\t\t\t\tmessage.error(res.errors.message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error(\"Something went wrong! please try again later\");\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\r\n\t\t\tlocalStorage.removeItem(\"name\");\r\n\t\t\tlocalStorage.removeItem(\"email\");\r\n\t\t\tlocalStorage.removeItem(\"profile_pic\");\r\n\r\n\t\t\t// message.error('Invalid token expired, please login again');\r\n\t\t\treturn false;\r\n\t\t});\r\n\t};\r\n\r\n\tconst checkLogin = () => {\r\n\t\taxios({\r\n\t\t\tmethod: 'get',\r\n\t\t\turl: \"/api/getLoggedInUsersDetails\",\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t},\r\n\t\t\tdata: {}\r\n\t\t  }).then((response) => {\r\n\t\t\tif(response.data.success) {\r\n\t\t\t  return true\r\n\t\t\t} else {\r\n\t\t\t  return false\r\n\t\t\t}\r\n\t\t  }).catch((err) => {\r\n\t\t\tconsole.log(err.message);\r\n\t\t\tif(err.status == 401) {\r\n\t\t\t\t// message.error('Session expired! please login again');\r\n\t\t\t\tlocalStorage.clear();\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error('Something went wrong! please try again later');\r\n\t\t\t}\r\n\t\t\treturn false\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token && allowRedirect) {\r\n\t\t\tlet is_logged_in = checkLogin();\r\n\t\t\tif(is_logged_in) history.push(redirect)\r\n\t\t\thistory.push(redirect)\r\n\t\t}\r\n\r\n\t\tif(showMessage) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\thideAuthMessage();\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t}, [])\r\n\t\r\n\r\n\t\r\n\t// useEffect(() => {\r\n\t// \tif (token && allowRedirect) {\r\n\t// \t\tconsole.log(\"token is there\")\r\n\t// \t\tlet log = checkLogin();\r\n\t// \t\tif(log) history.push(redirect)\r\n\t// \t\thistory.push(redirect)\r\n\t// \t}\r\n\r\n\t// \tif(showMessage) {\r\n\t// \t\tsetTimeout(() => {\r\n\t// \t\t\thideAuthMessage();\r\n\t// \t\t}, 3000);\r\n\t// \t}\r\n\t// });\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<motion.div \r\n\t\t\t\tinitial={{ opacity: 0, marginBottom: 0 }} \r\n\t\t\t\tanimate={{ \r\n\t\t\t\t\topacity: showMessage ? 1 : 0,\r\n\t\t\t\t\tmarginBottom: showMessage ? 20 : 0 \r\n\t\t\t\t}}> \r\n\t\t\t\t<Alert type=\"error\" showIcon message={message}></Alert>\r\n\t\t\t</motion.div>\r\n\t\t\t<Form \r\n\t\t\t\tlayout=\"vertical\" \r\n\t\t\t\tname=\"login-form\"\r\n\t\t\t\tonFinish={onLogin}\r\n\t\t\t>\r\n\t\t\t\t<Form.Item \r\n\t\t\t\t\tname=\"email\" \r\n\t\t\t\t\tlabel=\"Email\" \r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Please input your email',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\tmessage: 'Please enter a validate email!'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<Input prefix={<MailOutlined className=\"text-primary\" />}/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item \r\n\t\t\t\t\tname=\"password\" \r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<div className={`${showForgetPassword? 'd-flex justify-content-between w-100 align-items-center' : ''}`}>\r\n\t\t\t\t\t\t\t<span>Password</span>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tshowForgetPassword && \r\n\t\t\t\t\t\t\t\t<span \r\n\t\t\t\t\t\t\t\t\tonClick={() => onForgetPasswordClick} \r\n\t\t\t\t\t\t\t\t\tclassName=\"cursor-pointer font-size-sm font-weight-normal text-muted\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tForget Password?\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t} \r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Please input your password',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.Password prefix={<LockOutlined className=\"text-primary\" />}/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{/* <Form.Item>\r\n\t\t\t\t\t<Checkbox checked={agreeToTc} onClick={(e) => setAgreeToTc(prev => !prev)}>\r\n\t\t\t\t\tI agree to <span style={{color: '#3e79f7'}} onClick={e => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\thistory.push(`/auth/terms-and-conditions-web`);\r\n\t\t\t\t\t\t\t\t}}>terms & conditions</span>\r\n                    </Checkbox>\r\n\t\t\t\t</Form.Item> */}\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" block>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{/* {\r\n\t\t\t\t\totherSignIn ? renderOtherSignIn : null\r\n\t\t\t\t} */}\r\n\t\t\t\t{ extra }\r\n\t\t\t</Form>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nLoginForm.propTypes = {\r\n\totherSignIn: PropTypes.bool,\r\n\tshowForgetPassword: PropTypes.bool,\r\n\textra: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.element\r\n\t]),\r\n};\r\n\r\nLoginForm.defaultProps = {\r\n\totherSignIn: true,\r\n\t// otherSignIn: false,\r\n\tshowForgetPassword: false\r\n};\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n\tconst {loading, message, showMessage, token, redirect} = auth;\r\n  \treturn {loading, message, showMessage, token, redirect}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tshowAuthMessage,\r\n\tshowLoading,\r\n\thideAuthMessage,\r\n\tauthenticated\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm)\r\n"],"names":["history","service","axios","baseURL","API_BASE_URL","timeout","ENTRY_ROUTE","interceptors","request","use","config","jwtToken","localStorage","getItem","AUTH_TOKEN","headers","window","location","reload","error","notification","message","Promise","reject","response","data","notificationParam","status","description","removeItem","JwtAuthService","fetch","url","method","backgroundStyle","backgroundImage","concat","backgroundRepeat","backgroundSize","boxShadow","props","theme","useSelector","state","currentTheme","useHistory","useRouteMatch","_jsx","className","children","_jsxs","Row","justify","Col","xs","sm","md","lg","style","src","alt","height","xl","LoginForm","_objectSpread","_useState","useState","_useState2","_slicedToArray","token","showForgetPassword","otherSignIn","hideAuthMessage","onForgetPasswordClick","showLoading","extra","showMessage","loading","redirect","authenticated","showAuthMessage","allowRedirect","useEffect","Authorization","then","success","catch","err","console","log","clear","push","setTimeout","_Fragment","motion","initial","opacity","marginBottom","animate","Alert","type","showIcon","Form","layout","name","onFinish","values","email","password","grandEneryCustomer","res","user","customer","associate_user","customer_user","setItem","id","profile_pic","errors","label","rules","required","Input","prefix","MailOutlined","onClick","LockOutlined","Button","htmlType","block","defaultProps","mapDispatchToProps","connect","_ref","auth"],"sourceRoot":""}